INFO  04:31:11 Now listening on: http://localhost:5022
INFO  04:31:11 Application started. Press Ctrl+C to shut down.
INFO  04:31:11 Hosting environment: Development
INFO  04:31:11 Content root path: C:\MyPersonalFiles\GensparkTraining\MiniProject\MiniProjectAppSolution\MiniProjectApp\
INFO  04:32:24 Entity Framework Core 6.0.29 initialized 'LibraryManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.29' with options: None
WARN  04:32:26 Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
INFO  04:32:27 Executed DbCommand (238ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[Name], [t].[Phone], [t].[Role], [c].[UserId], [c].[BookId], [c].[Price], [c].[Quantity], [t0].[UserId], [t0].[BookId], [t0].[RentId], [t0].[Id], [t0].[Author], [t0].[Category], [t0].[Description], [t0].[Title], [t1].[UserId], [t1].[BookId], [t1].[RentId], [t1].[Id], [t1].[Author], [t1].[Category], [t1].[Description], [t1].[Title]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Name], [u].[Phone], [u].[Role]
    FROM [Users] AS [u]
    WHERE [u].[Id] = @__key_0
) AS [t]
LEFT JOIN [Cart] AS [c] ON [t].[Id] = [c].[UserId]
LEFT JOIN (
    SELECT [s].[UserId], [s].[BookId], [s].[RentId], [b].[Id], [b].[Author], [b].[Category], [b].[Description], [b].[Title]
    FROM [SuperRentCart] AS [s]
    INNER JOIN [Books] AS [b] ON [s].[BookId] = [b].[Id]
) AS [t0] ON [t].[Id] = [t0].[UserId]
LEFT JOIN (
    SELECT [r].[UserId], [r].[BookId], [r].[RentId], [b0].[Id], [b0].[Author], [b0].[Category], [b0].[Description], [b0].[Title]
    FROM [RentCart] AS [r]
    INNER JOIN [Books] AS [b0] ON [r].[BookId] = [b0].[Id]
) AS [t1] ON [t].[Id] = [t1].[UserId]
ORDER BY [t].[Id], [c].[UserId], [c].[BookId], [t0].[UserId], [t0].[BookId], [t0].[Id], [t1].[UserId], [t1].[BookId]
FATAL 04:32:28 User not found
INFO  04:51:16 Now listening on: http://localhost:5022
INFO  04:51:16 Application started. Press Ctrl+C to shut down.
INFO  04:51:16 Hosting environment: Development
INFO  04:51:16 Content root path: C:\MyPersonalFiles\GensparkTraining\MiniProject\MiniProjectAppSolution\MiniProjectApp\
INFO  04:51:31 Entity Framework Core 6.0.29 initialized 'LibraryManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.29' with options: None
WARN  04:51:33 Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
INFO  04:51:34 Executed DbCommand (227ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[Name], [t].[Phone], [t].[Role], [c].[UserId], [c].[BookId], [c].[Price], [c].[Quantity], [t0].[UserId], [t0].[BookId], [t0].[RentId], [t0].[Id], [t0].[Author], [t0].[Category], [t0].[Description], [t0].[Title], [t1].[UserId], [t1].[BookId], [t1].[RentId], [t1].[Id], [t1].[Author], [t1].[Category], [t1].[Description], [t1].[Title]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Name], [u].[Phone], [u].[Role]
    FROM [Users] AS [u]
    WHERE [u].[Id] = @__key_0
) AS [t]
LEFT JOIN [Cart] AS [c] ON [t].[Id] = [c].[UserId]
LEFT JOIN (
    SELECT [s].[UserId], [s].[BookId], [s].[RentId], [b].[Id], [b].[Author], [b].[Category], [b].[Description], [b].[Title]
    FROM [SuperRentCart] AS [s]
    INNER JOIN [Books] AS [b] ON [s].[BookId] = [b].[Id]
) AS [t0] ON [t].[Id] = [t0].[UserId]
LEFT JOIN (
    SELECT [r].[UserId], [r].[BookId], [r].[RentId], [b0].[Id], [b0].[Author], [b0].[Category], [b0].[Description], [b0].[Title]
    FROM [RentCart] AS [r]
    INNER JOIN [Books] AS [b0] ON [r].[BookId] = [b0].[Id]
) AS [t1] ON [t].[Id] = [t1].[UserId]
ORDER BY [t].[Id], [c].[UserId], [c].[BookId], [t0].[UserId], [t0].[BookId], [t0].[Id], [t1].[UserId], [t1].[BookId]
INFO  04:51:34 Executed DbCommand (9ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[Name], [t].[Phone], [t].[Role], [c].[UserId], [c].[BookId], [c].[Price], [c].[Quantity], [t0].[UserId], [t0].[BookId], [t0].[RentId], [t0].[Id], [t0].[Author], [t0].[Category], [t0].[Description], [t0].[Title], [t1].[UserId], [t1].[BookId], [t1].[RentId], [t1].[Id], [t1].[Author], [t1].[Category], [t1].[Description], [t1].[Title]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Name], [u].[Phone], [u].[Role]
    FROM [Users] AS [u]
    WHERE [u].[Id] = @__key_0
) AS [t]
LEFT JOIN [Cart] AS [c] ON [t].[Id] = [c].[UserId]
LEFT JOIN (
    SELECT [s].[UserId], [s].[BookId], [s].[RentId], [b].[Id], [b].[Author], [b].[Category], [b].[Description], [b].[Title]
    FROM [SuperRentCart] AS [s]
    INNER JOIN [Books] AS [b] ON [s].[BookId] = [b].[Id]
) AS [t0] ON [t].[Id] = [t0].[UserId]
LEFT JOIN (
    SELECT [r].[UserId], [r].[BookId], [r].[RentId], [b0].[Id], [b0].[Author], [b0].[Category], [b0].[Description], [b0].[Title]
    FROM [RentCart] AS [r]
    INNER JOIN [Books] AS [b0] ON [r].[BookId] = [b0].[Id]
) AS [t1] ON [t].[Id] = [t1].[UserId]
ORDER BY [t].[Id], [c].[UserId], [c].[BookId], [t0].[UserId], [t0].[BookId], [t0].[Id], [t1].[UserId], [t1].[BookId]
INFO  04:51:35 Executed DbCommand (10ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Users] SET [Name] = @p0, [Phone] = @p1, [Role] = @p2
WHERE [Id] = @p3;
SELECT @@ROWCOUNT;
INFO  09:59:11 Entity Framework Core 6.0.29 initialized 'LibraryManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.29' with options: None
INFO  09:59:24 Entity Framework Core 6.0.29 initialized 'LibraryManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.29' with options: None
INFO  09:59:25 Executed DbCommand (21ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
INFO  09:59:25 Executed DbCommand (15ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
INFO  09:59:25 Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
ERROR 10:04:43 The configured column orders for the table 'FineDetails' contains duplicates. Ensure the specified column order values are distinct. Conflicting columns: 'RentId', 'BookId'
INFO  10:04:43 Entity Framework Core 6.0.29 initialized 'LibraryManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.29' with options: None
ERROR 10:04:43 The configured column orders for the table 'FineDetails' contains duplicates. Ensure the specified column order values are distinct. Conflicting columns: 'RentId', 'BookId'
INFO  10:05:30 Entity Framework Core 6.0.29 initialized 'LibraryManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.29' with options: None
INFO  10:05:55 Entity Framework Core 6.0.29 initialized 'LibraryManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.29' with options: None
INFO  10:06:04 Entity Framework Core 6.0.29 initialized 'LibraryManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.29' with options: None
INFO  10:06:05 Executed DbCommand (24ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
INFO  10:06:05 Executed DbCommand (15ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
INFO  10:06:05 Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
INFO  10:06:05 Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
INFO  10:06:05 Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
INFO  10:06:05 Applying migration '20240531043443_four'.
INFO  10:06:05 Executed DbCommand (360ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
EXEC sp_rename N'[Sales].[Amount]', N'Total', N'COLUMN';
INFO  10:06:05 Executed DbCommand (14ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [SuperRentCart] ADD [DueDate] datetime2 NOT NULL DEFAULT '0001-01-01T00:00:00.0000000';
INFO  10:06:05 Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Sales] ADD [Discount] float NOT NULL DEFAULT 0.0E0;
INFO  10:06:05 Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Sales] ADD [FinalAmount] float NOT NULL DEFAULT 0.0E0;
INFO  10:06:05 Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Sales] ADD [NoOfBooks] int NOT NULL DEFAULT 0;
INFO  10:06:05 Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [RentCart] ADD [DueDate] datetime2 NOT NULL DEFAULT '0001-01-01T00:00:00.0000000';
INFO  10:06:05 Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Fines] ADD [IsFined] int NOT NULL DEFAULT 0;
INFO  10:06:05 Executed DbCommand (10ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [FineDetails] (
    [RentId] int NOT NULL,
    [BookId] int NOT NULL,
    [FinePaidDate] datetime2 NULL,
    [Status] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_FineDetails] PRIMARY KEY ([RentId], [BookId]),
    CONSTRAINT [FK_FineDetails_Books_BookId] FOREIGN KEY ([BookId]) REFERENCES [Books] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_FineDetails_Fines_RentId] FOREIGN KEY ([RentId]) REFERENCES [Fines] ([RentId]) ON DELETE CASCADE
);
INFO  10:06:05 Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_FineDetails_BookId] ON [FineDetails] ([BookId]);
INFO  10:06:05 Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240531043443_four', N'6.0.29');
INFO  10:06:05 Applying migration '20240531043555_five'.
WARN  10:06:05 The order of column 'FineDetails.BookId' was ignored. Column orders are only used when the table is first created.
INFO  10:06:05 Executed DbCommand (28ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[FineDetails]') AND [c].[name] = N'BookId');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [FineDetails] DROP CONSTRAINT [' + @var0 + '];');
ALTER TABLE [FineDetails] ALTER COLUMN [BookId] int NOT NULL;
INFO  10:06:05 Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240531043555_five', N'6.0.29');
INFO  03:16:58 Entity Framework Core 6.0.29 initialized 'LibraryManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.29' with options: None
INFO  03:17:07 Entity Framework Core 6.0.29 initialized 'LibraryManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.29' with options: None
INFO  03:17:08 Executed DbCommand (35ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
INFO  03:17:08 Executed DbCommand (34ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
INFO  03:17:08 Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
INFO  03:17:08 Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
INFO  03:17:08 Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
INFO  03:17:08 Applying migration '20240531094659_six'.
INFO  03:17:08 Executed DbCommand (313ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
EXEC sp_rename N'[Fines].[IsFined]', N'NumbeOfBooksPaidFine', N'COLUMN';
INFO  03:17:08 Executed DbCommand (14ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [SuperRentCart] ADD [IsFined] int NOT NULL DEFAULT 0;
INFO  03:17:08 Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [RentCart] ADD [IsFined] int NOT NULL DEFAULT 0;
INFO  03:17:08 Executed DbCommand (10ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Fines] ADD [FinePending] float NOT NULL DEFAULT 0.0E0;
INFO  03:17:08 Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [FineDetails] ADD [FineAmount] float NOT NULL DEFAULT 0.0E0;
INFO  03:17:08 Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240531094659_six', N'6.0.29');
INFO  03:19:29 Now listening on: http://localhost:5022
INFO  03:19:29 Application started. Press Ctrl+C to shut down.
INFO  03:19:29 Hosting environment: Development
INFO  03:19:29 Content root path: C:\MyPersonalFiles\GensparkTraining\MiniProject\MiniProjectAppSolution\MiniProjectApp\
INFO  03:21:04 Entity Framework Core 6.0.29 initialized 'LibraryManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.29' with options: None
WARN  03:21:05 Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
INFO  03:21:06 Executed DbCommand (133ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[Name], [t].[Phone], [t].[Role], [c].[UserId], [c].[BookId], [c].[Price], [c].[Quantity], [t0].[UserId], [t0].[BookId], [t0].[DueDate], [t0].[IsFined], [t0].[RentId], [t0].[Id], [t0].[Author], [t0].[Category], [t0].[Description], [t0].[Title], [t1].[UserId], [t1].[BookId], [t1].[DueDate], [t1].[IsFined], [t1].[RentId], [t1].[Id], [t1].[Author], [t1].[Category], [t1].[Description], [t1].[Title]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Name], [u].[Phone], [u].[Role]
    FROM [Users] AS [u]
    WHERE [u].[Id] = @__key_0
) AS [t]
LEFT JOIN [Cart] AS [c] ON [t].[Id] = [c].[UserId]
LEFT JOIN (
    SELECT [s].[UserId], [s].[BookId], [s].[DueDate], [s].[IsFined], [s].[RentId], [b].[Id], [b].[Author], [b].[Category], [b].[Description], [b].[Title]
    FROM [SuperRentCart] AS [s]
    INNER JOIN [Books] AS [b] ON [s].[BookId] = [b].[Id]
) AS [t0] ON [t].[Id] = [t0].[UserId]
LEFT JOIN (
    SELECT [r].[UserId], [r].[BookId], [r].[DueDate], [r].[IsFined], [r].[RentId], [b0].[Id], [b0].[Author], [b0].[Category], [b0].[Description], [b0].[Title]
    FROM [RentCart] AS [r]
    INNER JOIN [Books] AS [b0] ON [r].[BookId] = [b0].[Id]
) AS [t1] ON [t].[Id] = [t1].[UserId]
ORDER BY [t].[Id], [c].[UserId], [c].[BookId], [t0].[UserId], [t0].[BookId], [t0].[Id], [t1].[UserId], [t1].[BookId]
INFO  03:21:06 Executed DbCommand (6ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[HashKey], [u].[Password], [u].[Status]
FROM [UserCredentials] AS [u]
WHERE [u].[UserId] = @__key_0
INFO  03:21:06 Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [f].[RentId], [f].[FineAmount], [f].[FinePaidDate], [f].[FinePending], [f].[NumbeOfBooksPaidFine], [f].[NumberOfBooksFined], [f].[Status], [f].[UserId]
FROM [Fines] AS [f]
INFO  03:21:06 Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[HashKey], [u].[Password], [u].[Status]
FROM [UserCredentials] AS [u]
WHERE [u].[UserId] = @__key_0
INFO  03:21:06 Executed DbCommand (5ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 8000) (DbType = Binary), @p1='?' (Size = 8000) (DbType = Binary), @p2='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [UserCredentials] SET [HashKey] = @p0, [Password] = @p1, [Status] = @p2
WHERE [UserId] = @p3;
SELECT @@ROWCOUNT;
INFO  03:23:10 Entity Framework Core 6.0.29 initialized 'LibraryManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.29' with options: None
INFO  03:23:10 Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[HashKey], [u].[Password], [u].[Status]
FROM [UserCredentials] AS [u]
WHERE [u].[UserId] = @__key_0
INFO  03:23:10 Executed DbCommand (15ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[Name], [t].[Phone], [t].[Role], [c].[UserId], [c].[BookId], [c].[Price], [c].[Quantity], [t0].[UserId], [t0].[BookId], [t0].[DueDate], [t0].[IsFined], [t0].[RentId], [t0].[Id], [t0].[Author], [t0].[Category], [t0].[Description], [t0].[Title], [t1].[UserId], [t1].[BookId], [t1].[DueDate], [t1].[IsFined], [t1].[RentId], [t1].[Id], [t1].[Author], [t1].[Category], [t1].[Description], [t1].[Title]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Name], [u].[Phone], [u].[Role]
    FROM [Users] AS [u]
    WHERE [u].[Id] = @__key_0
) AS [t]
LEFT JOIN [Cart] AS [c] ON [t].[Id] = [c].[UserId]
LEFT JOIN (
    SELECT [s].[UserId], [s].[BookId], [s].[DueDate], [s].[IsFined], [s].[RentId], [b].[Id], [b].[Author], [b].[Category], [b].[Description], [b].[Title]
    FROM [SuperRentCart] AS [s]
    INNER JOIN [Books] AS [b] ON [s].[BookId] = [b].[Id]
) AS [t0] ON [t].[Id] = [t0].[UserId]
LEFT JOIN (
    SELECT [r].[UserId], [r].[BookId], [r].[DueDate], [r].[IsFined], [r].[RentId], [b0].[Id], [b0].[Author], [b0].[Category], [b0].[Description], [b0].[Title]
    FROM [RentCart] AS [r]
    INNER JOIN [Books] AS [b0] ON [r].[BookId] = [b0].[Id]
) AS [t1] ON [t].[Id] = [t1].[UserId]
ORDER BY [t].[Id], [c].[UserId], [c].[BookId], [t0].[UserId], [t0].[BookId], [t0].[Id], [t1].[UserId], [t1].[BookId]
INFO  03:23:10 Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Double), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Double), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Rents] ([Amount], [BooksToBeReturned], [CartType], [DateOfRent], [DueDate], [FineAmount], [Progress], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT [RentId]
FROM [Rents]
WHERE @@ROWCOUNT = 1 AND [RentId] = scope_identity();
INFO  03:23:10 Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[BookId], [r].[QuantityInStock], [r].[RentPerBook]
FROM [RentStocks] AS [r]
WHERE [r].[BookId] = @__key_0
INFO  03:23:10 Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[BookId], [r].[QuantityInStock], [r].[RentPerBook]
FROM [RentStocks] AS [r]
WHERE [r].[BookId] = @__key_0
INFO  03:23:10 Executed DbCommand (3ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Double)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [RentStocks] SET [QuantityInStock] = @p0, [RentPerBook] = @p1
WHERE [BookId] = @p2;
SELECT @@ROWCOUNT;
INFO  03:23:10 Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [RentDetails] ([BookId], [RentId], [Price], [ReturnDate], [status])
VALUES (@p0, @p1, @p2, @p3, @p4);
INFO  03:23:10 Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [RentCart] ([BookId], [UserId], [DueDate], [IsFined], [RentId])
VALUES (@p0, @p1, @p2, @p3, @p4);
INFO  03:23:10 Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[BookId], [r].[QuantityInStock], [r].[RentPerBook]
FROM [RentStocks] AS [r]
WHERE [r].[BookId] = @__key_0
INFO  03:23:10 Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[BookId], [r].[QuantityInStock], [r].[RentPerBook]
FROM [RentStocks] AS [r]
WHERE [r].[BookId] = @__key_0
INFO  03:23:10 Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Double)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [RentStocks] SET [QuantityInStock] = @p0, [RentPerBook] = @p1
WHERE [BookId] = @p2;
SELECT @@ROWCOUNT;
INFO  03:23:10 Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [RentDetails] ([BookId], [RentId], [Price], [ReturnDate], [status])
VALUES (@p0, @p1, @p2, @p3, @p4);
INFO  03:23:10 Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [RentCart] ([BookId], [UserId], [DueDate], [IsFined], [RentId])
VALUES (@p0, @p1, @p2, @p3, @p4);
INFO  03:23:10 Executed DbCommand (3ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[RentId], [t].[Amount], [t].[BooksToBeReturned], [t].[CartType], [t].[DateOfRent], [t].[DueDate], [t].[FineAmount], [t].[Progress], [t].[UserId], [r0].[RentId], [r0].[BookId], [r0].[Price], [r0].[ReturnDate], [r0].[status]
FROM (
    SELECT TOP(1) [r].[RentId], [r].[Amount], [r].[BooksToBeReturned], [r].[CartType], [r].[DateOfRent], [r].[DueDate], [r].[FineAmount], [r].[Progress], [r].[UserId]
    FROM [Rents] AS [r]
    WHERE [r].[RentId] = @__key_0
) AS [t]
LEFT JOIN [RentDetails] AS [r0] ON [t].[RentId] = [r0].[RentId]
ORDER BY [t].[RentId], [r0].[RentId]
INFO  03:23:10 Executed DbCommand (3ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = Double), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Double), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Rents] SET [Amount] = @p0, [BooksToBeReturned] = @p1, [CartType] = @p2, [DateOfRent] = @p3, [DueDate] = @p4, [FineAmount] = @p5, [Progress] = @p6, [UserId] = @p7
WHERE [RentId] = @p8;
SELECT @@ROWCOUNT;
INFO  03:23:17 Entity Framework Core 6.0.29 initialized 'LibraryManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.29' with options: None
INFO  03:23:17 Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[HashKey], [u].[Password], [u].[Status]
FROM [UserCredentials] AS [u]
WHERE [u].[UserId] = @__key_0
INFO  03:23:17 Executed DbCommand (13ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[Name], [t].[Phone], [t].[Role], [c].[UserId], [c].[BookId], [c].[Price], [c].[Quantity], [t0].[UserId], [t0].[BookId], [t0].[DueDate], [t0].[IsFined], [t0].[RentId], [t0].[Id], [t0].[Author], [t0].[Category], [t0].[Description], [t0].[Title], [t1].[UserId], [t1].[BookId], [t1].[DueDate], [t1].[IsFined], [t1].[RentId], [t1].[Id], [t1].[Author], [t1].[Category], [t1].[Description], [t1].[Title]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Name], [u].[Phone], [u].[Role]
    FROM [Users] AS [u]
    WHERE [u].[Id] = @__key_0
) AS [t]
LEFT JOIN [Cart] AS [c] ON [t].[Id] = [c].[UserId]
LEFT JOIN (
    SELECT [s].[UserId], [s].[BookId], [s].[DueDate], [s].[IsFined], [s].[RentId], [b].[Id], [b].[Author], [b].[Category], [b].[Description], [b].[Title]
    FROM [SuperRentCart] AS [s]
    INNER JOIN [Books] AS [b] ON [s].[BookId] = [b].[Id]
) AS [t0] ON [t].[Id] = [t0].[UserId]
LEFT JOIN (
    SELECT [r].[UserId], [r].[BookId], [r].[DueDate], [r].[IsFined], [r].[RentId], [b0].[Id], [b0].[Author], [b0].[Category], [b0].[Description], [b0].[Title]
    FROM [RentCart] AS [r]
    INNER JOIN [Books] AS [b0] ON [r].[BookId] = [b0].[Id]
) AS [t1] ON [t].[Id] = [t1].[UserId]
ORDER BY [t].[Id], [c].[UserId], [c].[BookId], [t0].[UserId], [t0].[BookId], [t0].[Id], [t1].[UserId], [t1].[BookId]
INFO  03:23:17 Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Double), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Double), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Rents] ([Amount], [BooksToBeReturned], [CartType], [DateOfRent], [DueDate], [FineAmount], [Progress], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT [RentId]
FROM [Rents]
WHERE @@ROWCOUNT = 1 AND [RentId] = scope_identity();
INFO  03:23:17 Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[BookId], [r].[QuantityInStock], [r].[RentPerBook]
FROM [RentStocks] AS [r]
WHERE [r].[BookId] = @__key_0
INFO  03:23:17 Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[BookId], [r].[QuantityInStock], [r].[RentPerBook]
FROM [RentStocks] AS [r]
WHERE [r].[BookId] = @__key_0
INFO  03:23:17 Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Double)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [RentStocks] SET [QuantityInStock] = @p0, [RentPerBook] = @p1
WHERE [BookId] = @p2;
SELECT @@ROWCOUNT;
INFO  03:23:17 Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [RentDetails] ([BookId], [RentId], [Price], [ReturnDate], [status])
VALUES (@p0, @p1, @p2, @p3, @p4);
INFO  03:23:40 Entity Framework Core 6.0.29 initialized 'LibraryManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.29' with options: None
INFO  03:23:40 Executed DbCommand (16ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[Name], [t].[Phone], [t].[Role], [c].[UserId], [c].[BookId], [c].[Price], [c].[Quantity], [t0].[UserId], [t0].[BookId], [t0].[DueDate], [t0].[IsFined], [t0].[RentId], [t0].[Id], [t0].[Author], [t0].[Category], [t0].[Description], [t0].[Title], [t1].[UserId], [t1].[BookId], [t1].[DueDate], [t1].[IsFined], [t1].[RentId], [t1].[Id], [t1].[Author], [t1].[Category], [t1].[Description], [t1].[Title]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Name], [u].[Phone], [u].[Role]
    FROM [Users] AS [u]
    WHERE [u].[Id] = @__key_0
) AS [t]
LEFT JOIN [Cart] AS [c] ON [t].[Id] = [c].[UserId]
LEFT JOIN (
    SELECT [s].[UserId], [s].[BookId], [s].[DueDate], [s].[IsFined], [s].[RentId], [b].[Id], [b].[Author], [b].[Category], [b].[Description], [b].[Title]
    FROM [SuperRentCart] AS [s]
    INNER JOIN [Books] AS [b] ON [s].[BookId] = [b].[Id]
) AS [t0] ON [t].[Id] = [t0].[UserId]
LEFT JOIN (
    SELECT [r].[UserId], [r].[BookId], [r].[DueDate], [r].[IsFined], [r].[RentId], [b0].[Id], [b0].[Author], [b0].[Category], [b0].[Description], [b0].[Title]
    FROM [RentCart] AS [r]
    INNER JOIN [Books] AS [b0] ON [r].[BookId] = [b0].[Id]
) AS [t1] ON [t].[Id] = [t1].[UserId]
ORDER BY [t].[Id], [c].[UserId], [c].[BookId], [t0].[UserId], [t0].[BookId], [t0].[Id], [t1].[UserId], [t1].[BookId]
INFO  03:25:16 Entity Framework Core 6.0.29 initialized 'LibraryManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.29' with options: None
INFO  03:25:16 Executed DbCommand (4ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[HashKey], [u].[Password], [u].[Status]
FROM [UserCredentials] AS [u]
WHERE [u].[UserId] = @__key_0
INFO  03:25:16 Executed DbCommand (14ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[Name], [t].[Phone], [t].[Role], [c].[UserId], [c].[BookId], [c].[Price], [c].[Quantity], [t0].[UserId], [t0].[BookId], [t0].[DueDate], [t0].[IsFined], [t0].[RentId], [t0].[Id], [t0].[Author], [t0].[Category], [t0].[Description], [t0].[Title], [t1].[UserId], [t1].[BookId], [t1].[DueDate], [t1].[IsFined], [t1].[RentId], [t1].[Id], [t1].[Author], [t1].[Category], [t1].[Description], [t1].[Title]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Name], [u].[Phone], [u].[Role]
    FROM [Users] AS [u]
    WHERE [u].[Id] = @__key_0
) AS [t]
LEFT JOIN [Cart] AS [c] ON [t].[Id] = [c].[UserId]
LEFT JOIN (
    SELECT [s].[UserId], [s].[BookId], [s].[DueDate], [s].[IsFined], [s].[RentId], [b].[Id], [b].[Author], [b].[Category], [b].[Description], [b].[Title]
    FROM [SuperRentCart] AS [s]
    INNER JOIN [Books] AS [b] ON [s].[BookId] = [b].[Id]
) AS [t0] ON [t].[Id] = [t0].[UserId]
LEFT JOIN (
    SELECT [r].[UserId], [r].[BookId], [r].[DueDate], [r].[IsFined], [r].[RentId], [b0].[Id], [b0].[Author], [b0].[Category], [b0].[Description], [b0].[Title]
    FROM [RentCart] AS [r]
    INNER JOIN [Books] AS [b0] ON [r].[BookId] = [b0].[Id]
) AS [t1] ON [t].[Id] = [t1].[UserId]
ORDER BY [t].[Id], [c].[UserId], [c].[BookId], [t0].[UserId], [t0].[BookId], [t0].[Id], [t1].[UserId], [t1].[BookId]
INFO  03:25:16 Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Double), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Double), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Rents] ([Amount], [BooksToBeReturned], [CartType], [DateOfRent], [DueDate], [FineAmount], [Progress], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT [RentId]
FROM [Rents]
WHERE @@ROWCOUNT = 1 AND [RentId] = scope_identity();
INFO  03:25:16 Executed DbCommand (3ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[BookId], [r].[QuantityInStock], [r].[RentPerBook]
FROM [RentStocks] AS [r]
WHERE [r].[BookId] = @__key_0
INFO  03:25:16 Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[BookId], [r].[QuantityInStock], [r].[RentPerBook]
FROM [RentStocks] AS [r]
WHERE [r].[BookId] = @__key_0
INFO  03:25:16 Executed DbCommand (2ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Double)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [RentStocks] SET [QuantityInStock] = @p0, [RentPerBook] = @p1
WHERE [BookId] = @p2;
SELECT @@ROWCOUNT;
INFO  03:25:17 Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [RentDetails] ([BookId], [RentId], [Price], [ReturnDate], [status])
VALUES (@p0, @p1, @p2, @p3, @p4);
INFO  03:25:17 Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [SuperRentCart] ([BookId], [UserId], [DueDate], [IsFined], [RentId])
VALUES (@p0, @p1, @p2, @p3, @p4);
INFO  03:25:17 Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[BookId], [r].[QuantityInStock], [r].[RentPerBook]
FROM [RentStocks] AS [r]
WHERE [r].[BookId] = @__key_0
INFO  03:25:17 Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[BookId], [r].[QuantityInStock], [r].[RentPerBook]
FROM [RentStocks] AS [r]
WHERE [r].[BookId] = @__key_0
INFO  03:25:17 Executed DbCommand (0ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Double)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [RentStocks] SET [QuantityInStock] = @p0, [RentPerBook] = @p1
WHERE [BookId] = @p2;
SELECT @@ROWCOUNT;
INFO  03:25:17 Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [RentDetails] ([BookId], [RentId], [Price], [ReturnDate], [status])
VALUES (@p0, @p1, @p2, @p3, @p4);
INFO  03:25:17 Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [SuperRentCart] ([BookId], [UserId], [DueDate], [IsFined], [RentId])
VALUES (@p0, @p1, @p2, @p3, @p4);
INFO  03:25:17 Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[BookId], [r].[QuantityInStock], [r].[RentPerBook]
FROM [RentStocks] AS [r]
WHERE [r].[BookId] = @__key_0
INFO  03:25:17 Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[BookId], [r].[QuantityInStock], [r].[RentPerBook]
FROM [RentStocks] AS [r]
WHERE [r].[BookId] = @__key_0
INFO  03:25:17 Executed DbCommand (0ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Double)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [RentStocks] SET [QuantityInStock] = @p0, [RentPerBook] = @p1
WHERE [BookId] = @p2;
SELECT @@ROWCOUNT;
INFO  03:25:17 Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [RentDetails] ([BookId], [RentId], [Price], [ReturnDate], [status])
VALUES (@p0, @p1, @p2, @p3, @p4);
INFO  03:25:17 Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [SuperRentCart] ([BookId], [UserId], [DueDate], [IsFined], [RentId])
VALUES (@p0, @p1, @p2, @p3, @p4);
INFO  03:26:43 Entity Framework Core 6.0.29 initialized 'LibraryManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.29' with options: None
INFO  03:26:43 Executed DbCommand (11ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[Name], [t].[Phone], [t].[Role], [c].[UserId], [c].[BookId], [c].[Price], [c].[Quantity], [t0].[UserId], [t0].[BookId], [t0].[DueDate], [t0].[IsFined], [t0].[RentId], [t0].[Id], [t0].[Author], [t0].[Category], [t0].[Description], [t0].[Title], [t1].[UserId], [t1].[BookId], [t1].[DueDate], [t1].[IsFined], [t1].[RentId], [t1].[Id], [t1].[Author], [t1].[Category], [t1].[Description], [t1].[Title]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Name], [u].[Phone], [u].[Role]
    FROM [Users] AS [u]
    WHERE [u].[Id] = @__key_0
) AS [t]
LEFT JOIN [Cart] AS [c] ON [t].[Id] = [c].[UserId]
LEFT JOIN (
    SELECT [s].[UserId], [s].[BookId], [s].[DueDate], [s].[IsFined], [s].[RentId], [b].[Id], [b].[Author], [b].[Category], [b].[Description], [b].[Title]
    FROM [SuperRentCart] AS [s]
    INNER JOIN [Books] AS [b] ON [s].[BookId] = [b].[Id]
) AS [t0] ON [t].[Id] = [t0].[UserId]
LEFT JOIN (
    SELECT [r].[UserId], [r].[BookId], [r].[DueDate], [r].[IsFined], [r].[RentId], [b0].[Id], [b0].[Author], [b0].[Category], [b0].[Description], [b0].[Title]
    FROM [RentCart] AS [r]
    INNER JOIN [Books] AS [b0] ON [r].[BookId] = [b0].[Id]
) AS [t1] ON [t].[Id] = [t1].[UserId]
ORDER BY [t].[Id], [c].[UserId], [c].[BookId], [t0].[UserId], [t0].[BookId], [t0].[Id], [t1].[UserId], [t1].[BookId]
INFO  03:26:50 Entity Framework Core 6.0.29 initialized 'LibraryManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.29' with options: None
INFO  03:26:50 Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[Name], [t].[Phone], [t].[Role], [c].[UserId], [c].[BookId], [c].[Price], [c].[Quantity], [t0].[UserId], [t0].[BookId], [t0].[DueDate], [t0].[IsFined], [t0].[RentId], [t0].[Id], [t0].[Author], [t0].[Category], [t0].[Description], [t0].[Title], [t1].[UserId], [t1].[BookId], [t1].[DueDate], [t1].[IsFined], [t1].[RentId], [t1].[Id], [t1].[Author], [t1].[Category], [t1].[Description], [t1].[Title]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Name], [u].[Phone], [u].[Role]
    FROM [Users] AS [u]
    WHERE [u].[Id] = @__key_0
) AS [t]
LEFT JOIN [Cart] AS [c] ON [t].[Id] = [c].[UserId]
LEFT JOIN (
    SELECT [s].[UserId], [s].[BookId], [s].[DueDate], [s].[IsFined], [s].[RentId], [b].[Id], [b].[Author], [b].[Category], [b].[Description], [b].[Title]
    FROM [SuperRentCart] AS [s]
    INNER JOIN [Books] AS [b] ON [s].[BookId] = [b].[Id]
) AS [t0] ON [t].[Id] = [t0].[UserId]
LEFT JOIN (
    SELECT [r].[UserId], [r].[BookId], [r].[DueDate], [r].[IsFined], [r].[RentId], [b0].[Id], [b0].[Author], [b0].[Category], [b0].[Description], [b0].[Title]
    FROM [RentCart] AS [r]
    INNER JOIN [Books] AS [b0] ON [r].[BookId] = [b0].[Id]
) AS [t1] ON [t].[Id] = [t1].[UserId]
ORDER BY [t].[Id], [c].[UserId], [c].[BookId], [t0].[UserId], [t0].[BookId], [t0].[Id], [t1].[UserId], [t1].[BookId]
INFO  03:26:50 Executed DbCommand (2ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[UserId], [r].[BookId], [r].[DueDate], [r].[IsFined], [r].[RentId]
FROM [RentCart] AS [r]
WHERE ([r].[UserId] = @__key1_0) AND ([r].[BookId] = @__key2_1)
INFO  03:26:50 Executed DbCommand (2ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[UserId], [s].[BookId], [s].[DueDate], [s].[IsFined], [s].[RentId]
FROM [SuperRentCart] AS [s]
WHERE ([s].[UserId] = @__key1_0) AND ([s].[BookId] = @__key2_1)
INFO  03:26:50 Executed DbCommand (1ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[UserId], [r].[BookId], [r].[DueDate], [r].[IsFined], [r].[RentId]
FROM [RentCart] AS [r]
WHERE ([r].[UserId] = @__key1_0) AND ([r].[BookId] = @__key2_1)
INFO  03:26:50 Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [RentCart]
WHERE [BookId] = @p0 AND [UserId] = @p1;
SELECT @@ROWCOUNT;
INFO  03:26:50 Executed DbCommand (3ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[RentId], [t].[Amount], [t].[BooksToBeReturned], [t].[CartType], [t].[DateOfRent], [t].[DueDate], [t].[FineAmount], [t].[Progress], [t].[UserId], [r0].[RentId], [r0].[BookId], [r0].[Price], [r0].[ReturnDate], [r0].[status]
FROM (
    SELECT TOP(1) [r].[RentId], [r].[Amount], [r].[BooksToBeReturned], [r].[CartType], [r].[DateOfRent], [r].[DueDate], [r].[FineAmount], [r].[Progress], [r].[UserId]
    FROM [Rents] AS [r]
    WHERE [r].[RentId] = @__key_0
) AS [t]
LEFT JOIN [RentDetails] AS [r0] ON [t].[RentId] = [r0].[RentId]
ORDER BY [t].[RentId], [r0].[RentId]
INFO  03:26:50 Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[RentId], [t].[Amount], [t].[BooksToBeReturned], [t].[CartType], [t].[DateOfRent], [t].[DueDate], [t].[FineAmount], [t].[Progress], [t].[UserId], [r0].[RentId], [r0].[BookId], [r0].[Price], [r0].[ReturnDate], [r0].[status]
FROM (
    SELECT TOP(1) [r].[RentId], [r].[Amount], [r].[BooksToBeReturned], [r].[CartType], [r].[DateOfRent], [r].[DueDate], [r].[FineAmount], [r].[Progress], [r].[UserId]
    FROM [Rents] AS [r]
    WHERE [r].[RentId] = @__key_0
) AS [t]
LEFT JOIN [RentDetails] AS [r0] ON [t].[RentId] = [r0].[RentId]
ORDER BY [t].[RentId], [r0].[RentId]
INFO  03:26:50 Executed DbCommand (4ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = Double), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Double), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Rents] SET [Amount] = @p0, [BooksToBeReturned] = @p1, [CartType] = @p2, [DateOfRent] = @p3, [DueDate] = @p4, [FineAmount] = @p5, [Progress] = @p6, [UserId] = @p7
WHERE [RentId] = @p8;
SELECT @@ROWCOUNT;
INFO  03:26:50 Executed DbCommand (3ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[RentId], [r].[BookId], [r].[Price], [r].[ReturnDate], [r].[status]
FROM [RentDetails] AS [r]
WHERE ([r].[RentId] = @__key1_0) AND ([r].[BookId] = @__key2_1)
INFO  03:26:50 Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[BookId], [r].[QuantityInStock], [r].[RentPerBook]
FROM [RentStocks] AS [r]
WHERE [r].[BookId] = @__key_0
INFO  03:26:50 Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[BookId], [r].[QuantityInStock], [r].[RentPerBook]
FROM [RentStocks] AS [r]
WHERE [r].[BookId] = @__key_0
INFO  03:26:50 Executed DbCommand (2ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [RentDetails] SET [ReturnDate] = @p0, [status] = @p1
WHERE [BookId] = @p2 AND [RentId] = @p3;
SELECT @@ROWCOUNT;
INFO  03:26:50 Executed DbCommand (2ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Double)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [RentStocks] SET [QuantityInStock] = @p0, [RentPerBook] = @p1
WHERE [BookId] = @p2;
SELECT @@ROWCOUNT;
INFO  03:26:57 Entity Framework Core 6.0.29 initialized 'LibraryManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.29' with options: None
INFO  03:26:57 Executed DbCommand (20ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[Name], [t].[Phone], [t].[Role], [c].[UserId], [c].[BookId], [c].[Price], [c].[Quantity], [t0].[UserId], [t0].[BookId], [t0].[DueDate], [t0].[IsFined], [t0].[RentId], [t0].[Id], [t0].[Author], [t0].[Category], [t0].[Description], [t0].[Title], [t1].[UserId], [t1].[BookId], [t1].[DueDate], [t1].[IsFined], [t1].[RentId], [t1].[Id], [t1].[Author], [t1].[Category], [t1].[Description], [t1].[Title]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Name], [u].[Phone], [u].[Role]
    FROM [Users] AS [u]
    WHERE [u].[Id] = @__key_0
) AS [t]
LEFT JOIN [Cart] AS [c] ON [t].[Id] = [c].[UserId]
LEFT JOIN (
    SELECT [s].[UserId], [s].[BookId], [s].[DueDate], [s].[IsFined], [s].[RentId], [b].[Id], [b].[Author], [b].[Category], [b].[Description], [b].[Title]
    FROM [SuperRentCart] AS [s]
    INNER JOIN [Books] AS [b] ON [s].[BookId] = [b].[Id]
) AS [t0] ON [t].[Id] = [t0].[UserId]
LEFT JOIN (
    SELECT [r].[UserId], [r].[BookId], [r].[DueDate], [r].[IsFined], [r].[RentId], [b0].[Id], [b0].[Author], [b0].[Category], [b0].[Description], [b0].[Title]
    FROM [RentCart] AS [r]
    INNER JOIN [Books] AS [b0] ON [r].[BookId] = [b0].[Id]
) AS [t1] ON [t].[Id] = [t1].[UserId]
ORDER BY [t].[Id], [c].[UserId], [c].[BookId], [t0].[UserId], [t0].[BookId], [t0].[Id], [t1].[UserId], [t1].[BookId]
INFO  03:26:57 Executed DbCommand (2ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[UserId], [r].[BookId], [r].[DueDate], [r].[IsFined], [r].[RentId]
FROM [RentCart] AS [r]
WHERE ([r].[UserId] = @__key1_0) AND ([r].[BookId] = @__key2_1)
INFO  03:26:57 Executed DbCommand (3ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[UserId], [s].[BookId], [s].[DueDate], [s].[IsFined], [s].[RentId]
FROM [SuperRentCart] AS [s]
WHERE ([s].[UserId] = @__key1_0) AND ([s].[BookId] = @__key2_1)
INFO  03:26:57 Executed DbCommand (2ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[UserId], [s].[BookId], [s].[DueDate], [s].[IsFined], [s].[RentId]
FROM [SuperRentCart] AS [s]
WHERE ([s].[UserId] = @__key1_0) AND ([s].[BookId] = @__key2_1)
INFO  03:26:57 Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [SuperRentCart]
WHERE [BookId] = @p0 AND [UserId] = @p1;
SELECT @@ROWCOUNT;
INFO  03:26:57 Executed DbCommand (3ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[RentId], [t].[Amount], [t].[BooksToBeReturned], [t].[CartType], [t].[DateOfRent], [t].[DueDate], [t].[FineAmount], [t].[Progress], [t].[UserId], [r0].[RentId], [r0].[BookId], [r0].[Price], [r0].[ReturnDate], [r0].[status]
FROM (
    SELECT TOP(1) [r].[RentId], [r].[Amount], [r].[BooksToBeReturned], [r].[CartType], [r].[DateOfRent], [r].[DueDate], [r].[FineAmount], [r].[Progress], [r].[UserId]
    FROM [Rents] AS [r]
    WHERE [r].[RentId] = @__key_0
) AS [t]
LEFT JOIN [RentDetails] AS [r0] ON [t].[RentId] = [r0].[RentId]
ORDER BY [t].[RentId], [r0].[RentId]
INFO  03:26:57 Executed DbCommand (3ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[RentId], [t].[Amount], [t].[BooksToBeReturned], [t].[CartType], [t].[DateOfRent], [t].[DueDate], [t].[FineAmount], [t].[Progress], [t].[UserId], [r0].[RentId], [r0].[BookId], [r0].[Price], [r0].[ReturnDate], [r0].[status]
FROM (
    SELECT TOP(1) [r].[RentId], [r].[Amount], [r].[BooksToBeReturned], [r].[CartType], [r].[DateOfRent], [r].[DueDate], [r].[FineAmount], [r].[Progress], [r].[UserId]
    FROM [Rents] AS [r]
    WHERE [r].[RentId] = @__key_0
) AS [t]
LEFT JOIN [RentDetails] AS [r0] ON [t].[RentId] = [r0].[RentId]
ORDER BY [t].[RentId], [r0].[RentId]
INFO  03:26:57 Executed DbCommand (4ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = Double), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Double), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Rents] SET [Amount] = @p0, [BooksToBeReturned] = @p1, [CartType] = @p2, [DateOfRent] = @p3, [DueDate] = @p4, [FineAmount] = @p5, [Progress] = @p6, [UserId] = @p7
WHERE [RentId] = @p8;
SELECT @@ROWCOUNT;
INFO  03:26:57 Executed DbCommand (2ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[RentId], [r].[BookId], [r].[Price], [r].[ReturnDate], [r].[status]
FROM [RentDetails] AS [r]
WHERE ([r].[RentId] = @__key1_0) AND ([r].[BookId] = @__key2_1)
INFO  03:26:57 Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[BookId], [r].[QuantityInStock], [r].[RentPerBook]
FROM [RentStocks] AS [r]
WHERE [r].[BookId] = @__key_0
INFO  03:26:57 Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[BookId], [r].[QuantityInStock], [r].[RentPerBook]
FROM [RentStocks] AS [r]
WHERE [r].[BookId] = @__key_0
INFO  03:26:57 Executed DbCommand (3ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [RentDetails] SET [ReturnDate] = @p0, [status] = @p1
WHERE [BookId] = @p2 AND [RentId] = @p3;
SELECT @@ROWCOUNT;
INFO  03:26:57 Executed DbCommand (2ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Double)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [RentStocks] SET [QuantityInStock] = @p0, [RentPerBook] = @p1
WHERE [BookId] = @p2;
SELECT @@ROWCOUNT;
INFO  04:07:00 Entity Framework Core 6.0.29 initialized 'LibraryManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.29' with options: None
INFO  04:07:00 Executed DbCommand (13ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[Name], [t].[Phone], [t].[Role], [c].[UserId], [c].[BookId], [c].[Price], [c].[Quantity], [t0].[UserId], [t0].[BookId], [t0].[DueDate], [t0].[IsFined], [t0].[RentId], [t0].[Id], [t0].[Author], [t0].[Category], [t0].[Description], [t0].[Title], [t1].[UserId], [t1].[BookId], [t1].[DueDate], [t1].[IsFined], [t1].[RentId], [t1].[Id], [t1].[Author], [t1].[Category], [t1].[Description], [t1].[Title]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Name], [u].[Phone], [u].[Role]
    FROM [Users] AS [u]
    WHERE [u].[Id] = @__key_0
) AS [t]
LEFT JOIN [Cart] AS [c] ON [t].[Id] = [c].[UserId]
LEFT JOIN (
    SELECT [s].[UserId], [s].[BookId], [s].[DueDate], [s].[IsFined], [s].[RentId], [b].[Id], [b].[Author], [b].[Category], [b].[Description], [b].[Title]
    FROM [SuperRentCart] AS [s]
    INNER JOIN [Books] AS [b] ON [s].[BookId] = [b].[Id]
) AS [t0] ON [t].[Id] = [t0].[UserId]
LEFT JOIN (
    SELECT [r].[UserId], [r].[BookId], [r].[DueDate], [r].[IsFined], [r].[RentId], [b0].[Id], [b0].[Author], [b0].[Category], [b0].[Description], [b0].[Title]
    FROM [RentCart] AS [r]
    INNER JOIN [Books] AS [b0] ON [r].[BookId] = [b0].[Id]
) AS [t1] ON [t].[Id] = [t1].[UserId]
ORDER BY [t].[Id], [c].[UserId], [c].[BookId], [t0].[UserId], [t0].[BookId], [t0].[Id], [t1].[UserId], [t1].[BookId]
INFO  04:07:00 Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[HashKey], [u].[Password], [u].[Status]
FROM [UserCredentials] AS [u]
WHERE [u].[UserId] = @__key_0
INFO  04:07:00 Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [f].[RentId], [f].[FineAmount], [f].[FinePaidDate], [f].[FinePending], [f].[NumbeOfBooksPaidFine], [f].[NumberOfBooksFined], [f].[Status], [f].[UserId]
FROM [Fines] AS [f]
INFO  04:07:00 Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[HashKey], [u].[Password], [u].[Status]
FROM [UserCredentials] AS [u]
WHERE [u].[UserId] = @__key_0
INFO  04:07:00 Executed DbCommand (2ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 8000) (DbType = Binary), @p1='?' (Size = 8000) (DbType = Binary), @p2='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [UserCredentials] SET [HashKey] = @p0, [Password] = @p1, [Status] = @p2
WHERE [UserId] = @p3;
SELECT @@ROWCOUNT;
INFO  04:07:03 Entity Framework Core 6.0.29 initialized 'LibraryManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.29' with options: None
INFO  04:07:03 Executed DbCommand (3ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[Name], [t].[Phone], [t].[Role], [c].[UserId], [c].[BookId], [c].[Price], [c].[Quantity], [t0].[UserId], [t0].[BookId], [t0].[DueDate], [t0].[IsFined], [t0].[RentId], [t0].[Id], [t0].[Author], [t0].[Category], [t0].[Description], [t0].[Title], [t1].[UserId], [t1].[BookId], [t1].[DueDate], [t1].[IsFined], [t1].[RentId], [t1].[Id], [t1].[Author], [t1].[Category], [t1].[Description], [t1].[Title]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Name], [u].[Phone], [u].[Role]
    FROM [Users] AS [u]
    WHERE [u].[Id] = @__key_0
) AS [t]
LEFT JOIN [Cart] AS [c] ON [t].[Id] = [c].[UserId]
LEFT JOIN (
    SELECT [s].[UserId], [s].[BookId], [s].[DueDate], [s].[IsFined], [s].[RentId], [b].[Id], [b].[Author], [b].[Category], [b].[Description], [b].[Title]
    FROM [SuperRentCart] AS [s]
    INNER JOIN [Books] AS [b] ON [s].[BookId] = [b].[Id]
) AS [t0] ON [t].[Id] = [t0].[UserId]
LEFT JOIN (
    SELECT [r].[UserId], [r].[BookId], [r].[DueDate], [r].[IsFined], [r].[RentId], [b0].[Id], [b0].[Author], [b0].[Category], [b0].[Description], [b0].[Title]
    FROM [RentCart] AS [r]
    INNER JOIN [Books] AS [b0] ON [r].[BookId] = [b0].[Id]
) AS [t1] ON [t].[Id] = [t1].[UserId]
ORDER BY [t].[Id], [c].[UserId], [c].[BookId], [t0].[UserId], [t0].[BookId], [t0].[Id], [t1].[UserId], [t1].[BookId]
INFO  04:07:03 Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[HashKey], [u].[Password], [u].[Status]
FROM [UserCredentials] AS [u]
WHERE [u].[UserId] = @__key_0
INFO  04:07:03 Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [f].[RentId], [f].[FineAmount], [f].[FinePaidDate], [f].[FinePending], [f].[NumbeOfBooksPaidFine], [f].[NumberOfBooksFined], [f].[Status], [f].[UserId]
FROM [Fines] AS [f]
INFO  04:07:03 Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[HashKey], [u].[Password], [u].[Status]
FROM [UserCredentials] AS [u]
WHERE [u].[UserId] = @__key_0
INFO  04:07:03 Executed DbCommand (1ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 8000) (DbType = Binary), @p1='?' (Size = 8000) (DbType = Binary), @p2='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [UserCredentials] SET [HashKey] = @p0, [Password] = @p1, [Status] = @p2
WHERE [UserId] = @p3;
SELECT @@ROWCOUNT;
INFO  04:09:51 Entity Framework Core 6.0.29 initialized 'LibraryManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.29' with options: None
INFO  04:09:51 Executed DbCommand (58ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[Name], [t].[Phone], [t].[Role], [c].[UserId], [c].[BookId], [c].[Price], [c].[Quantity], [t0].[UserId], [t0].[BookId], [t0].[DueDate], [t0].[IsFined], [t0].[RentId], [t0].[Id], [t0].[Author], [t0].[Category], [t0].[Description], [t0].[Title], [t1].[UserId], [t1].[BookId], [t1].[DueDate], [t1].[IsFined], [t1].[RentId], [t1].[Id], [t1].[Author], [t1].[Category], [t1].[Description], [t1].[Title]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Name], [u].[Phone], [u].[Role]
    FROM [Users] AS [u]
    WHERE [u].[Id] = @__key_0
) AS [t]
LEFT JOIN [Cart] AS [c] ON [t].[Id] = [c].[UserId]
LEFT JOIN (
    SELECT [s].[UserId], [s].[BookId], [s].[DueDate], [s].[IsFined], [s].[RentId], [b].[Id], [b].[Author], [b].[Category], [b].[Description], [b].[Title]
    FROM [SuperRentCart] AS [s]
    INNER JOIN [Books] AS [b] ON [s].[BookId] = [b].[Id]
) AS [t0] ON [t].[Id] = [t0].[UserId]
LEFT JOIN (
    SELECT [r].[UserId], [r].[BookId], [r].[DueDate], [r].[IsFined], [r].[RentId], [b0].[Id], [b0].[Author], [b0].[Category], [b0].[Description], [b0].[Title]
    FROM [RentCart] AS [r]
    INNER JOIN [Books] AS [b0] ON [r].[BookId] = [b0].[Id]
) AS [t1] ON [t].[Id] = [t1].[UserId]
ORDER BY [t].[Id], [c].[UserId], [c].[BookId], [t0].[UserId], [t0].[BookId], [t0].[Id], [t1].[UserId], [t1].[BookId]
INFO  04:11:30 Executed DbCommand (66ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[HashKey], [u].[Password], [u].[Status]
FROM [UserCredentials] AS [u]
WHERE [u].[UserId] = @__key_0
INFO  04:11:34 Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [f].[RentId], [f].[FineAmount], [f].[FinePaidDate], [f].[FinePending], [f].[NumbeOfBooksPaidFine], [f].[NumberOfBooksFined], [f].[Status], [f].[UserId]
FROM [Fines] AS [f]
INFO  04:12:01 Executed DbCommand (36ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[HashKey], [u].[Password], [u].[Status]
FROM [UserCredentials] AS [u]
WHERE [u].[UserId] = @__key_0
INFO  04:12:09 Executed DbCommand (69ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 8000) (DbType = Binary), @p1='?' (Size = 8000) (DbType = Binary), @p2='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [UserCredentials] SET [HashKey] = @p0, [Password] = @p1, [Status] = @p2
WHERE [UserId] = @p3;
SELECT @@ROWCOUNT;
INFO  04:13:54 Now listening on: http://localhost:5022
INFO  04:13:54 Application started. Press Ctrl+C to shut down.
INFO  04:13:54 Hosting environment: Development
INFO  04:13:54 Content root path: C:\MyPersonalFiles\GensparkTraining\MiniProject\MiniProjectAppSolution\MiniProjectApp\
INFO  04:14:14 Entity Framework Core 6.0.29 initialized 'LibraryManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.29' with options: None
WARN  04:14:16 Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
INFO  04:14:17 Executed DbCommand (234ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[Name], [t].[Phone], [t].[Role], [c].[UserId], [c].[BookId], [c].[Price], [c].[Quantity], [t0].[UserId], [t0].[BookId], [t0].[DueDate], [t0].[IsFined], [t0].[RentId], [t0].[Id], [t0].[Author], [t0].[Category], [t0].[Description], [t0].[Title], [t1].[UserId], [t1].[BookId], [t1].[DueDate], [t1].[IsFined], [t1].[RentId], [t1].[Id], [t1].[Author], [t1].[Category], [t1].[Description], [t1].[Title]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Name], [u].[Phone], [u].[Role]
    FROM [Users] AS [u]
    WHERE [u].[Id] = @__key_0
) AS [t]
LEFT JOIN [Cart] AS [c] ON [t].[Id] = [c].[UserId]
LEFT JOIN (
    SELECT [s].[UserId], [s].[BookId], [s].[DueDate], [s].[IsFined], [s].[RentId], [b].[Id], [b].[Author], [b].[Category], [b].[Description], [b].[Title]
    FROM [SuperRentCart] AS [s]
    INNER JOIN [Books] AS [b] ON [s].[BookId] = [b].[Id]
) AS [t0] ON [t].[Id] = [t0].[UserId]
LEFT JOIN (
    SELECT [r].[UserId], [r].[BookId], [r].[DueDate], [r].[IsFined], [r].[RentId], [b0].[Id], [b0].[Author], [b0].[Category], [b0].[Description], [b0].[Title]
    FROM [RentCart] AS [r]
    INNER JOIN [Books] AS [b0] ON [r].[BookId] = [b0].[Id]
) AS [t1] ON [t].[Id] = [t1].[UserId]
ORDER BY [t].[Id], [c].[UserId], [c].[BookId], [t0].[UserId], [t0].[BookId], [t0].[Id], [t1].[UserId], [t1].[BookId]
INFO  04:14:18 Executed DbCommand (8ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[HashKey], [u].[Password], [u].[Status]
FROM [UserCredentials] AS [u]
WHERE [u].[UserId] = @__key_0
INFO  04:14:18 Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [f].[RentId], [f].[FineAmount], [f].[FinePaidDate], [f].[FinePending], [f].[NumbeOfBooksPaidFine], [f].[NumberOfBooksFined], [f].[Status], [f].[UserId]
FROM [Fines] AS [f]
INFO  04:14:18 Executed DbCommand (3ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[HashKey], [u].[Password], [u].[Status]
FROM [UserCredentials] AS [u]
WHERE [u].[UserId] = @__key_0
INFO  04:14:18 Executed DbCommand (6ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 8000) (DbType = Binary), @p1='?' (Size = 8000) (DbType = Binary), @p2='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [UserCredentials] SET [HashKey] = @p0, [Password] = @p1, [Status] = @p2
WHERE [UserId] = @p3;
SELECT @@ROWCOUNT;
INFO  04:18:13 Now listening on: http://localhost:5022
INFO  04:18:13 Application started. Press Ctrl+C to shut down.
INFO  04:18:13 Hosting environment: Development
INFO  04:18:13 Content root path: C:\MyPersonalFiles\GensparkTraining\MiniProject\MiniProjectAppSolution\MiniProjectApp\
INFO  04:21:19 Entity Framework Core 6.0.29 initialized 'LibraryManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.29' with options: None
INFO  04:21:21 Executed DbCommand (226ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[HashKey], [u].[Password], [u].[Status]
FROM [UserCredentials] AS [u]
WHERE [u].[UserId] = @__key_0
WARN  04:21:22 Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
INFO  04:21:22 Executed DbCommand (29ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[Name], [t].[Phone], [t].[Role], [c].[UserId], [c].[BookId], [c].[Price], [c].[Quantity], [t0].[UserId], [t0].[BookId], [t0].[DueDate], [t0].[IsFined], [t0].[RentId], [t0].[Id], [t0].[Author], [t0].[Category], [t0].[Description], [t0].[Title], [t1].[UserId], [t1].[BookId], [t1].[DueDate], [t1].[IsFined], [t1].[RentId], [t1].[Id], [t1].[Author], [t1].[Category], [t1].[Description], [t1].[Title]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Name], [u].[Phone], [u].[Role]
    FROM [Users] AS [u]
    WHERE [u].[Id] = @__key_0
) AS [t]
LEFT JOIN [Cart] AS [c] ON [t].[Id] = [c].[UserId]
LEFT JOIN (
    SELECT [s].[UserId], [s].[BookId], [s].[DueDate], [s].[IsFined], [s].[RentId], [b].[Id], [b].[Author], [b].[Category], [b].[Description], [b].[Title]
    FROM [SuperRentCart] AS [s]
    INNER JOIN [Books] AS [b] ON [s].[BookId] = [b].[Id]
) AS [t0] ON [t].[Id] = [t0].[UserId]
LEFT JOIN (
    SELECT [r].[UserId], [r].[BookId], [r].[DueDate], [r].[IsFined], [r].[RentId], [b0].[Id], [b0].[Author], [b0].[Category], [b0].[Description], [b0].[Title]
    FROM [RentCart] AS [r]
    INNER JOIN [Books] AS [b0] ON [r].[BookId] = [b0].[Id]
) AS [t1] ON [t].[Id] = [t1].[UserId]
ORDER BY [t].[Id], [c].[UserId], [c].[BookId], [t0].[UserId], [t0].[BookId], [t0].[Id], [t1].[UserId], [t1].[BookId]
INFO  04:21:23 Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = Double), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Double), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Rents] ([Amount], [BooksToBeReturned], [CartType], [DateOfRent], [DueDate], [FineAmount], [Progress], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT [RentId]
FROM [Rents]
WHERE @@ROWCOUNT = 1 AND [RentId] = scope_identity();
INFO  04:21:23 Executed DbCommand (3ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[BookId], [r].[QuantityInStock], [r].[RentPerBook]
FROM [RentStocks] AS [r]
WHERE [r].[BookId] = @__key_0
INFO  04:21:23 Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[BookId], [r].[QuantityInStock], [r].[RentPerBook]
FROM [RentStocks] AS [r]
WHERE [r].[BookId] = @__key_0
INFO  04:21:23 Executed DbCommand (3ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Double)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [RentStocks] SET [QuantityInStock] = @p0, [RentPerBook] = @p1
WHERE [BookId] = @p2;
SELECT @@ROWCOUNT;
INFO  04:21:23 Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [RentDetails] ([BookId], [RentId], [Price], [ReturnDate], [status])
VALUES (@p0, @p1, @p2, @p3, @p4);
INFO  04:21:23 Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [RentCart] ([BookId], [UserId], [DueDate], [IsFined], [RentId])
VALUES (@p0, @p1, @p2, @p3, @p4);
INFO  04:21:23 Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[BookId], [r].[QuantityInStock], [r].[RentPerBook]
FROM [RentStocks] AS [r]
WHERE [r].[BookId] = @__key_0
INFO  04:21:23 Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[BookId], [r].[QuantityInStock], [r].[RentPerBook]
FROM [RentStocks] AS [r]
WHERE [r].[BookId] = @__key_0
INFO  04:21:23 Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Double)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [RentStocks] SET [QuantityInStock] = @p0, [RentPerBook] = @p1
WHERE [BookId] = @p2;
SELECT @@ROWCOUNT;
INFO  04:21:23 Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [RentDetails] ([BookId], [RentId], [Price], [ReturnDate], [status])
VALUES (@p0, @p1, @p2, @p3, @p4);
INFO  04:21:23 Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [RentCart] ([BookId], [UserId], [DueDate], [IsFined], [RentId])
VALUES (@p0, @p1, @p2, @p3, @p4);
INFO  04:21:23 Executed DbCommand (4ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[RentId], [t].[Amount], [t].[BooksToBeReturned], [t].[CartType], [t].[DateOfRent], [t].[DueDate], [t].[FineAmount], [t].[Progress], [t].[UserId], [r0].[RentId], [r0].[BookId], [r0].[Price], [r0].[ReturnDate], [r0].[status]
FROM (
    SELECT TOP(1) [r].[RentId], [r].[Amount], [r].[BooksToBeReturned], [r].[CartType], [r].[DateOfRent], [r].[DueDate], [r].[FineAmount], [r].[Progress], [r].[UserId]
    FROM [Rents] AS [r]
    WHERE [r].[RentId] = @__key_0
) AS [t]
LEFT JOIN [RentDetails] AS [r0] ON [t].[RentId] = [r0].[RentId]
ORDER BY [t].[RentId], [r0].[RentId]
INFO  04:21:23 Executed DbCommand (6ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = Double), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Double), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Rents] SET [Amount] = @p0, [BooksToBeReturned] = @p1, [CartType] = @p2, [DateOfRent] = @p3, [DueDate] = @p4, [FineAmount] = @p5, [Progress] = @p6, [UserId] = @p7
WHERE [RentId] = @p8;
SELECT @@ROWCOUNT;
INFO  04:21:34 Entity Framework Core 6.0.29 initialized 'LibraryManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.29' with options: None
INFO  04:21:34 Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[HashKey], [u].[Password], [u].[Status]
FROM [UserCredentials] AS [u]
WHERE [u].[UserId] = @__key_0
INFO  04:21:34 Executed DbCommand (14ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[Name], [t].[Phone], [t].[Role], [c].[UserId], [c].[BookId], [c].[Price], [c].[Quantity], [t0].[UserId], [t0].[BookId], [t0].[DueDate], [t0].[IsFined], [t0].[RentId], [t0].[Id], [t0].[Author], [t0].[Category], [t0].[Description], [t0].[Title], [t1].[UserId], [t1].[BookId], [t1].[DueDate], [t1].[IsFined], [t1].[RentId], [t1].[Id], [t1].[Author], [t1].[Category], [t1].[Description], [t1].[Title]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Name], [u].[Phone], [u].[Role]
    FROM [Users] AS [u]
    WHERE [u].[Id] = @__key_0
) AS [t]
LEFT JOIN [Cart] AS [c] ON [t].[Id] = [c].[UserId]
LEFT JOIN (
    SELECT [s].[UserId], [s].[BookId], [s].[DueDate], [s].[IsFined], [s].[RentId], [b].[Id], [b].[Author], [b].[Category], [b].[Description], [b].[Title]
    FROM [SuperRentCart] AS [s]
    INNER JOIN [Books] AS [b] ON [s].[BookId] = [b].[Id]
) AS [t0] ON [t].[Id] = [t0].[UserId]
LEFT JOIN (
    SELECT [r].[UserId], [r].[BookId], [r].[DueDate], [r].[IsFined], [r].[RentId], [b0].[Id], [b0].[Author], [b0].[Category], [b0].[Description], [b0].[Title]
    FROM [RentCart] AS [r]
    INNER JOIN [Books] AS [b0] ON [r].[BookId] = [b0].[Id]
) AS [t1] ON [t].[Id] = [t1].[UserId]
ORDER BY [t].[Id], [c].[UserId], [c].[BookId], [t0].[UserId], [t0].[BookId], [t0].[Id], [t1].[UserId], [t1].[BookId]
INFO  04:21:34 Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Double), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Double), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Rents] ([Amount], [BooksToBeReturned], [CartType], [DateOfRent], [DueDate], [FineAmount], [Progress], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT [RentId]
FROM [Rents]
WHERE @@ROWCOUNT = 1 AND [RentId] = scope_identity();
INFO  04:21:34 Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[BookId], [r].[QuantityInStock], [r].[RentPerBook]
FROM [RentStocks] AS [r]
WHERE [r].[BookId] = @__key_0
INFO  04:21:34 Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[BookId], [r].[QuantityInStock], [r].[RentPerBook]
FROM [RentStocks] AS [r]
WHERE [r].[BookId] = @__key_0
INFO  04:21:34 Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Double)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [RentStocks] SET [QuantityInStock] = @p0, [RentPerBook] = @p1
WHERE [BookId] = @p2;
SELECT @@ROWCOUNT;
INFO  04:21:34 Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [RentDetails] ([BookId], [RentId], [Price], [ReturnDate], [status])
VALUES (@p0, @p1, @p2, @p3, @p4);
INFO  04:21:34 Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [SuperRentCart] ([BookId], [UserId], [DueDate], [IsFined], [RentId])
VALUES (@p0, @p1, @p2, @p3, @p4);
INFO  04:21:34 Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[BookId], [r].[QuantityInStock], [r].[RentPerBook]
FROM [RentStocks] AS [r]
WHERE [r].[BookId] = @__key_0
INFO  04:21:34 Executed DbCommand (3ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[BookId], [r].[QuantityInStock], [r].[RentPerBook]
FROM [RentStocks] AS [r]
WHERE [r].[BookId] = @__key_0
INFO  04:21:34 Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Double)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [RentStocks] SET [QuantityInStock] = @p0, [RentPerBook] = @p1
WHERE [BookId] = @p2;
SELECT @@ROWCOUNT;
INFO  04:21:34 Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [RentDetails] ([BookId], [RentId], [Price], [ReturnDate], [status])
VALUES (@p0, @p1, @p2, @p3, @p4);
INFO  04:21:34 Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [SuperRentCart] ([BookId], [UserId], [DueDate], [IsFined], [RentId])
VALUES (@p0, @p1, @p2, @p3, @p4);
INFO  04:21:51 Entity Framework Core 6.0.29 initialized 'LibraryManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.29' with options: None
INFO  04:21:51 Executed DbCommand (19ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[Name], [t].[Phone], [t].[Role], [c].[UserId], [c].[BookId], [c].[Price], [c].[Quantity], [t0].[UserId], [t0].[BookId], [t0].[DueDate], [t0].[IsFined], [t0].[RentId], [t0].[Id], [t0].[Author], [t0].[Category], [t0].[Description], [t0].[Title], [t1].[UserId], [t1].[BookId], [t1].[DueDate], [t1].[IsFined], [t1].[RentId], [t1].[Id], [t1].[Author], [t1].[Category], [t1].[Description], [t1].[Title]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Name], [u].[Phone], [u].[Role]
    FROM [Users] AS [u]
    WHERE [u].[Id] = @__key_0
) AS [t]
LEFT JOIN [Cart] AS [c] ON [t].[Id] = [c].[UserId]
LEFT JOIN (
    SELECT [s].[UserId], [s].[BookId], [s].[DueDate], [s].[IsFined], [s].[RentId], [b].[Id], [b].[Author], [b].[Category], [b].[Description], [b].[Title]
    FROM [SuperRentCart] AS [s]
    INNER JOIN [Books] AS [b] ON [s].[BookId] = [b].[Id]
) AS [t0] ON [t].[Id] = [t0].[UserId]
LEFT JOIN (
    SELECT [r].[UserId], [r].[BookId], [r].[DueDate], [r].[IsFined], [r].[RentId], [b0].[Id], [b0].[Author], [b0].[Category], [b0].[Description], [b0].[Title]
    FROM [RentCart] AS [r]
    INNER JOIN [Books] AS [b0] ON [r].[BookId] = [b0].[Id]
) AS [t1] ON [t].[Id] = [t1].[UserId]
ORDER BY [t].[Id], [c].[UserId], [c].[BookId], [t0].[UserId], [t0].[BookId], [t0].[Id], [t1].[UserId], [t1].[BookId]
INFO  04:21:51 Executed DbCommand (3ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[UserId], [r].[BookId], [r].[DueDate], [r].[IsFined], [r].[RentId]
FROM [RentCart] AS [r]
WHERE ([r].[UserId] = @__key1_0) AND ([r].[BookId] = @__key2_1)
INFO  04:21:51 Executed DbCommand (3ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[UserId], [s].[BookId], [s].[DueDate], [s].[IsFined], [s].[RentId]
FROM [SuperRentCart] AS [s]
WHERE ([s].[UserId] = @__key1_0) AND ([s].[BookId] = @__key2_1)
INFO  04:21:51 Executed DbCommand (2ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[UserId], [r].[BookId], [r].[DueDate], [r].[IsFined], [r].[RentId]
FROM [RentCart] AS [r]
WHERE ([r].[UserId] = @__key1_0) AND ([r].[BookId] = @__key2_1)
INFO  04:21:51 Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [RentCart]
WHERE [BookId] = @p0 AND [UserId] = @p1;
SELECT @@ROWCOUNT;
INFO  04:21:51 Executed DbCommand (5ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[RentId], [t].[Amount], [t].[BooksToBeReturned], [t].[CartType], [t].[DateOfRent], [t].[DueDate], [t].[FineAmount], [t].[Progress], [t].[UserId], [r0].[RentId], [r0].[BookId], [r0].[Price], [r0].[ReturnDate], [r0].[status]
FROM (
    SELECT TOP(1) [r].[RentId], [r].[Amount], [r].[BooksToBeReturned], [r].[CartType], [r].[DateOfRent], [r].[DueDate], [r].[FineAmount], [r].[Progress], [r].[UserId]
    FROM [Rents] AS [r]
    WHERE [r].[RentId] = @__key_0
) AS [t]
LEFT JOIN [RentDetails] AS [r0] ON [t].[RentId] = [r0].[RentId]
ORDER BY [t].[RentId], [r0].[RentId]
INFO  04:21:51 Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[RentId], [t].[Amount], [t].[BooksToBeReturned], [t].[CartType], [t].[DateOfRent], [t].[DueDate], [t].[FineAmount], [t].[Progress], [t].[UserId], [r0].[RentId], [r0].[BookId], [r0].[Price], [r0].[ReturnDate], [r0].[status]
FROM (
    SELECT TOP(1) [r].[RentId], [r].[Amount], [r].[BooksToBeReturned], [r].[CartType], [r].[DateOfRent], [r].[DueDate], [r].[FineAmount], [r].[Progress], [r].[UserId]
    FROM [Rents] AS [r]
    WHERE [r].[RentId] = @__key_0
) AS [t]
LEFT JOIN [RentDetails] AS [r0] ON [t].[RentId] = [r0].[RentId]
ORDER BY [t].[RentId], [r0].[RentId]
INFO  04:21:51 Executed DbCommand (5ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = Double), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Double), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Rents] SET [Amount] = @p0, [BooksToBeReturned] = @p1, [CartType] = @p2, [DateOfRent] = @p3, [DueDate] = @p4, [FineAmount] = @p5, [Progress] = @p6, [UserId] = @p7
WHERE [RentId] = @p8;
SELECT @@ROWCOUNT;
INFO  04:21:51 Executed DbCommand (2ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[RentId], [r].[BookId], [r].[Price], [r].[ReturnDate], [r].[status]
FROM [RentDetails] AS [r]
WHERE ([r].[RentId] = @__key1_0) AND ([r].[BookId] = @__key2_1)
INFO  04:21:51 Executed DbCommand (3ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[BookId], [r].[QuantityInStock], [r].[RentPerBook]
FROM [RentStocks] AS [r]
WHERE [r].[BookId] = @__key_0
INFO  04:21:51 Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[BookId], [r].[QuantityInStock], [r].[RentPerBook]
FROM [RentStocks] AS [r]
WHERE [r].[BookId] = @__key_0
INFO  04:21:51 Executed DbCommand (4ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [RentDetails] SET [ReturnDate] = @p0, [status] = @p1
WHERE [BookId] = @p2 AND [RentId] = @p3;
SELECT @@ROWCOUNT;
INFO  04:21:51 Executed DbCommand (3ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Double)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [RentStocks] SET [QuantityInStock] = @p0, [RentPerBook] = @p1
WHERE [BookId] = @p2;
SELECT @@ROWCOUNT;
INFO  04:21:51 Executed DbCommand (1ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[UserId], [r].[BookId], [r].[DueDate], [r].[IsFined], [r].[RentId]
FROM [RentCart] AS [r]
WHERE ([r].[UserId] = @__key1_0) AND ([r].[BookId] = @__key2_1)
INFO  04:21:51 Executed DbCommand (1ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[UserId], [s].[BookId], [s].[DueDate], [s].[IsFined], [s].[RentId]
FROM [SuperRentCart] AS [s]
WHERE ([s].[UserId] = @__key1_0) AND ([s].[BookId] = @__key2_1)
INFO  04:21:51 Executed DbCommand (1ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[UserId], [s].[BookId], [s].[DueDate], [s].[IsFined], [s].[RentId]
FROM [SuperRentCart] AS [s]
WHERE ([s].[UserId] = @__key1_0) AND ([s].[BookId] = @__key2_1)
INFO  04:21:51 Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [SuperRentCart]
WHERE [BookId] = @p0 AND [UserId] = @p1;
SELECT @@ROWCOUNT;
INFO  04:21:51 Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[RentId], [t].[Amount], [t].[BooksToBeReturned], [t].[CartType], [t].[DateOfRent], [t].[DueDate], [t].[FineAmount], [t].[Progress], [t].[UserId], [r0].[RentId], [r0].[BookId], [r0].[Price], [r0].[ReturnDate], [r0].[status]
FROM (
    SELECT TOP(1) [r].[RentId], [r].[Amount], [r].[BooksToBeReturned], [r].[CartType], [r].[DateOfRent], [r].[DueDate], [r].[FineAmount], [r].[Progress], [r].[UserId]
    FROM [Rents] AS [r]
    WHERE [r].[RentId] = @__key_0
) AS [t]
LEFT JOIN [RentDetails] AS [r0] ON [t].[RentId] = [r0].[RentId]
ORDER BY [t].[RentId], [r0].[RentId]
INFO  04:21:51 Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[RentId], [t].[Amount], [t].[BooksToBeReturned], [t].[CartType], [t].[DateOfRent], [t].[DueDate], [t].[FineAmount], [t].[Progress], [t].[UserId], [r0].[RentId], [r0].[BookId], [r0].[Price], [r0].[ReturnDate], [r0].[status]
FROM (
    SELECT TOP(1) [r].[RentId], [r].[Amount], [r].[BooksToBeReturned], [r].[CartType], [r].[DateOfRent], [r].[DueDate], [r].[FineAmount], [r].[Progress], [r].[UserId]
    FROM [Rents] AS [r]
    WHERE [r].[RentId] = @__key_0
) AS [t]
LEFT JOIN [RentDetails] AS [r0] ON [t].[RentId] = [r0].[RentId]
ORDER BY [t].[RentId], [r0].[RentId]
INFO  04:21:51 Executed DbCommand (1ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = Double), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Double), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Rents] SET [Amount] = @p0, [BooksToBeReturned] = @p1, [CartType] = @p2, [DateOfRent] = @p3, [DueDate] = @p4, [FineAmount] = @p5, [Progress] = @p6, [UserId] = @p7
WHERE [RentId] = @p8;
SELECT @@ROWCOUNT;
INFO  04:21:51 Executed DbCommand (1ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[RentId], [r].[BookId], [r].[Price], [r].[ReturnDate], [r].[status]
FROM [RentDetails] AS [r]
WHERE ([r].[RentId] = @__key1_0) AND ([r].[BookId] = @__key2_1)
INFO  04:21:51 Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[BookId], [r].[QuantityInStock], [r].[RentPerBook]
FROM [RentStocks] AS [r]
WHERE [r].[BookId] = @__key_0
INFO  04:21:51 Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[BookId], [r].[QuantityInStock], [r].[RentPerBook]
FROM [RentStocks] AS [r]
WHERE [r].[BookId] = @__key_0
INFO  04:21:51 Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [RentDetails] SET [ReturnDate] = @p0, [status] = @p1
WHERE [BookId] = @p2 AND [RentId] = @p3;
SELECT @@ROWCOUNT;
INFO  04:21:51 Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Double)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [RentStocks] SET [QuantityInStock] = @p0, [RentPerBook] = @p1
WHERE [BookId] = @p2;
SELECT @@ROWCOUNT;
INFO  04:24:13 Entity Framework Core 6.0.29 initialized 'LibraryManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.29' with options: None
INFO  04:24:13 Executed DbCommand (17ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[Name], [t].[Phone], [t].[Role], [c].[UserId], [c].[BookId], [c].[Price], [c].[Quantity], [t0].[UserId], [t0].[BookId], [t0].[DueDate], [t0].[IsFined], [t0].[RentId], [t0].[Id], [t0].[Author], [t0].[Category], [t0].[Description], [t0].[Title], [t1].[UserId], [t1].[BookId], [t1].[DueDate], [t1].[IsFined], [t1].[RentId], [t1].[Id], [t1].[Author], [t1].[Category], [t1].[Description], [t1].[Title]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Name], [u].[Phone], [u].[Role]
    FROM [Users] AS [u]
    WHERE [u].[Id] = @__key_0
) AS [t]
LEFT JOIN [Cart] AS [c] ON [t].[Id] = [c].[UserId]
LEFT JOIN (
    SELECT [s].[UserId], [s].[BookId], [s].[DueDate], [s].[IsFined], [s].[RentId], [b].[Id], [b].[Author], [b].[Category], [b].[Description], [b].[Title]
    FROM [SuperRentCart] AS [s]
    INNER JOIN [Books] AS [b] ON [s].[BookId] = [b].[Id]
) AS [t0] ON [t].[Id] = [t0].[UserId]
LEFT JOIN (
    SELECT [r].[UserId], [r].[BookId], [r].[DueDate], [r].[IsFined], [r].[RentId], [b0].[Id], [b0].[Author], [b0].[Category], [b0].[Description], [b0].[Title]
    FROM [RentCart] AS [r]
    INNER JOIN [Books] AS [b0] ON [r].[BookId] = [b0].[Id]
) AS [t1] ON [t].[Id] = [t1].[UserId]
ORDER BY [t].[Id], [c].[UserId], [c].[BookId], [t0].[UserId], [t0].[BookId], [t0].[Id], [t1].[UserId], [t1].[BookId]
INFO  04:24:13 Executed DbCommand (4ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[RentId], [t].[Amount], [t].[BooksToBeReturned], [t].[CartType], [t].[DateOfRent], [t].[DueDate], [t].[FineAmount], [t].[Progress], [t].[UserId], [r0].[RentId], [r0].[BookId], [r0].[Price], [r0].[ReturnDate], [r0].[status]
FROM (
    SELECT TOP(1) [r].[RentId], [r].[Amount], [r].[BooksToBeReturned], [r].[CartType], [r].[DateOfRent], [r].[DueDate], [r].[FineAmount], [r].[Progress], [r].[UserId]
    FROM [Rents] AS [r]
    WHERE [r].[RentId] = @__key_0
) AS [t]
LEFT JOIN [RentDetails] AS [r0] ON [t].[RentId] = [r0].[RentId]
ORDER BY [t].[RentId], [r0].[RentId]
ERROR 04:24:13 Failed executing DbCommand (19ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [FineDetails] ([BookId], [RentId], [FineAmount], [FinePaidDate], [Status])
VALUES (@p0, @p1, @p2, @p3, @p4);
ERROR 04:24:13 An exception occurred in the database while saving changes for context type 'MiniProjectApp.Context.LibraryManagementContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_FineDetails_Fines_RentId". The conflict occurred in database "LibraryManagement", table "dbo.Fines", column 'RentId'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__189_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:a1cd5adb-7610-44e6-a407-91eef2bd779f
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_FineDetails_Fines_RentId". The conflict occurred in database "LibraryManagement", table "dbo.Fines", column 'RentId'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__189_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:a1cd5adb-7610-44e6-a407-91eef2bd779f
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
INFO  04:25:01 Entity Framework Core 6.0.29 initialized 'LibraryManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.29' with options: None
INFO  04:25:01 Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[Name], [t].[Phone], [t].[Role], [c].[UserId], [c].[BookId], [c].[Price], [c].[Quantity], [t0].[UserId], [t0].[BookId], [t0].[DueDate], [t0].[IsFined], [t0].[RentId], [t0].[Id], [t0].[Author], [t0].[Category], [t0].[Description], [t0].[Title], [t1].[UserId], [t1].[BookId], [t1].[DueDate], [t1].[IsFined], [t1].[RentId], [t1].[Id], [t1].[Author], [t1].[Category], [t1].[Description], [t1].[Title]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Name], [u].[Phone], [u].[Role]
    FROM [Users] AS [u]
    WHERE [u].[Id] = @__key_0
) AS [t]
LEFT JOIN [Cart] AS [c] ON [t].[Id] = [c].[UserId]
LEFT JOIN (
    SELECT [s].[UserId], [s].[BookId], [s].[DueDate], [s].[IsFined], [s].[RentId], [b].[Id], [b].[Author], [b].[Category], [b].[Description], [b].[Title]
    FROM [SuperRentCart] AS [s]
    INNER JOIN [Books] AS [b] ON [s].[BookId] = [b].[Id]
) AS [t0] ON [t].[Id] = [t0].[UserId]
LEFT JOIN (
    SELECT [r].[UserId], [r].[BookId], [r].[DueDate], [r].[IsFined], [r].[RentId], [b0].[Id], [b0].[Author], [b0].[Category], [b0].[Description], [b0].[Title]
    FROM [RentCart] AS [r]
    INNER JOIN [Books] AS [b0] ON [r].[BookId] = [b0].[Id]
) AS [t1] ON [t].[Id] = [t1].[UserId]
ORDER BY [t].[Id], [c].[UserId], [c].[BookId], [t0].[UserId], [t0].[BookId], [t0].[Id], [t1].[UserId], [t1].[BookId]
INFO  04:25:33 Executed DbCommand (60ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[RentId], [t].[Amount], [t].[BooksToBeReturned], [t].[CartType], [t].[DateOfRent], [t].[DueDate], [t].[FineAmount], [t].[Progress], [t].[UserId], [r0].[RentId], [r0].[BookId], [r0].[Price], [r0].[ReturnDate], [r0].[status]
FROM (
    SELECT TOP(1) [r].[RentId], [r].[Amount], [r].[BooksToBeReturned], [r].[CartType], [r].[DateOfRent], [r].[DueDate], [r].[FineAmount], [r].[Progress], [r].[UserId]
    FROM [Rents] AS [r]
    WHERE [r].[RentId] = @__key_0
) AS [t]
LEFT JOIN [RentDetails] AS [r0] ON [t].[RentId] = [r0].[RentId]
ORDER BY [t].[RentId], [r0].[RentId]
ERROR 04:26:42 Failed executing DbCommand (67ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [FineDetails] ([BookId], [RentId], [FineAmount], [FinePaidDate], [Status])
VALUES (@p0, @p1, @p2, @p3, @p4);
ERROR 04:26:42 An exception occurred in the database while saving changes for context type 'MiniProjectApp.Context.LibraryManagementContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_FineDetails_Fines_RentId". The conflict occurred in database "LibraryManagement", table "dbo.Fines", column 'RentId'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__189_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:a1cd5adb-7610-44e6-a407-91eef2bd779f
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_FineDetails_Fines_RentId". The conflict occurred in database "LibraryManagement", table "dbo.Fines", column 'RentId'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__189_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:a1cd5adb-7610-44e6-a407-91eef2bd779f
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
INFO  04:29:42 Entity Framework Core 6.0.29 initialized 'LibraryManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.29' with options: None
INFO  04:29:52 Entity Framework Core 6.0.29 initialized 'LibraryManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.29' with options: None
INFO  04:29:52 Executed DbCommand (38ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
INFO  04:29:52 Executed DbCommand (34ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
INFO  04:29:52 Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
INFO  04:29:52 Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
INFO  04:29:52 Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
INFO  04:29:52 Applying migration '20240531105942_seven'.
INFO  04:29:52 Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [FineDetails] DROP CONSTRAINT [FK_FineDetails_Fines_RentId];
INFO  04:29:52 Executed DbCommand (11ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [FineDetails] ADD CONSTRAINT [FK_FineDetails_Rents_RentId] FOREIGN KEY ([RentId]) REFERENCES [Rents] ([RentId]) ON DELETE CASCADE;
INFO  04:29:52 Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240531105942_seven', N'6.0.29');
INFO  04:30:12 Now listening on: http://localhost:5022
INFO  04:30:12 Application started. Press Ctrl+C to shut down.
INFO  04:30:12 Hosting environment: Development
INFO  04:30:12 Content root path: C:\MyPersonalFiles\GensparkTraining\MiniProject\MiniProjectAppSolution\MiniProjectApp\
INFO  04:30:42 Entity Framework Core 6.0.29 initialized 'LibraryManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.29' with options: None
WARN  04:30:44 Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
INFO  04:30:45 Executed DbCommand (222ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[Name], [t].[Phone], [t].[Role], [c].[UserId], [c].[BookId], [c].[Price], [c].[Quantity], [t0].[UserId], [t0].[BookId], [t0].[DueDate], [t0].[IsFined], [t0].[RentId], [t0].[Id], [t0].[Author], [t0].[Category], [t0].[Description], [t0].[Title], [t1].[UserId], [t1].[BookId], [t1].[DueDate], [t1].[IsFined], [t1].[RentId], [t1].[Id], [t1].[Author], [t1].[Category], [t1].[Description], [t1].[Title]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Name], [u].[Phone], [u].[Role]
    FROM [Users] AS [u]
    WHERE [u].[Id] = @__key_0
) AS [t]
LEFT JOIN [Cart] AS [c] ON [t].[Id] = [c].[UserId]
LEFT JOIN (
    SELECT [s].[UserId], [s].[BookId], [s].[DueDate], [s].[IsFined], [s].[RentId], [b].[Id], [b].[Author], [b].[Category], [b].[Description], [b].[Title]
    FROM [SuperRentCart] AS [s]
    INNER JOIN [Books] AS [b] ON [s].[BookId] = [b].[Id]
) AS [t0] ON [t].[Id] = [t0].[UserId]
LEFT JOIN (
    SELECT [r].[UserId], [r].[BookId], [r].[DueDate], [r].[IsFined], [r].[RentId], [b0].[Id], [b0].[Author], [b0].[Category], [b0].[Description], [b0].[Title]
    FROM [RentCart] AS [r]
    INNER JOIN [Books] AS [b0] ON [r].[BookId] = [b0].[Id]
) AS [t1] ON [t].[Id] = [t1].[UserId]
ORDER BY [t].[Id], [c].[UserId], [c].[BookId], [t0].[UserId], [t0].[BookId], [t0].[Id], [t1].[UserId], [t1].[BookId]
INFO  04:30:45 Executed DbCommand (11ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[RentId], [t].[Amount], [t].[BooksToBeReturned], [t].[CartType], [t].[DateOfRent], [t].[DueDate], [t].[FineAmount], [t].[Progress], [t].[UserId], [r0].[RentId], [r0].[BookId], [r0].[Price], [r0].[ReturnDate], [r0].[status]
FROM (
    SELECT TOP(1) [r].[RentId], [r].[Amount], [r].[BooksToBeReturned], [r].[CartType], [r].[DateOfRent], [r].[DueDate], [r].[FineAmount], [r].[Progress], [r].[UserId]
    FROM [Rents] AS [r]
    WHERE [r].[RentId] = @__key_0
) AS [t]
LEFT JOIN [RentDetails] AS [r0] ON [t].[RentId] = [r0].[RentId]
ORDER BY [t].[RentId], [r0].[RentId]
INFO  04:30:46 Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [FineDetails] ([BookId], [RentId], [FineAmount], [FinePaidDate], [Status])
VALUES (@p0, @p1, @p2, @p3, @p4);
INFO  04:30:46 Executed DbCommand (3ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[UserId], [r].[BookId], [r].[DueDate], [r].[IsFined], [r].[RentId]
FROM [RentCart] AS [r]
WHERE ([r].[UserId] = @__key1_0) AND ([r].[BookId] = @__key2_1)
INFO  04:30:46 Executed DbCommand (2ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[UserId], [r].[BookId], [r].[DueDate], [r].[IsFined], [r].[RentId]
FROM [RentCart] AS [r]
WHERE ([r].[UserId] = @__key1_0) AND ([r].[BookId] = @__key2_1)
INFO  04:30:46 Executed DbCommand (4ms) [Parameters=[@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [RentCart] SET [DueDate] = @p0, [IsFined] = @p1, [RentId] = @p2
WHERE [BookId] = @p3 AND [UserId] = @p4;
SELECT @@ROWCOUNT;
INFO  04:30:46 Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Double), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Double), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Fines] ([RentId], [FineAmount], [FinePaidDate], [FinePending], [NumbeOfBooksPaidFine], [NumberOfBooksFined], [Status], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
INFO  04:30:46 Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[RentId], [t].[Amount], [t].[BooksToBeReturned], [t].[CartType], [t].[DateOfRent], [t].[DueDate], [t].[FineAmount], [t].[Progress], [t].[UserId], [r0].[RentId], [r0].[BookId], [r0].[Price], [r0].[ReturnDate], [r0].[status]
FROM (
    SELECT TOP(1) [r].[RentId], [r].[Amount], [r].[BooksToBeReturned], [r].[CartType], [r].[DateOfRent], [r].[DueDate], [r].[FineAmount], [r].[Progress], [r].[UserId]
    FROM [Rents] AS [r]
    WHERE [r].[RentId] = @__key_0
) AS [t]
LEFT JOIN [RentDetails] AS [r0] ON [t].[RentId] = [r0].[RentId]
ORDER BY [t].[RentId], [r0].[RentId]
INFO  04:30:46 Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [FineDetails] ([BookId], [RentId], [FineAmount], [FinePaidDate], [Status])
VALUES (@p0, @p1, @p2, @p3, @p4);
INFO  04:30:46 Executed DbCommand (3ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[UserId], [s].[BookId], [s].[DueDate], [s].[IsFined], [s].[RentId]
FROM [SuperRentCart] AS [s]
WHERE ([s].[UserId] = @__key1_0) AND ([s].[BookId] = @__key2_1)
INFO  04:30:46 Executed DbCommand (2ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[UserId], [s].[BookId], [s].[DueDate], [s].[IsFined], [s].[RentId]
FROM [SuperRentCart] AS [s]
WHERE ([s].[UserId] = @__key1_0) AND ([s].[BookId] = @__key2_1)
INFO  04:30:46 Executed DbCommand (3ms) [Parameters=[@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [SuperRentCart] SET [DueDate] = @p0, [IsFined] = @p1, [RentId] = @p2
WHERE [BookId] = @p3 AND [UserId] = @p4;
SELECT @@ROWCOUNT;
INFO  04:30:46 Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Double), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Double), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Fines] ([RentId], [FineAmount], [FinePaidDate], [FinePending], [NumbeOfBooksPaidFine], [NumberOfBooksFined], [Status], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
INFO  04:30:46 Executed DbCommand (3ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[HashKey], [u].[Password], [u].[Status]
FROM [UserCredentials] AS [u]
WHERE [u].[UserId] = @__key_0
INFO  04:30:46 Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [f].[RentId], [f].[FineAmount], [f].[FinePaidDate], [f].[FinePending], [f].[NumbeOfBooksPaidFine], [f].[NumberOfBooksFined], [f].[Status], [f].[UserId]
FROM [Fines] AS [f]
INFO  04:30:46 Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[HashKey], [u].[Password], [u].[Status]
FROM [UserCredentials] AS [u]
WHERE [u].[UserId] = @__key_0
INFO  04:30:46 Executed DbCommand (4ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 8000) (DbType = Binary), @p1='?' (Size = 8000) (DbType = Binary), @p2='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [UserCredentials] SET [HashKey] = @p0, [Password] = @p1, [Status] = @p2
WHERE [UserId] = @p3;
SELECT @@ROWCOUNT;
INFO  04:38:00 Entity Framework Core 6.0.29 initialized 'LibraryManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.29' with options: None
INFO  04:38:00 Executed DbCommand (19ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[Name], [t].[Phone], [t].[Role], [c].[UserId], [c].[BookId], [c].[Price], [c].[Quantity], [t0].[UserId], [t0].[BookId], [t0].[DueDate], [t0].[IsFined], [t0].[RentId], [t0].[Id], [t0].[Author], [t0].[Category], [t0].[Description], [t0].[Title], [t1].[UserId], [t1].[BookId], [t1].[DueDate], [t1].[IsFined], [t1].[RentId], [t1].[Id], [t1].[Author], [t1].[Category], [t1].[Description], [t1].[Title]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Name], [u].[Phone], [u].[Role]
    FROM [Users] AS [u]
    WHERE [u].[Id] = @__key_0
) AS [t]
LEFT JOIN [Cart] AS [c] ON [t].[Id] = [c].[UserId]
LEFT JOIN (
    SELECT [s].[UserId], [s].[BookId], [s].[DueDate], [s].[IsFined], [s].[RentId], [b].[Id], [b].[Author], [b].[Category], [b].[Description], [b].[Title]
    FROM [SuperRentCart] AS [s]
    INNER JOIN [Books] AS [b] ON [s].[BookId] = [b].[Id]
) AS [t0] ON [t].[Id] = [t0].[UserId]
LEFT JOIN (
    SELECT [r].[UserId], [r].[BookId], [r].[DueDate], [r].[IsFined], [r].[RentId], [b0].[Id], [b0].[Author], [b0].[Category], [b0].[Description], [b0].[Title]
    FROM [RentCart] AS [r]
    INNER JOIN [Books] AS [b0] ON [r].[BookId] = [b0].[Id]
) AS [t1] ON [t].[Id] = [t1].[UserId]
ORDER BY [t].[Id], [c].[UserId], [c].[BookId], [t0].[UserId], [t0].[BookId], [t0].[Id], [t1].[UserId], [t1].[BookId]
INFO  04:38:00 Executed DbCommand (3ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[UserId], [r].[BookId], [r].[DueDate], [r].[IsFined], [r].[RentId]
FROM [RentCart] AS [r]
WHERE ([r].[UserId] = @__key1_0) AND ([r].[BookId] = @__key2_1)
INFO  04:38:00 Executed DbCommand (3ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[UserId], [s].[BookId], [s].[DueDate], [s].[IsFined], [s].[RentId]
FROM [SuperRentCart] AS [s]
WHERE ([s].[UserId] = @__key1_0) AND ([s].[BookId] = @__key2_1)
INFO  04:38:00 Executed DbCommand (2ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[UserId], [r].[BookId], [r].[DueDate], [r].[IsFined], [r].[RentId]
FROM [RentCart] AS [r]
WHERE ([r].[UserId] = @__key1_0) AND ([r].[BookId] = @__key2_1)
INFO  04:38:00 Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [RentCart]
WHERE [BookId] = @p0 AND [UserId] = @p1;
SELECT @@ROWCOUNT;
INFO  04:38:00 Executed DbCommand (4ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[RentId], [t].[Amount], [t].[BooksToBeReturned], [t].[CartType], [t].[DateOfRent], [t].[DueDate], [t].[FineAmount], [t].[Progress], [t].[UserId], [r0].[RentId], [r0].[BookId], [r0].[Price], [r0].[ReturnDate], [r0].[status]
FROM (
    SELECT TOP(1) [r].[RentId], [r].[Amount], [r].[BooksToBeReturned], [r].[CartType], [r].[DateOfRent], [r].[DueDate], [r].[FineAmount], [r].[Progress], [r].[UserId]
    FROM [Rents] AS [r]
    WHERE [r].[RentId] = @__key_0
) AS [t]
LEFT JOIN [RentDetails] AS [r0] ON [t].[RentId] = [r0].[RentId]
ORDER BY [t].[RentId], [r0].[RentId]
INFO  04:38:00 Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[RentId], [t].[Amount], [t].[BooksToBeReturned], [t].[CartType], [t].[DateOfRent], [t].[DueDate], [t].[FineAmount], [t].[Progress], [t].[UserId], [r0].[RentId], [r0].[BookId], [r0].[Price], [r0].[ReturnDate], [r0].[status]
FROM (
    SELECT TOP(1) [r].[RentId], [r].[Amount], [r].[BooksToBeReturned], [r].[CartType], [r].[DateOfRent], [r].[DueDate], [r].[FineAmount], [r].[Progress], [r].[UserId]
    FROM [Rents] AS [r]
    WHERE [r].[RentId] = @__key_0
) AS [t]
LEFT JOIN [RentDetails] AS [r0] ON [t].[RentId] = [r0].[RentId]
ORDER BY [t].[RentId], [r0].[RentId]
INFO  04:38:00 Executed DbCommand (5ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = Double), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Double), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Rents] SET [Amount] = @p0, [BooksToBeReturned] = @p1, [CartType] = @p2, [DateOfRent] = @p3, [DueDate] = @p4, [FineAmount] = @p5, [Progress] = @p6, [UserId] = @p7
WHERE [RentId] = @p8;
SELECT @@ROWCOUNT;
INFO  04:38:00 Executed DbCommand (2ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[RentId], [r].[BookId], [r].[Price], [r].[ReturnDate], [r].[status]
FROM [RentDetails] AS [r]
WHERE ([r].[RentId] = @__key1_0) AND ([r].[BookId] = @__key2_1)
INFO  04:38:00 Executed DbCommand (3ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[BookId], [r].[QuantityInStock], [r].[RentPerBook]
FROM [RentStocks] AS [r]
WHERE [r].[BookId] = @__key_0
INFO  04:38:01 Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[BookId], [r].[QuantityInStock], [r].[RentPerBook]
FROM [RentStocks] AS [r]
WHERE [r].[BookId] = @__key_0
INFO  04:38:01 Executed DbCommand (4ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [RentDetails] SET [ReturnDate] = @p0, [status] = @p1
WHERE [BookId] = @p2 AND [RentId] = @p3;
SELECT @@ROWCOUNT;
INFO  04:38:01 Executed DbCommand (4ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Double)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [RentStocks] SET [QuantityInStock] = @p0, [RentPerBook] = @p1
WHERE [BookId] = @p2;
SELECT @@ROWCOUNT;
INFO  04:38:01 Executed DbCommand (3ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[UserId], [r].[BookId], [r].[DueDate], [r].[IsFined], [r].[RentId]
FROM [RentCart] AS [r]
WHERE ([r].[UserId] = @__key1_0) AND ([r].[BookId] = @__key2_1)
INFO  04:38:01 Executed DbCommand (2ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[UserId], [s].[BookId], [s].[DueDate], [s].[IsFined], [s].[RentId]
FROM [SuperRentCart] AS [s]
WHERE ([s].[UserId] = @__key1_0) AND ([s].[BookId] = @__key2_1)
INFO  04:38:01 Executed DbCommand (2ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[UserId], [s].[BookId], [s].[DueDate], [s].[IsFined], [s].[RentId]
FROM [SuperRentCart] AS [s]
WHERE ([s].[UserId] = @__key1_0) AND ([s].[BookId] = @__key2_1)
INFO  04:38:01 Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [SuperRentCart]
WHERE [BookId] = @p0 AND [UserId] = @p1;
SELECT @@ROWCOUNT;
INFO  04:38:01 Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[RentId], [t].[Amount], [t].[BooksToBeReturned], [t].[CartType], [t].[DateOfRent], [t].[DueDate], [t].[FineAmount], [t].[Progress], [t].[UserId], [r0].[RentId], [r0].[BookId], [r0].[Price], [r0].[ReturnDate], [r0].[status]
FROM (
    SELECT TOP(1) [r].[RentId], [r].[Amount], [r].[BooksToBeReturned], [r].[CartType], [r].[DateOfRent], [r].[DueDate], [r].[FineAmount], [r].[Progress], [r].[UserId]
    FROM [Rents] AS [r]
    WHERE [r].[RentId] = @__key_0
) AS [t]
LEFT JOIN [RentDetails] AS [r0] ON [t].[RentId] = [r0].[RentId]
ORDER BY [t].[RentId], [r0].[RentId]
INFO  04:38:01 Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[RentId], [t].[Amount], [t].[BooksToBeReturned], [t].[CartType], [t].[DateOfRent], [t].[DueDate], [t].[FineAmount], [t].[Progress], [t].[UserId], [r0].[RentId], [r0].[BookId], [r0].[Price], [r0].[ReturnDate], [r0].[status]
FROM (
    SELECT TOP(1) [r].[RentId], [r].[Amount], [r].[BooksToBeReturned], [r].[CartType], [r].[DateOfRent], [r].[DueDate], [r].[FineAmount], [r].[Progress], [r].[UserId]
    FROM [Rents] AS [r]
    WHERE [r].[RentId] = @__key_0
) AS [t]
LEFT JOIN [RentDetails] AS [r0] ON [t].[RentId] = [r0].[RentId]
ORDER BY [t].[RentId], [r0].[RentId]
INFO  04:38:01 Executed DbCommand (1ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = Double), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Double), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Rents] SET [Amount] = @p0, [BooksToBeReturned] = @p1, [CartType] = @p2, [DateOfRent] = @p3, [DueDate] = @p4, [FineAmount] = @p5, [Progress] = @p6, [UserId] = @p7
WHERE [RentId] = @p8;
SELECT @@ROWCOUNT;
INFO  04:38:01 Executed DbCommand (3ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[RentId], [r].[BookId], [r].[Price], [r].[ReturnDate], [r].[status]
FROM [RentDetails] AS [r]
WHERE ([r].[RentId] = @__key1_0) AND ([r].[BookId] = @__key2_1)
INFO  04:38:01 Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[BookId], [r].[QuantityInStock], [r].[RentPerBook]
FROM [RentStocks] AS [r]
WHERE [r].[BookId] = @__key_0
INFO  04:38:01 Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[BookId], [r].[QuantityInStock], [r].[RentPerBook]
FROM [RentStocks] AS [r]
WHERE [r].[BookId] = @__key_0
INFO  04:38:01 Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [RentDetails] SET [ReturnDate] = @p0, [status] = @p1
WHERE [BookId] = @p2 AND [RentId] = @p3;
SELECT @@ROWCOUNT;
INFO  04:38:01 Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Double)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [RentStocks] SET [QuantityInStock] = @p0, [RentPerBook] = @p1
WHERE [BookId] = @p2;
SELECT @@ROWCOUNT;
INFO  04:38:55 Entity Framework Core 6.0.29 initialized 'LibraryManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.29' with options: None
INFO  04:38:55 Executed DbCommand (7ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [f].[RentId], [f].[FineAmount], [f].[FinePaidDate], [f].[FinePending], [f].[NumbeOfBooksPaidFine], [f].[NumberOfBooksFined], [f].[Status], [f].[UserId]
FROM [Fines] AS [f]
WHERE [f].[RentId] = @__key_0
INFO  04:38:55 Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [f].[RentId], [f].[BookId], [f].[FineAmount], [f].[FinePaidDate], [f].[Status]
FROM [FineDetails] AS [f]
INFO  04:38:55 Executed DbCommand (4ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[RentId], [r].[BookId], [r].[Price], [r].[ReturnDate], [r].[status]
FROM [RentDetails] AS [r]
WHERE ([r].[RentId] = @__key1_0) AND ([r].[BookId] = @__key2_1)
INFO  04:38:55 Executed DbCommand (4ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [f].[RentId], [f].[BookId], [f].[FineAmount], [f].[FinePaidDate], [f].[Status]
FROM [FineDetails] AS [f]
WHERE ([f].[RentId] = @__key1_0) AND ([f].[BookId] = @__key2_1)
INFO  04:38:55 Executed DbCommand (4ms) [Parameters=[@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p0='?' (DbType = Double), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [FineDetails] SET [FineAmount] = @p0, [FinePaidDate] = @p1, [Status] = @p2
WHERE [BookId] = @p3 AND [RentId] = @p4;
SELECT @@ROWCOUNT;
INFO  04:38:55 Executed DbCommand (4ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[RentId], [r].[BookId], [r].[Price], [r].[ReturnDate], [r].[status]
FROM [RentDetails] AS [r]
WHERE ([r].[RentId] = @__key1_0) AND ([r].[BookId] = @__key2_1)
INFO  04:38:55 Executed DbCommand (12ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [f].[RentId], [f].[BookId], [f].[FineAmount], [f].[FinePaidDate], [f].[Status]
FROM [FineDetails] AS [f]
WHERE ([f].[RentId] = @__key1_0) AND ([f].[BookId] = @__key2_1)
INFO  04:38:55 Executed DbCommand (4ms) [Parameters=[@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p0='?' (DbType = Double), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [FineDetails] SET [FineAmount] = @p0, [FinePaidDate] = @p1, [Status] = @p2
WHERE [BookId] = @p3 AND [RentId] = @p4;
SELECT @@ROWCOUNT;
INFO  04:38:55 Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [f].[RentId], [f].[FineAmount], [f].[FinePaidDate], [f].[FinePending], [f].[NumbeOfBooksPaidFine], [f].[NumberOfBooksFined], [f].[Status], [f].[UserId]
FROM [Fines] AS [f]
WHERE [f].[RentId] = @__key_0
INFO  04:38:55 Executed DbCommand (5ms) [Parameters=[@p7='?' (DbType = Int32), @p0='?' (DbType = Double), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Double), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Fines] SET [FineAmount] = @p0, [FinePaidDate] = @p1, [FinePending] = @p2, [NumbeOfBooksPaidFine] = @p3, [NumberOfBooksFined] = @p4, [Status] = @p5, [UserId] = @p6
WHERE [RentId] = @p7;
SELECT @@ROWCOUNT;
INFO  04:45:19 Entity Framework Core 6.0.29 initialized 'LibraryManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.29' with options: None
INFO  04:45:19 Executed DbCommand (5ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [f].[RentId], [f].[FineAmount], [f].[FinePaidDate], [f].[FinePending], [f].[NumbeOfBooksPaidFine], [f].[NumberOfBooksFined], [f].[Status], [f].[UserId]
FROM [Fines] AS [f]
WHERE [f].[RentId] = @__key_0
INFO  04:45:19 Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [f].[RentId], [f].[BookId], [f].[FineAmount], [f].[FinePaidDate], [f].[Status]
FROM [FineDetails] AS [f]
INFO  04:45:19 Executed DbCommand (2ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[RentId], [r].[BookId], [r].[Price], [r].[ReturnDate], [r].[status]
FROM [RentDetails] AS [r]
WHERE ([r].[RentId] = @__key1_0) AND ([r].[BookId] = @__key2_1)
INFO  04:45:19 Executed DbCommand (2ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [f].[RentId], [f].[BookId], [f].[FineAmount], [f].[FinePaidDate], [f].[Status]
FROM [FineDetails] AS [f]
WHERE ([f].[RentId] = @__key1_0) AND ([f].[BookId] = @__key2_1)
INFO  04:45:19 Executed DbCommand (3ms) [Parameters=[@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p0='?' (DbType = Double), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [FineDetails] SET [FineAmount] = @p0, [FinePaidDate] = @p1, [Status] = @p2
WHERE [BookId] = @p3 AND [RentId] = @p4;
SELECT @@ROWCOUNT;
INFO  04:45:19 Executed DbCommand (1ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[RentId], [r].[BookId], [r].[Price], [r].[ReturnDate], [r].[status]
FROM [RentDetails] AS [r]
WHERE ([r].[RentId] = @__key1_0) AND ([r].[BookId] = @__key2_1)
INFO  04:45:19 Executed DbCommand (2ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [f].[RentId], [f].[BookId], [f].[FineAmount], [f].[FinePaidDate], [f].[Status]
FROM [FineDetails] AS [f]
WHERE ([f].[RentId] = @__key1_0) AND ([f].[BookId] = @__key2_1)
INFO  04:45:19 Executed DbCommand (1ms) [Parameters=[@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p0='?' (DbType = Double), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [FineDetails] SET [FineAmount] = @p0, [FinePaidDate] = @p1, [Status] = @p2
WHERE [BookId] = @p3 AND [RentId] = @p4;
SELECT @@ROWCOUNT;
INFO  04:45:19 Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [f].[RentId], [f].[FineAmount], [f].[FinePaidDate], [f].[FinePending], [f].[NumbeOfBooksPaidFine], [f].[NumberOfBooksFined], [f].[Status], [f].[UserId]
FROM [Fines] AS [f]
WHERE [f].[RentId] = @__key_0
INFO  04:45:19 Executed DbCommand (4ms) [Parameters=[@p7='?' (DbType = Int32), @p0='?' (DbType = Double), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Double), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Fines] SET [FineAmount] = @p0, [FinePaidDate] = @p1, [FinePending] = @p2, [NumbeOfBooksPaidFine] = @p3, [NumberOfBooksFined] = @p4, [Status] = @p5, [UserId] = @p6
WHERE [RentId] = @p7;
SELECT @@ROWCOUNT;
INFO  04:48:19 Entity Framework Core 6.0.29 initialized 'LibraryManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.29' with options: None
INFO  04:48:19 Executed DbCommand (4ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[HashKey], [u].[Password], [u].[Status]
FROM [UserCredentials] AS [u]
WHERE [u].[UserId] = @__key_0
INFO  04:48:30 Entity Framework Core 6.0.29 initialized 'LibraryManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.29' with options: None
WARN  04:48:30 Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
INFO  04:48:30 Executed DbCommand (16ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[Name], [t].[Phone], [t].[Role], [c].[UserId], [c].[BookId], [c].[Price], [c].[Quantity], [t0].[UserId], [t0].[BookId], [t0].[DueDate], [t0].[IsFined], [t0].[RentId], [t0].[Id], [t0].[Author], [t0].[Category], [t0].[Description], [t0].[Title], [t1].[UserId], [t1].[BookId], [t1].[DueDate], [t1].[IsFined], [t1].[RentId], [t1].[Id], [t1].[Author], [t1].[Category], [t1].[Description], [t1].[Title]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Name], [u].[Phone], [u].[Role]
    FROM [Users] AS [u]
    WHERE [u].[Id] = @__key_0
) AS [t]
LEFT JOIN [Cart] AS [c] ON [t].[Id] = [c].[UserId]
LEFT JOIN (
    SELECT [s].[UserId], [s].[BookId], [s].[DueDate], [s].[IsFined], [s].[RentId], [b].[Id], [b].[Author], [b].[Category], [b].[Description], [b].[Title]
    FROM [SuperRentCart] AS [s]
    INNER JOIN [Books] AS [b] ON [s].[BookId] = [b].[Id]
) AS [t0] ON [t].[Id] = [t0].[UserId]
LEFT JOIN (
    SELECT [r].[UserId], [r].[BookId], [r].[DueDate], [r].[IsFined], [r].[RentId], [b0].[Id], [b0].[Author], [b0].[Category], [b0].[Description], [b0].[Title]
    FROM [RentCart] AS [r]
    INNER JOIN [Books] AS [b0] ON [r].[BookId] = [b0].[Id]
) AS [t1] ON [t].[Id] = [t1].[UserId]
ORDER BY [t].[Id], [c].[UserId], [c].[BookId], [t0].[UserId], [t0].[BookId], [t0].[Id], [t1].[UserId], [t1].[BookId]
INFO  04:48:30 Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[HashKey], [u].[Password], [u].[Status]
FROM [UserCredentials] AS [u]
WHERE [u].[UserId] = @__key_0
INFO  04:48:30 Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [f].[RentId], [f].[FineAmount], [f].[FinePaidDate], [f].[FinePending], [f].[NumbeOfBooksPaidFine], [f].[NumberOfBooksFined], [f].[Status], [f].[UserId]
FROM [Fines] AS [f]
INFO  04:48:30 Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[HashKey], [u].[Password], [u].[Status]
FROM [UserCredentials] AS [u]
WHERE [u].[UserId] = @__key_0
INFO  04:48:30 Executed DbCommand (3ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 8000) (DbType = Binary), @p1='?' (Size = 8000) (DbType = Binary), @p2='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [UserCredentials] SET [HashKey] = @p0, [Password] = @p1, [Status] = @p2
WHERE [UserId] = @p3;
SELECT @@ROWCOUNT;
INFO  04:48:36 Entity Framework Core 6.0.29 initialized 'LibraryManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.29' with options: None
INFO  04:48:36 Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[HashKey], [u].[Password], [u].[Status]
FROM [UserCredentials] AS [u]
WHERE [u].[UserId] = @__key_0
INFO  04:48:37 Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[Name], [t].[Phone], [t].[Role], [c].[UserId], [c].[BookId], [c].[Price], [c].[Quantity], [t0].[UserId], [t0].[BookId], [t0].[DueDate], [t0].[IsFined], [t0].[RentId], [t0].[Id], [t0].[Author], [t0].[Category], [t0].[Description], [t0].[Title], [t1].[UserId], [t1].[BookId], [t1].[DueDate], [t1].[IsFined], [t1].[RentId], [t1].[Id], [t1].[Author], [t1].[Category], [t1].[Description], [t1].[Title]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Name], [u].[Phone], [u].[Role]
    FROM [Users] AS [u]
    WHERE [u].[Id] = @__key_0
) AS [t]
LEFT JOIN [Cart] AS [c] ON [t].[Id] = [c].[UserId]
LEFT JOIN (
    SELECT [s].[UserId], [s].[BookId], [s].[DueDate], [s].[IsFined], [s].[RentId], [b].[Id], [b].[Author], [b].[Category], [b].[Description], [b].[Title]
    FROM [SuperRentCart] AS [s]
    INNER JOIN [Books] AS [b] ON [s].[BookId] = [b].[Id]
) AS [t0] ON [t].[Id] = [t0].[UserId]
LEFT JOIN (
    SELECT [r].[UserId], [r].[BookId], [r].[DueDate], [r].[IsFined], [r].[RentId], [b0].[Id], [b0].[Author], [b0].[Category], [b0].[Description], [b0].[Title]
    FROM [RentCart] AS [r]
    INNER JOIN [Books] AS [b0] ON [r].[BookId] = [b0].[Id]
) AS [t1] ON [t].[Id] = [t1].[UserId]
ORDER BY [t].[Id], [c].[UserId], [c].[BookId], [t0].[UserId], [t0].[BookId], [t0].[Id], [t1].[UserId], [t1].[BookId]
INFO  04:48:37 Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Double), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Double), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Rents] ([Amount], [BooksToBeReturned], [CartType], [DateOfRent], [DueDate], [FineAmount], [Progress], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT [RentId]
FROM [Rents]
WHERE @@ROWCOUNT = 1 AND [RentId] = scope_identity();
INFO  04:48:37 Executed DbCommand (3ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[BookId], [r].[QuantityInStock], [r].[RentPerBook]
FROM [RentStocks] AS [r]
WHERE [r].[BookId] = @__key_0
INFO  04:48:37 Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[BookId], [r].[QuantityInStock], [r].[RentPerBook]
FROM [RentStocks] AS [r]
WHERE [r].[BookId] = @__key_0
INFO  04:48:37 Executed DbCommand (3ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Double)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [RentStocks] SET [QuantityInStock] = @p0, [RentPerBook] = @p1
WHERE [BookId] = @p2;
SELECT @@ROWCOUNT;
INFO  04:48:37 Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [RentDetails] ([BookId], [RentId], [Price], [ReturnDate], [status])
VALUES (@p0, @p1, @p2, @p3, @p4);
INFO  04:48:37 Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [SuperRentCart] ([BookId], [UserId], [DueDate], [IsFined], [RentId])
VALUES (@p0, @p1, @p2, @p3, @p4);
INFO  04:48:37 Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[BookId], [r].[QuantityInStock], [r].[RentPerBook]
FROM [RentStocks] AS [r]
WHERE [r].[BookId] = @__key_0
INFO  04:48:37 Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[BookId], [r].[QuantityInStock], [r].[RentPerBook]
FROM [RentStocks] AS [r]
WHERE [r].[BookId] = @__key_0
INFO  04:48:37 Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Double)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [RentStocks] SET [QuantityInStock] = @p0, [RentPerBook] = @p1
WHERE [BookId] = @p2;
SELECT @@ROWCOUNT;
INFO  04:48:37 Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [RentDetails] ([BookId], [RentId], [Price], [ReturnDate], [status])
VALUES (@p0, @p1, @p2, @p3, @p4);
INFO  04:48:37 Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [SuperRentCart] ([BookId], [UserId], [DueDate], [IsFined], [RentId])
VALUES (@p0, @p1, @p2, @p3, @p4);
INFO  04:48:37 Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[BookId], [r].[QuantityInStock], [r].[RentPerBook]
FROM [RentStocks] AS [r]
WHERE [r].[BookId] = @__key_0
INFO  04:48:37 Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[BookId], [r].[QuantityInStock], [r].[RentPerBook]
FROM [RentStocks] AS [r]
WHERE [r].[BookId] = @__key_0
INFO  04:48:37 Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Double)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [RentStocks] SET [QuantityInStock] = @p0, [RentPerBook] = @p1
WHERE [BookId] = @p2;
SELECT @@ROWCOUNT;
INFO  04:48:37 Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [RentDetails] ([BookId], [RentId], [Price], [ReturnDate], [status])
VALUES (@p0, @p1, @p2, @p3, @p4);
INFO  04:48:37 Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [SuperRentCart] ([BookId], [UserId], [DueDate], [IsFined], [RentId])
VALUES (@p0, @p1, @p2, @p3, @p4);
INFO  04:48:50 Entity Framework Core 6.0.29 initialized 'LibraryManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.29' with options: None
INFO  04:48:50 Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[HashKey], [u].[Password], [u].[Status]
FROM [UserCredentials] AS [u]
WHERE [u].[UserId] = @__key_0
INFO  04:48:50 Executed DbCommand (14ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[Name], [t].[Phone], [t].[Role], [c].[UserId], [c].[BookId], [c].[Price], [c].[Quantity], [t0].[UserId], [t0].[BookId], [t0].[DueDate], [t0].[IsFined], [t0].[RentId], [t0].[Id], [t0].[Author], [t0].[Category], [t0].[Description], [t0].[Title], [t1].[UserId], [t1].[BookId], [t1].[DueDate], [t1].[IsFined], [t1].[RentId], [t1].[Id], [t1].[Author], [t1].[Category], [t1].[Description], [t1].[Title]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Name], [u].[Phone], [u].[Role]
    FROM [Users] AS [u]
    WHERE [u].[Id] = @__key_0
) AS [t]
LEFT JOIN [Cart] AS [c] ON [t].[Id] = [c].[UserId]
LEFT JOIN (
    SELECT [s].[UserId], [s].[BookId], [s].[DueDate], [s].[IsFined], [s].[RentId], [b].[Id], [b].[Author], [b].[Category], [b].[Description], [b].[Title]
    FROM [SuperRentCart] AS [s]
    INNER JOIN [Books] AS [b] ON [s].[BookId] = [b].[Id]
) AS [t0] ON [t].[Id] = [t0].[UserId]
LEFT JOIN (
    SELECT [r].[UserId], [r].[BookId], [r].[DueDate], [r].[IsFined], [r].[RentId], [b0].[Id], [b0].[Author], [b0].[Category], [b0].[Description], [b0].[Title]
    FROM [RentCart] AS [r]
    INNER JOIN [Books] AS [b0] ON [r].[BookId] = [b0].[Id]
) AS [t1] ON [t].[Id] = [t1].[UserId]
ORDER BY [t].[Id], [c].[UserId], [c].[BookId], [t0].[UserId], [t0].[BookId], [t0].[Id], [t1].[UserId], [t1].[BookId]
INFO  04:48:50 Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Double), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Double), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Rents] ([Amount], [BooksToBeReturned], [CartType], [DateOfRent], [DueDate], [FineAmount], [Progress], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT [RentId]
FROM [Rents]
WHERE @@ROWCOUNT = 1 AND [RentId] = scope_identity();
INFO  04:48:50 Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[BookId], [r].[QuantityInStock], [r].[RentPerBook]
FROM [RentStocks] AS [r]
WHERE [r].[BookId] = @__key_0
INFO  04:48:50 Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[BookId], [r].[QuantityInStock], [r].[RentPerBook]
FROM [RentStocks] AS [r]
WHERE [r].[BookId] = @__key_0
INFO  04:48:50 Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Double)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [RentStocks] SET [QuantityInStock] = @p0, [RentPerBook] = @p1
WHERE [BookId] = @p2;
SELECT @@ROWCOUNT;
INFO  04:48:50 Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [RentDetails] ([BookId], [RentId], [Price], [ReturnDate], [status])
VALUES (@p0, @p1, @p2, @p3, @p4);
INFO  04:48:50 Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [RentCart] ([BookId], [UserId], [DueDate], [IsFined], [RentId])
VALUES (@p0, @p1, @p2, @p3, @p4);
INFO  04:48:50 Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[BookId], [r].[QuantityInStock], [r].[RentPerBook]
FROM [RentStocks] AS [r]
WHERE [r].[BookId] = @__key_0
INFO  04:48:50 Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[BookId], [r].[QuantityInStock], [r].[RentPerBook]
FROM [RentStocks] AS [r]
WHERE [r].[BookId] = @__key_0
INFO  04:48:50 Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Double)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [RentStocks] SET [QuantityInStock] = @p0, [RentPerBook] = @p1
WHERE [BookId] = @p2;
SELECT @@ROWCOUNT;
INFO  04:48:50 Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [RentDetails] ([BookId], [RentId], [Price], [ReturnDate], [status])
VALUES (@p0, @p1, @p2, @p3, @p4);
INFO  04:48:50 Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [RentCart] ([BookId], [UserId], [DueDate], [IsFined], [RentId])
VALUES (@p0, @p1, @p2, @p3, @p4);
INFO  04:48:51 Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[BookId], [r].[QuantityInStock], [r].[RentPerBook]
FROM [RentStocks] AS [r]
WHERE [r].[BookId] = @__key_0
INFO  04:48:51 Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[BookId], [r].[QuantityInStock], [r].[RentPerBook]
FROM [RentStocks] AS [r]
WHERE [r].[BookId] = @__key_0
INFO  04:48:51 Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Double)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [RentStocks] SET [QuantityInStock] = @p0, [RentPerBook] = @p1
WHERE [BookId] = @p2;
SELECT @@ROWCOUNT;
INFO  04:48:51 Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [RentDetails] ([BookId], [RentId], [Price], [ReturnDate], [status])
VALUES (@p0, @p1, @p2, @p3, @p4);
INFO  04:48:51 Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [RentCart] ([BookId], [UserId], [DueDate], [IsFined], [RentId])
VALUES (@p0, @p1, @p2, @p3, @p4);
INFO  04:48:51 Executed DbCommand (4ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[RentId], [t].[Amount], [t].[BooksToBeReturned], [t].[CartType], [t].[DateOfRent], [t].[DueDate], [t].[FineAmount], [t].[Progress], [t].[UserId], [r0].[RentId], [r0].[BookId], [r0].[Price], [r0].[ReturnDate], [r0].[status]
FROM (
    SELECT TOP(1) [r].[RentId], [r].[Amount], [r].[BooksToBeReturned], [r].[CartType], [r].[DateOfRent], [r].[DueDate], [r].[FineAmount], [r].[Progress], [r].[UserId]
    FROM [Rents] AS [r]
    WHERE [r].[RentId] = @__key_0
) AS [t]
LEFT JOIN [RentDetails] AS [r0] ON [t].[RentId] = [r0].[RentId]
ORDER BY [t].[RentId], [r0].[RentId]
INFO  04:48:51 Executed DbCommand (4ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = Double), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Double), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Rents] SET [Amount] = @p0, [BooksToBeReturned] = @p1, [CartType] = @p2, [DateOfRent] = @p3, [DueDate] = @p4, [FineAmount] = @p5, [Progress] = @p6, [UserId] = @p7
WHERE [RentId] = @p8;
SELECT @@ROWCOUNT;
INFO  04:49:08 Entity Framework Core 6.0.29 initialized 'LibraryManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.29' with options: None
INFO  04:49:08 Executed DbCommand (19ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[Name], [t].[Phone], [t].[Role], [c].[UserId], [c].[BookId], [c].[Price], [c].[Quantity], [t0].[UserId], [t0].[BookId], [t0].[DueDate], [t0].[IsFined], [t0].[RentId], [t0].[Id], [t0].[Author], [t0].[Category], [t0].[Description], [t0].[Title], [t1].[UserId], [t1].[BookId], [t1].[DueDate], [t1].[IsFined], [t1].[RentId], [t1].[Id], [t1].[Author], [t1].[Category], [t1].[Description], [t1].[Title]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Name], [u].[Phone], [u].[Role]
    FROM [Users] AS [u]
    WHERE [u].[Id] = @__key_0
) AS [t]
LEFT JOIN [Cart] AS [c] ON [t].[Id] = [c].[UserId]
LEFT JOIN (
    SELECT [s].[UserId], [s].[BookId], [s].[DueDate], [s].[IsFined], [s].[RentId], [b].[Id], [b].[Author], [b].[Category], [b].[Description], [b].[Title]
    FROM [SuperRentCart] AS [s]
    INNER JOIN [Books] AS [b] ON [s].[BookId] = [b].[Id]
) AS [t0] ON [t].[Id] = [t0].[UserId]
LEFT JOIN (
    SELECT [r].[UserId], [r].[BookId], [r].[DueDate], [r].[IsFined], [r].[RentId], [b0].[Id], [b0].[Author], [b0].[Category], [b0].[Description], [b0].[Title]
    FROM [RentCart] AS [r]
    INNER JOIN [Books] AS [b0] ON [r].[BookId] = [b0].[Id]
) AS [t1] ON [t].[Id] = [t1].[UserId]
ORDER BY [t].[Id], [c].[UserId], [c].[BookId], [t0].[UserId], [t0].[BookId], [t0].[Id], [t1].[UserId], [t1].[BookId]
INFO  04:49:08 Executed DbCommand (2ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[UserId], [r].[BookId], [r].[DueDate], [r].[IsFined], [r].[RentId]
FROM [RentCart] AS [r]
WHERE ([r].[UserId] = @__key1_0) AND ([r].[BookId] = @__key2_1)
INFO  04:49:08 Executed DbCommand (3ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[UserId], [s].[BookId], [s].[DueDate], [s].[IsFined], [s].[RentId]
FROM [SuperRentCart] AS [s]
WHERE ([s].[UserId] = @__key1_0) AND ([s].[BookId] = @__key2_1)
INFO  04:49:08 Executed DbCommand (2ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[UserId], [s].[BookId], [s].[DueDate], [s].[IsFined], [s].[RentId]
FROM [SuperRentCart] AS [s]
WHERE ([s].[UserId] = @__key1_0) AND ([s].[BookId] = @__key2_1)
INFO  04:49:08 Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [SuperRentCart]
WHERE [BookId] = @p0 AND [UserId] = @p1;
SELECT @@ROWCOUNT;
INFO  04:49:08 Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[RentId], [t].[Amount], [t].[BooksToBeReturned], [t].[CartType], [t].[DateOfRent], [t].[DueDate], [t].[FineAmount], [t].[Progress], [t].[UserId], [r0].[RentId], [r0].[BookId], [r0].[Price], [r0].[ReturnDate], [r0].[status]
FROM (
    SELECT TOP(1) [r].[RentId], [r].[Amount], [r].[BooksToBeReturned], [r].[CartType], [r].[DateOfRent], [r].[DueDate], [r].[FineAmount], [r].[Progress], [r].[UserId]
    FROM [Rents] AS [r]
    WHERE [r].[RentId] = @__key_0
) AS [t]
LEFT JOIN [RentDetails] AS [r0] ON [t].[RentId] = [r0].[RentId]
ORDER BY [t].[RentId], [r0].[RentId]
INFO  04:49:08 Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[RentId], [t].[Amount], [t].[BooksToBeReturned], [t].[CartType], [t].[DateOfRent], [t].[DueDate], [t].[FineAmount], [t].[Progress], [t].[UserId], [r0].[RentId], [r0].[BookId], [r0].[Price], [r0].[ReturnDate], [r0].[status]
FROM (
    SELECT TOP(1) [r].[RentId], [r].[Amount], [r].[BooksToBeReturned], [r].[CartType], [r].[DateOfRent], [r].[DueDate], [r].[FineAmount], [r].[Progress], [r].[UserId]
    FROM [Rents] AS [r]
    WHERE [r].[RentId] = @__key_0
) AS [t]
LEFT JOIN [RentDetails] AS [r0] ON [t].[RentId] = [r0].[RentId]
ORDER BY [t].[RentId], [r0].[RentId]
INFO  04:49:08 Executed DbCommand (1ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = Double), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Double), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Rents] SET [Amount] = @p0, [BooksToBeReturned] = @p1, [CartType] = @p2, [DateOfRent] = @p3, [DueDate] = @p4, [FineAmount] = @p5, [Progress] = @p6, [UserId] = @p7
WHERE [RentId] = @p8;
SELECT @@ROWCOUNT;
INFO  04:49:08 Executed DbCommand (3ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[RentId], [r].[BookId], [r].[Price], [r].[ReturnDate], [r].[status]
FROM [RentDetails] AS [r]
WHERE ([r].[RentId] = @__key1_0) AND ([r].[BookId] = @__key2_1)
INFO  04:49:08 Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[BookId], [r].[QuantityInStock], [r].[RentPerBook]
FROM [RentStocks] AS [r]
WHERE [r].[BookId] = @__key_0
INFO  04:49:08 Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[BookId], [r].[QuantityInStock], [r].[RentPerBook]
FROM [RentStocks] AS [r]
WHERE [r].[BookId] = @__key_0
INFO  04:49:08 Executed DbCommand (3ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [RentDetails] SET [ReturnDate] = @p0, [status] = @p1
WHERE [BookId] = @p2 AND [RentId] = @p3;
SELECT @@ROWCOUNT;
INFO  04:49:08 Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Double)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [RentStocks] SET [QuantityInStock] = @p0, [RentPerBook] = @p1
WHERE [BookId] = @p2;
SELECT @@ROWCOUNT;
INFO  04:49:14 Entity Framework Core 6.0.29 initialized 'LibraryManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.29' with options: None
INFO  04:49:14 Executed DbCommand (19ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[Name], [t].[Phone], [t].[Role], [c].[UserId], [c].[BookId], [c].[Price], [c].[Quantity], [t0].[UserId], [t0].[BookId], [t0].[DueDate], [t0].[IsFined], [t0].[RentId], [t0].[Id], [t0].[Author], [t0].[Category], [t0].[Description], [t0].[Title], [t1].[UserId], [t1].[BookId], [t1].[DueDate], [t1].[IsFined], [t1].[RentId], [t1].[Id], [t1].[Author], [t1].[Category], [t1].[Description], [t1].[Title]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Name], [u].[Phone], [u].[Role]
    FROM [Users] AS [u]
    WHERE [u].[Id] = @__key_0
) AS [t]
LEFT JOIN [Cart] AS [c] ON [t].[Id] = [c].[UserId]
LEFT JOIN (
    SELECT [s].[UserId], [s].[BookId], [s].[DueDate], [s].[IsFined], [s].[RentId], [b].[Id], [b].[Author], [b].[Category], [b].[Description], [b].[Title]
    FROM [SuperRentCart] AS [s]
    INNER JOIN [Books] AS [b] ON [s].[BookId] = [b].[Id]
) AS [t0] ON [t].[Id] = [t0].[UserId]
LEFT JOIN (
    SELECT [r].[UserId], [r].[BookId], [r].[DueDate], [r].[IsFined], [r].[RentId], [b0].[Id], [b0].[Author], [b0].[Category], [b0].[Description], [b0].[Title]
    FROM [RentCart] AS [r]
    INNER JOIN [Books] AS [b0] ON [r].[BookId] = [b0].[Id]
) AS [t1] ON [t].[Id] = [t1].[UserId]
ORDER BY [t].[Id], [c].[UserId], [c].[BookId], [t0].[UserId], [t0].[BookId], [t0].[Id], [t1].[UserId], [t1].[BookId]
INFO  04:49:14 Executed DbCommand (2ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[UserId], [r].[BookId], [r].[DueDate], [r].[IsFined], [r].[RentId]
FROM [RentCart] AS [r]
WHERE ([r].[UserId] = @__key1_0) AND ([r].[BookId] = @__key2_1)
INFO  04:49:14 Executed DbCommand (2ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[UserId], [s].[BookId], [s].[DueDate], [s].[IsFined], [s].[RentId]
FROM [SuperRentCart] AS [s]
WHERE ([s].[UserId] = @__key1_0) AND ([s].[BookId] = @__key2_1)
INFO  04:49:14 Executed DbCommand (1ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[UserId], [r].[BookId], [r].[DueDate], [r].[IsFined], [r].[RentId]
FROM [RentCart] AS [r]
WHERE ([r].[UserId] = @__key1_0) AND ([r].[BookId] = @__key2_1)
INFO  04:49:14 Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [RentCart]
WHERE [BookId] = @p0 AND [UserId] = @p1;
SELECT @@ROWCOUNT;
INFO  04:49:14 Executed DbCommand (4ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[RentId], [t].[Amount], [t].[BooksToBeReturned], [t].[CartType], [t].[DateOfRent], [t].[DueDate], [t].[FineAmount], [t].[Progress], [t].[UserId], [r0].[RentId], [r0].[BookId], [r0].[Price], [r0].[ReturnDate], [r0].[status]
FROM (
    SELECT TOP(1) [r].[RentId], [r].[Amount], [r].[BooksToBeReturned], [r].[CartType], [r].[DateOfRent], [r].[DueDate], [r].[FineAmount], [r].[Progress], [r].[UserId]
    FROM [Rents] AS [r]
    WHERE [r].[RentId] = @__key_0
) AS [t]
LEFT JOIN [RentDetails] AS [r0] ON [t].[RentId] = [r0].[RentId]
ORDER BY [t].[RentId], [r0].[RentId]
INFO  04:49:14 Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[RentId], [t].[Amount], [t].[BooksToBeReturned], [t].[CartType], [t].[DateOfRent], [t].[DueDate], [t].[FineAmount], [t].[Progress], [t].[UserId], [r0].[RentId], [r0].[BookId], [r0].[Price], [r0].[ReturnDate], [r0].[status]
FROM (
    SELECT TOP(1) [r].[RentId], [r].[Amount], [r].[BooksToBeReturned], [r].[CartType], [r].[DateOfRent], [r].[DueDate], [r].[FineAmount], [r].[Progress], [r].[UserId]
    FROM [Rents] AS [r]
    WHERE [r].[RentId] = @__key_0
) AS [t]
LEFT JOIN [RentDetails] AS [r0] ON [t].[RentId] = [r0].[RentId]
ORDER BY [t].[RentId], [r0].[RentId]
INFO  04:49:14 Executed DbCommand (4ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = Double), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Double), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Rents] SET [Amount] = @p0, [BooksToBeReturned] = @p1, [CartType] = @p2, [DateOfRent] = @p3, [DueDate] = @p4, [FineAmount] = @p5, [Progress] = @p6, [UserId] = @p7
WHERE [RentId] = @p8;
SELECT @@ROWCOUNT;
INFO  04:49:14 Executed DbCommand (2ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[RentId], [r].[BookId], [r].[Price], [r].[ReturnDate], [r].[status]
FROM [RentDetails] AS [r]
WHERE ([r].[RentId] = @__key1_0) AND ([r].[BookId] = @__key2_1)
INFO  04:49:14 Executed DbCommand (3ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[BookId], [r].[QuantityInStock], [r].[RentPerBook]
FROM [RentStocks] AS [r]
WHERE [r].[BookId] = @__key_0
INFO  04:49:14 Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[BookId], [r].[QuantityInStock], [r].[RentPerBook]
FROM [RentStocks] AS [r]
WHERE [r].[BookId] = @__key_0
INFO  04:49:14 Executed DbCommand (3ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [RentDetails] SET [ReturnDate] = @p0, [status] = @p1
WHERE [BookId] = @p2 AND [RentId] = @p3;
SELECT @@ROWCOUNT;
INFO  04:49:14 Executed DbCommand (2ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Double)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [RentStocks] SET [QuantityInStock] = @p0, [RentPerBook] = @p1
WHERE [BookId] = @p2;
SELECT @@ROWCOUNT;
INFO  04:51:48 Entity Framework Core 6.0.29 initialized 'LibraryManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.29' with options: None
INFO  04:51:48 Executed DbCommand (17ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[Name], [t].[Phone], [t].[Role], [c].[UserId], [c].[BookId], [c].[Price], [c].[Quantity], [t0].[UserId], [t0].[BookId], [t0].[DueDate], [t0].[IsFined], [t0].[RentId], [t0].[Id], [t0].[Author], [t0].[Category], [t0].[Description], [t0].[Title], [t1].[UserId], [t1].[BookId], [t1].[DueDate], [t1].[IsFined], [t1].[RentId], [t1].[Id], [t1].[Author], [t1].[Category], [t1].[Description], [t1].[Title]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Name], [u].[Phone], [u].[Role]
    FROM [Users] AS [u]
    WHERE [u].[Id] = @__key_0
) AS [t]
LEFT JOIN [Cart] AS [c] ON [t].[Id] = [c].[UserId]
LEFT JOIN (
    SELECT [s].[UserId], [s].[BookId], [s].[DueDate], [s].[IsFined], [s].[RentId], [b].[Id], [b].[Author], [b].[Category], [b].[Description], [b].[Title]
    FROM [SuperRentCart] AS [s]
    INNER JOIN [Books] AS [b] ON [s].[BookId] = [b].[Id]
) AS [t0] ON [t].[Id] = [t0].[UserId]
LEFT JOIN (
    SELECT [r].[UserId], [r].[BookId], [r].[DueDate], [r].[IsFined], [r].[RentId], [b0].[Id], [b0].[Author], [b0].[Category], [b0].[Description], [b0].[Title]
    FROM [RentCart] AS [r]
    INNER JOIN [Books] AS [b0] ON [r].[BookId] = [b0].[Id]
) AS [t1] ON [t].[Id] = [t1].[UserId]
ORDER BY [t].[Id], [c].[UserId], [c].[BookId], [t0].[UserId], [t0].[BookId], [t0].[Id], [t1].[UserId], [t1].[BookId]
INFO  04:51:48 Executed DbCommand (5ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[RentId], [t].[Amount], [t].[BooksToBeReturned], [t].[CartType], [t].[DateOfRent], [t].[DueDate], [t].[FineAmount], [t].[Progress], [t].[UserId], [r0].[RentId], [r0].[BookId], [r0].[Price], [r0].[ReturnDate], [r0].[status]
FROM (
    SELECT TOP(1) [r].[RentId], [r].[Amount], [r].[BooksToBeReturned], [r].[CartType], [r].[DateOfRent], [r].[DueDate], [r].[FineAmount], [r].[Progress], [r].[UserId]
    FROM [Rents] AS [r]
    WHERE [r].[RentId] = @__key_0
) AS [t]
LEFT JOIN [RentDetails] AS [r0] ON [t].[RentId] = [r0].[RentId]
ORDER BY [t].[RentId], [r0].[RentId]
INFO  04:51:48 Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [FineDetails] ([BookId], [RentId], [FineAmount], [FinePaidDate], [Status])
VALUES (@p0, @p1, @p2, @p3, @p4);
INFO  04:51:48 Executed DbCommand (2ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[UserId], [r].[BookId], [r].[DueDate], [r].[IsFined], [r].[RentId]
FROM [RentCart] AS [r]
WHERE ([r].[UserId] = @__key1_0) AND ([r].[BookId] = @__key2_1)
INFO  04:51:48 Executed DbCommand (2ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[UserId], [r].[BookId], [r].[DueDate], [r].[IsFined], [r].[RentId]
FROM [RentCart] AS [r]
WHERE ([r].[UserId] = @__key1_0) AND ([r].[BookId] = @__key2_1)
INFO  04:51:48 Executed DbCommand (3ms) [Parameters=[@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [RentCart] SET [DueDate] = @p0, [IsFined] = @p1, [RentId] = @p2
WHERE [BookId] = @p3 AND [UserId] = @p4;
SELECT @@ROWCOUNT;
INFO  04:51:48 Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [FineDetails] ([BookId], [RentId], [FineAmount], [FinePaidDate], [Status])
VALUES (@p0, @p1, @p2, @p3, @p4);
INFO  04:51:48 Executed DbCommand (1ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[UserId], [r].[BookId], [r].[DueDate], [r].[IsFined], [r].[RentId]
FROM [RentCart] AS [r]
WHERE ([r].[UserId] = @__key1_0) AND ([r].[BookId] = @__key2_1)
INFO  04:51:48 Executed DbCommand (1ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[UserId], [r].[BookId], [r].[DueDate], [r].[IsFined], [r].[RentId]
FROM [RentCart] AS [r]
WHERE ([r].[UserId] = @__key1_0) AND ([r].[BookId] = @__key2_1)
INFO  04:51:48 Executed DbCommand (1ms) [Parameters=[@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [RentCart] SET [DueDate] = @p0, [IsFined] = @p1, [RentId] = @p2
WHERE [BookId] = @p3 AND [UserId] = @p4;
SELECT @@ROWCOUNT;
INFO  04:51:48 Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Double), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Double), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Fines] ([RentId], [FineAmount], [FinePaidDate], [FinePending], [NumbeOfBooksPaidFine], [NumberOfBooksFined], [Status], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
INFO  04:51:48 Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[RentId], [t].[Amount], [t].[BooksToBeReturned], [t].[CartType], [t].[DateOfRent], [t].[DueDate], [t].[FineAmount], [t].[Progress], [t].[UserId], [r0].[RentId], [r0].[BookId], [r0].[Price], [r0].[ReturnDate], [r0].[status]
FROM (
    SELECT TOP(1) [r].[RentId], [r].[Amount], [r].[BooksToBeReturned], [r].[CartType], [r].[DateOfRent], [r].[DueDate], [r].[FineAmount], [r].[Progress], [r].[UserId]
    FROM [Rents] AS [r]
    WHERE [r].[RentId] = @__key_0
) AS [t]
LEFT JOIN [RentDetails] AS [r0] ON [t].[RentId] = [r0].[RentId]
ORDER BY [t].[RentId], [r0].[RentId]
INFO  04:51:48 Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [FineDetails] ([BookId], [RentId], [FineAmount], [FinePaidDate], [Status])
VALUES (@p0, @p1, @p2, @p3, @p4);
INFO  04:51:48 Executed DbCommand (3ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[UserId], [s].[BookId], [s].[DueDate], [s].[IsFined], [s].[RentId]
FROM [SuperRentCart] AS [s]
WHERE ([s].[UserId] = @__key1_0) AND ([s].[BookId] = @__key2_1)
INFO  04:51:48 Executed DbCommand (1ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[UserId], [s].[BookId], [s].[DueDate], [s].[IsFined], [s].[RentId]
FROM [SuperRentCart] AS [s]
WHERE ([s].[UserId] = @__key1_0) AND ([s].[BookId] = @__key2_1)
INFO  04:51:48 Executed DbCommand (3ms) [Parameters=[@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [SuperRentCart] SET [DueDate] = @p0, [IsFined] = @p1, [RentId] = @p2
WHERE [BookId] = @p3 AND [UserId] = @p4;
SELECT @@ROWCOUNT;
INFO  04:51:48 Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [FineDetails] ([BookId], [RentId], [FineAmount], [FinePaidDate], [Status])
VALUES (@p0, @p1, @p2, @p3, @p4);
INFO  04:51:48 Executed DbCommand (1ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[UserId], [s].[BookId], [s].[DueDate], [s].[IsFined], [s].[RentId]
FROM [SuperRentCart] AS [s]
WHERE ([s].[UserId] = @__key1_0) AND ([s].[BookId] = @__key2_1)
INFO  04:51:48 Executed DbCommand (1ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[UserId], [s].[BookId], [s].[DueDate], [s].[IsFined], [s].[RentId]
FROM [SuperRentCart] AS [s]
WHERE ([s].[UserId] = @__key1_0) AND ([s].[BookId] = @__key2_1)
INFO  04:51:48 Executed DbCommand (1ms) [Parameters=[@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [SuperRentCart] SET [DueDate] = @p0, [IsFined] = @p1, [RentId] = @p2
WHERE [BookId] = @p3 AND [UserId] = @p4;
SELECT @@ROWCOUNT;
INFO  04:51:48 Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Double), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Double), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Fines] ([RentId], [FineAmount], [FinePaidDate], [FinePending], [NumbeOfBooksPaidFine], [NumberOfBooksFined], [Status], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
INFO  04:51:48 Executed DbCommand (3ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[HashKey], [u].[Password], [u].[Status]
FROM [UserCredentials] AS [u]
WHERE [u].[UserId] = @__key_0
INFO  04:51:48 Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [f].[RentId], [f].[FineAmount], [f].[FinePaidDate], [f].[FinePending], [f].[NumbeOfBooksPaidFine], [f].[NumberOfBooksFined], [f].[Status], [f].[UserId]
FROM [Fines] AS [f]
INFO  04:51:48 Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[HashKey], [u].[Password], [u].[Status]
FROM [UserCredentials] AS [u]
WHERE [u].[UserId] = @__key_0
INFO  04:51:48 Executed DbCommand (3ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 8000) (DbType = Binary), @p1='?' (Size = 8000) (DbType = Binary), @p2='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [UserCredentials] SET [HashKey] = @p0, [Password] = @p1, [Status] = @p2
WHERE [UserId] = @p3;
SELECT @@ROWCOUNT;
INFO  04:52:17 Entity Framework Core 6.0.29 initialized 'LibraryManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.29' with options: None
INFO  04:52:17 Executed DbCommand (5ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [f].[RentId], [f].[FineAmount], [f].[FinePaidDate], [f].[FinePending], [f].[NumbeOfBooksPaidFine], [f].[NumberOfBooksFined], [f].[Status], [f].[UserId]
FROM [Fines] AS [f]
WHERE [f].[RentId] = @__key_0
INFO  04:52:17 Executed DbCommand (22ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [f].[RentId], [f].[BookId], [f].[FineAmount], [f].[FinePaidDate], [f].[Status]
FROM [FineDetails] AS [f]
INFO  04:52:17 Executed DbCommand (6ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[RentId], [r].[BookId], [r].[Price], [r].[ReturnDate], [r].[status]
FROM [RentDetails] AS [r]
WHERE ([r].[RentId] = @__key1_0) AND ([r].[BookId] = @__key2_1)
INFO  04:52:17 Executed DbCommand (3ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [f].[RentId], [f].[BookId], [f].[FineAmount], [f].[FinePaidDate], [f].[Status]
FROM [FineDetails] AS [f]
WHERE ([f].[RentId] = @__key1_0) AND ([f].[BookId] = @__key2_1)
INFO  04:52:17 Executed DbCommand (4ms) [Parameters=[@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p0='?' (DbType = Double), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [FineDetails] SET [FineAmount] = @p0, [FinePaidDate] = @p1, [Status] = @p2
WHERE [BookId] = @p3 AND [RentId] = @p4;
SELECT @@ROWCOUNT;
INFO  04:52:17 Executed DbCommand (1ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[RentId], [r].[BookId], [r].[Price], [r].[ReturnDate], [r].[status]
FROM [RentDetails] AS [r]
WHERE ([r].[RentId] = @__key1_0) AND ([r].[BookId] = @__key2_1)
INFO  04:52:17 Executed DbCommand (2ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [f].[RentId], [f].[BookId], [f].[FineAmount], [f].[FinePaidDate], [f].[Status]
FROM [FineDetails] AS [f]
WHERE ([f].[RentId] = @__key1_0) AND ([f].[BookId] = @__key2_1)
INFO  04:52:17 Executed DbCommand (2ms) [Parameters=[@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p0='?' (DbType = Double), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [FineDetails] SET [FineAmount] = @p0, [FinePaidDate] = @p1, [Status] = @p2
WHERE [BookId] = @p3 AND [RentId] = @p4;
SELECT @@ROWCOUNT;
INFO  04:52:17 Executed DbCommand (1ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[RentId], [r].[BookId], [r].[Price], [r].[ReturnDate], [r].[status]
FROM [RentDetails] AS [r]
WHERE ([r].[RentId] = @__key1_0) AND ([r].[BookId] = @__key2_1)
INFO  04:52:33 Entity Framework Core 6.0.29 initialized 'LibraryManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.29' with options: None
INFO  04:52:33 Executed DbCommand (21ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[Name], [t].[Phone], [t].[Role], [c].[UserId], [c].[BookId], [c].[Price], [c].[Quantity], [t0].[UserId], [t0].[BookId], [t0].[DueDate], [t0].[IsFined], [t0].[RentId], [t0].[Id], [t0].[Author], [t0].[Category], [t0].[Description], [t0].[Title], [t1].[UserId], [t1].[BookId], [t1].[DueDate], [t1].[IsFined], [t1].[RentId], [t1].[Id], [t1].[Author], [t1].[Category], [t1].[Description], [t1].[Title]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Name], [u].[Phone], [u].[Role]
    FROM [Users] AS [u]
    WHERE [u].[Id] = @__key_0
) AS [t]
LEFT JOIN [Cart] AS [c] ON [t].[Id] = [c].[UserId]
LEFT JOIN (
    SELECT [s].[UserId], [s].[BookId], [s].[DueDate], [s].[IsFined], [s].[RentId], [b].[Id], [b].[Author], [b].[Category], [b].[Description], [b].[Title]
    FROM [SuperRentCart] AS [s]
    INNER JOIN [Books] AS [b] ON [s].[BookId] = [b].[Id]
) AS [t0] ON [t].[Id] = [t0].[UserId]
LEFT JOIN (
    SELECT [r].[UserId], [r].[BookId], [r].[DueDate], [r].[IsFined], [r].[RentId], [b0].[Id], [b0].[Author], [b0].[Category], [b0].[Description], [b0].[Title]
    FROM [RentCart] AS [r]
    INNER JOIN [Books] AS [b0] ON [r].[BookId] = [b0].[Id]
) AS [t1] ON [t].[Id] = [t1].[UserId]
ORDER BY [t].[Id], [c].[UserId], [c].[BookId], [t0].[UserId], [t0].[BookId], [t0].[Id], [t1].[UserId], [t1].[BookId]
INFO  04:52:33 Executed DbCommand (3ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[UserId], [r].[BookId], [r].[DueDate], [r].[IsFined], [r].[RentId]
FROM [RentCart] AS [r]
WHERE ([r].[UserId] = @__key1_0) AND ([r].[BookId] = @__key2_1)
INFO  04:52:33 Executed DbCommand (2ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[UserId], [s].[BookId], [s].[DueDate], [s].[IsFined], [s].[RentId]
FROM [SuperRentCart] AS [s]
WHERE ([s].[UserId] = @__key1_0) AND ([s].[BookId] = @__key2_1)
INFO  04:52:33 Executed DbCommand (2ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[UserId], [s].[BookId], [s].[DueDate], [s].[IsFined], [s].[RentId]
FROM [SuperRentCart] AS [s]
WHERE ([s].[UserId] = @__key1_0) AND ([s].[BookId] = @__key2_1)
INFO  04:52:33 Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [SuperRentCart]
WHERE [BookId] = @p0 AND [UserId] = @p1;
SELECT @@ROWCOUNT;
INFO  04:52:33 Executed DbCommand (4ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[RentId], [t].[Amount], [t].[BooksToBeReturned], [t].[CartType], [t].[DateOfRent], [t].[DueDate], [t].[FineAmount], [t].[Progress], [t].[UserId], [r0].[RentId], [r0].[BookId], [r0].[Price], [r0].[ReturnDate], [r0].[status]
FROM (
    SELECT TOP(1) [r].[RentId], [r].[Amount], [r].[BooksToBeReturned], [r].[CartType], [r].[DateOfRent], [r].[DueDate], [r].[FineAmount], [r].[Progress], [r].[UserId]
    FROM [Rents] AS [r]
    WHERE [r].[RentId] = @__key_0
) AS [t]
LEFT JOIN [RentDetails] AS [r0] ON [t].[RentId] = [r0].[RentId]
ORDER BY [t].[RentId], [r0].[RentId]
INFO  04:52:33 Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[RentId], [t].[Amount], [t].[BooksToBeReturned], [t].[CartType], [t].[DateOfRent], [t].[DueDate], [t].[FineAmount], [t].[Progress], [t].[UserId], [r0].[RentId], [r0].[BookId], [r0].[Price], [r0].[ReturnDate], [r0].[status]
FROM (
    SELECT TOP(1) [r].[RentId], [r].[Amount], [r].[BooksToBeReturned], [r].[CartType], [r].[DateOfRent], [r].[DueDate], [r].[FineAmount], [r].[Progress], [r].[UserId]
    FROM [Rents] AS [r]
    WHERE [r].[RentId] = @__key_0
) AS [t]
LEFT JOIN [RentDetails] AS [r0] ON [t].[RentId] = [r0].[RentId]
ORDER BY [t].[RentId], [r0].[RentId]
INFO  04:52:33 Executed DbCommand (4ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = Double), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Double), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Rents] SET [Amount] = @p0, [BooksToBeReturned] = @p1, [CartType] = @p2, [DateOfRent] = @p3, [DueDate] = @p4, [FineAmount] = @p5, [Progress] = @p6, [UserId] = @p7
WHERE [RentId] = @p8;
SELECT @@ROWCOUNT;
INFO  04:52:33 Executed DbCommand (3ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[RentId], [r].[BookId], [r].[Price], [r].[ReturnDate], [r].[status]
FROM [RentDetails] AS [r]
WHERE ([r].[RentId] = @__key1_0) AND ([r].[BookId] = @__key2_1)
INFO  04:52:33 Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[BookId], [r].[QuantityInStock], [r].[RentPerBook]
FROM [RentStocks] AS [r]
WHERE [r].[BookId] = @__key_0
INFO  04:52:33 Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[BookId], [r].[QuantityInStock], [r].[RentPerBook]
FROM [RentStocks] AS [r]
WHERE [r].[BookId] = @__key_0
INFO  04:52:33 Executed DbCommand (2ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [RentDetails] SET [ReturnDate] = @p0, [status] = @p1
WHERE [BookId] = @p2 AND [RentId] = @p3;
SELECT @@ROWCOUNT;
INFO  04:52:33 Executed DbCommand (2ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Double)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [RentStocks] SET [QuantityInStock] = @p0, [RentPerBook] = @p1
WHERE [BookId] = @p2;
SELECT @@ROWCOUNT;
INFO  04:52:39 Entity Framework Core 6.0.29 initialized 'LibraryManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.29' with options: None
INFO  04:52:39 Executed DbCommand (3ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [f].[RentId], [f].[FineAmount], [f].[FinePaidDate], [f].[FinePending], [f].[NumbeOfBooksPaidFine], [f].[NumberOfBooksFined], [f].[Status], [f].[UserId]
FROM [Fines] AS [f]
WHERE [f].[RentId] = @__key_0
INFO  04:52:39 Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [f].[RentId], [f].[BookId], [f].[FineAmount], [f].[FinePaidDate], [f].[Status]
FROM [FineDetails] AS [f]
INFO  04:52:39 Executed DbCommand (2ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[RentId], [r].[BookId], [r].[Price], [r].[ReturnDate], [r].[status]
FROM [RentDetails] AS [r]
WHERE ([r].[RentId] = @__key1_0) AND ([r].[BookId] = @__key2_1)
INFO  04:52:39 Executed DbCommand (2ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [f].[RentId], [f].[BookId], [f].[FineAmount], [f].[FinePaidDate], [f].[Status]
FROM [FineDetails] AS [f]
WHERE ([f].[RentId] = @__key1_0) AND ([f].[BookId] = @__key2_1)
INFO  04:52:39 Executed DbCommand (3ms) [Parameters=[@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p0='?' (DbType = Double), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [FineDetails] SET [FineAmount] = @p0, [FinePaidDate] = @p1, [Status] = @p2
WHERE [BookId] = @p3 AND [RentId] = @p4;
SELECT @@ROWCOUNT;
INFO  04:52:39 Executed DbCommand (1ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[RentId], [r].[BookId], [r].[Price], [r].[ReturnDate], [r].[status]
FROM [RentDetails] AS [r]
WHERE ([r].[RentId] = @__key1_0) AND ([r].[BookId] = @__key2_1)
INFO  04:52:39 Executed DbCommand (1ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [f].[RentId], [f].[BookId], [f].[FineAmount], [f].[FinePaidDate], [f].[Status]
FROM [FineDetails] AS [f]
WHERE ([f].[RentId] = @__key1_0) AND ([f].[BookId] = @__key2_1)
INFO  04:52:39 Executed DbCommand (1ms) [Parameters=[@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p0='?' (DbType = Double), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [FineDetails] SET [FineAmount] = @p0, [FinePaidDate] = @p1, [Status] = @p2
WHERE [BookId] = @p3 AND [RentId] = @p4;
SELECT @@ROWCOUNT;
INFO  04:52:39 Executed DbCommand (1ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[RentId], [r].[BookId], [r].[Price], [r].[ReturnDate], [r].[status]
FROM [RentDetails] AS [r]
WHERE ([r].[RentId] = @__key1_0) AND ([r].[BookId] = @__key2_1)
INFO  04:52:39 Executed DbCommand (1ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [f].[RentId], [f].[BookId], [f].[FineAmount], [f].[FinePaidDate], [f].[Status]
FROM [FineDetails] AS [f]
WHERE ([f].[RentId] = @__key1_0) AND ([f].[BookId] = @__key2_1)
INFO  04:52:39 Executed DbCommand (1ms) [Parameters=[@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p0='?' (DbType = Double), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [FineDetails] SET [FineAmount] = @p0, [FinePaidDate] = @p1, [Status] = @p2
WHERE [BookId] = @p3 AND [RentId] = @p4;
SELECT @@ROWCOUNT;
INFO  04:52:39 Executed DbCommand (1ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[RentId], [r].[BookId], [r].[Price], [r].[ReturnDate], [r].[status]
FROM [RentDetails] AS [r]
WHERE ([r].[RentId] = @__key1_0) AND ([r].[BookId] = @__key2_1)
INFO  04:52:49 Entity Framework Core 6.0.29 initialized 'LibraryManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.29' with options: None
INFO  04:52:49 Executed DbCommand (3ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[Name], [t].[Phone], [t].[Role], [c].[UserId], [c].[BookId], [c].[Price], [c].[Quantity], [t0].[UserId], [t0].[BookId], [t0].[DueDate], [t0].[IsFined], [t0].[RentId], [t0].[Id], [t0].[Author], [t0].[Category], [t0].[Description], [t0].[Title], [t1].[UserId], [t1].[BookId], [t1].[DueDate], [t1].[IsFined], [t1].[RentId], [t1].[Id], [t1].[Author], [t1].[Category], [t1].[Description], [t1].[Title]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Name], [u].[Phone], [u].[Role]
    FROM [Users] AS [u]
    WHERE [u].[Id] = @__key_0
) AS [t]
LEFT JOIN [Cart] AS [c] ON [t].[Id] = [c].[UserId]
LEFT JOIN (
    SELECT [s].[UserId], [s].[BookId], [s].[DueDate], [s].[IsFined], [s].[RentId], [b].[Id], [b].[Author], [b].[Category], [b].[Description], [b].[Title]
    FROM [SuperRentCart] AS [s]
    INNER JOIN [Books] AS [b] ON [s].[BookId] = [b].[Id]
) AS [t0] ON [t].[Id] = [t0].[UserId]
LEFT JOIN (
    SELECT [r].[UserId], [r].[BookId], [r].[DueDate], [r].[IsFined], [r].[RentId], [b0].[Id], [b0].[Author], [b0].[Category], [b0].[Description], [b0].[Title]
    FROM [RentCart] AS [r]
    INNER JOIN [Books] AS [b0] ON [r].[BookId] = [b0].[Id]
) AS [t1] ON [t].[Id] = [t1].[UserId]
ORDER BY [t].[Id], [c].[UserId], [c].[BookId], [t0].[UserId], [t0].[BookId], [t0].[Id], [t1].[UserId], [t1].[BookId]
INFO  04:52:49 Executed DbCommand (1ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[UserId], [r].[BookId], [r].[DueDate], [r].[IsFined], [r].[RentId]
FROM [RentCart] AS [r]
WHERE ([r].[UserId] = @__key1_0) AND ([r].[BookId] = @__key2_1)
INFO  04:52:49 Executed DbCommand (2ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[UserId], [s].[BookId], [s].[DueDate], [s].[IsFined], [s].[RentId]
FROM [SuperRentCart] AS [s]
WHERE ([s].[UserId] = @__key1_0) AND ([s].[BookId] = @__key2_1)
INFO  04:52:49 Executed DbCommand (2ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[UserId], [s].[BookId], [s].[DueDate], [s].[IsFined], [s].[RentId]
FROM [SuperRentCart] AS [s]
WHERE ([s].[UserId] = @__key1_0) AND ([s].[BookId] = @__key2_1)
INFO  04:52:49 Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [SuperRentCart]
WHERE [BookId] = @p0 AND [UserId] = @p1;
SELECT @@ROWCOUNT;
INFO  04:52:49 Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[RentId], [t].[Amount], [t].[BooksToBeReturned], [t].[CartType], [t].[DateOfRent], [t].[DueDate], [t].[FineAmount], [t].[Progress], [t].[UserId], [r0].[RentId], [r0].[BookId], [r0].[Price], [r0].[ReturnDate], [r0].[status]
FROM (
    SELECT TOP(1) [r].[RentId], [r].[Amount], [r].[BooksToBeReturned], [r].[CartType], [r].[DateOfRent], [r].[DueDate], [r].[FineAmount], [r].[Progress], [r].[UserId]
    FROM [Rents] AS [r]
    WHERE [r].[RentId] = @__key_0
) AS [t]
LEFT JOIN [RentDetails] AS [r0] ON [t].[RentId] = [r0].[RentId]
ORDER BY [t].[RentId], [r0].[RentId]
INFO  04:52:49 Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[RentId], [t].[Amount], [t].[BooksToBeReturned], [t].[CartType], [t].[DateOfRent], [t].[DueDate], [t].[FineAmount], [t].[Progress], [t].[UserId], [r0].[RentId], [r0].[BookId], [r0].[Price], [r0].[ReturnDate], [r0].[status]
FROM (
    SELECT TOP(1) [r].[RentId], [r].[Amount], [r].[BooksToBeReturned], [r].[CartType], [r].[DateOfRent], [r].[DueDate], [r].[FineAmount], [r].[Progress], [r].[UserId]
    FROM [Rents] AS [r]
    WHERE [r].[RentId] = @__key_0
) AS [t]
LEFT JOIN [RentDetails] AS [r0] ON [t].[RentId] = [r0].[RentId]
ORDER BY [t].[RentId], [r0].[RentId]
INFO  04:52:49 Executed DbCommand (1ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = Double), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Double), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Rents] SET [Amount] = @p0, [BooksToBeReturned] = @p1, [CartType] = @p2, [DateOfRent] = @p3, [DueDate] = @p4, [FineAmount] = @p5, [Progress] = @p6, [UserId] = @p7
WHERE [RentId] = @p8;
SELECT @@ROWCOUNT;
INFO  04:52:49 Executed DbCommand (1ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[RentId], [r].[BookId], [r].[Price], [r].[ReturnDate], [r].[status]
FROM [RentDetails] AS [r]
WHERE ([r].[RentId] = @__key1_0) AND ([r].[BookId] = @__key2_1)
INFO  04:52:49 Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[BookId], [r].[QuantityInStock], [r].[RentPerBook]
FROM [RentStocks] AS [r]
WHERE [r].[BookId] = @__key_0
INFO  04:52:49 Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[BookId], [r].[QuantityInStock], [r].[RentPerBook]
FROM [RentStocks] AS [r]
WHERE [r].[BookId] = @__key_0
INFO  04:52:49 Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [RentDetails] SET [ReturnDate] = @p0, [status] = @p1
WHERE [BookId] = @p2 AND [RentId] = @p3;
SELECT @@ROWCOUNT;
INFO  04:52:49 Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Double)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [RentStocks] SET [QuantityInStock] = @p0, [RentPerBook] = @p1
WHERE [BookId] = @p2;
SELECT @@ROWCOUNT;
INFO  04:52:58 Entity Framework Core 6.0.29 initialized 'LibraryManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.29' with options: None
INFO  04:52:58 Executed DbCommand (3ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [f].[RentId], [f].[FineAmount], [f].[FinePaidDate], [f].[FinePending], [f].[NumbeOfBooksPaidFine], [f].[NumberOfBooksFined], [f].[Status], [f].[UserId]
FROM [Fines] AS [f]
WHERE [f].[RentId] = @__key_0
INFO  04:52:58 Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [f].[RentId], [f].[BookId], [f].[FineAmount], [f].[FinePaidDate], [f].[Status]
FROM [FineDetails] AS [f]
INFO  04:52:58 Executed DbCommand (1ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[RentId], [r].[BookId], [r].[Price], [r].[ReturnDate], [r].[status]
FROM [RentDetails] AS [r]
WHERE ([r].[RentId] = @__key1_0) AND ([r].[BookId] = @__key2_1)
INFO  04:52:58 Executed DbCommand (1ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [f].[RentId], [f].[BookId], [f].[FineAmount], [f].[FinePaidDate], [f].[Status]
FROM [FineDetails] AS [f]
WHERE ([f].[RentId] = @__key1_0) AND ([f].[BookId] = @__key2_1)
INFO  04:52:58 Executed DbCommand (1ms) [Parameters=[@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p0='?' (DbType = Double), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [FineDetails] SET [FineAmount] = @p0, [FinePaidDate] = @p1, [Status] = @p2
WHERE [BookId] = @p3 AND [RentId] = @p4;
SELECT @@ROWCOUNT;
INFO  04:52:58 Executed DbCommand (2ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[RentId], [r].[BookId], [r].[Price], [r].[ReturnDate], [r].[status]
FROM [RentDetails] AS [r]
WHERE ([r].[RentId] = @__key1_0) AND ([r].[BookId] = @__key2_1)
INFO  04:52:58 Executed DbCommand (1ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [f].[RentId], [f].[BookId], [f].[FineAmount], [f].[FinePaidDate], [f].[Status]
FROM [FineDetails] AS [f]
WHERE ([f].[RentId] = @__key1_0) AND ([f].[BookId] = @__key2_1)
INFO  04:52:58 Executed DbCommand (1ms) [Parameters=[@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p0='?' (DbType = Double), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [FineDetails] SET [FineAmount] = @p0, [FinePaidDate] = @p1, [Status] = @p2
WHERE [BookId] = @p3 AND [RentId] = @p4;
SELECT @@ROWCOUNT;
INFO  04:52:58 Executed DbCommand (1ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[RentId], [r].[BookId], [r].[Price], [r].[ReturnDate], [r].[status]
FROM [RentDetails] AS [r]
WHERE ([r].[RentId] = @__key1_0) AND ([r].[BookId] = @__key2_1)
INFO  04:52:58 Executed DbCommand (1ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [f].[RentId], [f].[BookId], [f].[FineAmount], [f].[FinePaidDate], [f].[Status]
FROM [FineDetails] AS [f]
WHERE ([f].[RentId] = @__key1_0) AND ([f].[BookId] = @__key2_1)
INFO  04:52:58 Executed DbCommand (1ms) [Parameters=[@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p0='?' (DbType = Double), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [FineDetails] SET [FineAmount] = @p0, [FinePaidDate] = @p1, [Status] = @p2
WHERE [BookId] = @p3 AND [RentId] = @p4;
SELECT @@ROWCOUNT;
INFO  04:52:58 Executed DbCommand (1ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[RentId], [r].[BookId], [r].[Price], [r].[ReturnDate], [r].[status]
FROM [RentDetails] AS [r]
WHERE ([r].[RentId] = @__key1_0) AND ([r].[BookId] = @__key2_1)
INFO  04:52:58 Executed DbCommand (1ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [f].[RentId], [f].[BookId], [f].[FineAmount], [f].[FinePaidDate], [f].[Status]
FROM [FineDetails] AS [f]
WHERE ([f].[RentId] = @__key1_0) AND ([f].[BookId] = @__key2_1)
INFO  04:52:58 Executed DbCommand (1ms) [Parameters=[@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p0='?' (DbType = Double), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [FineDetails] SET [FineAmount] = @p0, [FinePaidDate] = @p1, [Status] = @p2
WHERE [BookId] = @p3 AND [RentId] = @p4;
SELECT @@ROWCOUNT;
INFO  04:52:58 Executed DbCommand (1ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[RentId], [r].[BookId], [r].[Price], [r].[ReturnDate], [r].[status]
FROM [RentDetails] AS [r]
WHERE ([r].[RentId] = @__key1_0) AND ([r].[BookId] = @__key2_1)
INFO  04:55:36 Entity Framework Core 6.0.29 initialized 'LibraryManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.29' with options: None
INFO  04:55:36 Executed DbCommand (3ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [f].[RentId], [f].[FineAmount], [f].[FinePaidDate], [f].[FinePending], [f].[NumbeOfBooksPaidFine], [f].[NumberOfBooksFined], [f].[Status], [f].[UserId]
FROM [Fines] AS [f]
WHERE [f].[RentId] = @__key_0
INFO  04:55:36 Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [f].[RentId], [f].[BookId], [f].[FineAmount], [f].[FinePaidDate], [f].[Status]
FROM [FineDetails] AS [f]
INFO  04:55:36 Executed DbCommand (2ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[RentId], [r].[BookId], [r].[Price], [r].[ReturnDate], [r].[status]
FROM [RentDetails] AS [r]
WHERE ([r].[RentId] = @__key1_0) AND ([r].[BookId] = @__key2_1)
INFO  04:55:36 Executed DbCommand (2ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [f].[RentId], [f].[BookId], [f].[FineAmount], [f].[FinePaidDate], [f].[Status]
FROM [FineDetails] AS [f]
WHERE ([f].[RentId] = @__key1_0) AND ([f].[BookId] = @__key2_1)
INFO  04:55:36 Executed DbCommand (3ms) [Parameters=[@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p0='?' (DbType = Double), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [FineDetails] SET [FineAmount] = @p0, [FinePaidDate] = @p1, [Status] = @p2
WHERE [BookId] = @p3 AND [RentId] = @p4;
SELECT @@ROWCOUNT;
INFO  04:55:36 Executed DbCommand (1ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[RentId], [r].[BookId], [r].[Price], [r].[ReturnDate], [r].[status]
FROM [RentDetails] AS [r]
WHERE ([r].[RentId] = @__key1_0) AND ([r].[BookId] = @__key2_1)
INFO  04:55:36 Executed DbCommand (1ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [f].[RentId], [f].[BookId], [f].[FineAmount], [f].[FinePaidDate], [f].[Status]
FROM [FineDetails] AS [f]
WHERE ([f].[RentId] = @__key1_0) AND ([f].[BookId] = @__key2_1)
INFO  04:55:36 Executed DbCommand (1ms) [Parameters=[@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p0='?' (DbType = Double), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [FineDetails] SET [FineAmount] = @p0, [FinePaidDate] = @p1, [Status] = @p2
WHERE [BookId] = @p3 AND [RentId] = @p4;
SELECT @@ROWCOUNT;
INFO  04:55:36 Executed DbCommand (1ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[RentId], [r].[BookId], [r].[Price], [r].[ReturnDate], [r].[status]
FROM [RentDetails] AS [r]
WHERE ([r].[RentId] = @__key1_0) AND ([r].[BookId] = @__key2_1)
INFO  04:55:36 Executed DbCommand (1ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [f].[RentId], [f].[BookId], [f].[FineAmount], [f].[FinePaidDate], [f].[Status]
FROM [FineDetails] AS [f]
WHERE ([f].[RentId] = @__key1_0) AND ([f].[BookId] = @__key2_1)
INFO  04:55:36 Executed DbCommand (1ms) [Parameters=[@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p0='?' (DbType = Double), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [FineDetails] SET [FineAmount] = @p0, [FinePaidDate] = @p1, [Status] = @p2
WHERE [BookId] = @p3 AND [RentId] = @p4;
SELECT @@ROWCOUNT;
INFO  04:55:36 Executed DbCommand (1ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[RentId], [r].[BookId], [r].[Price], [r].[ReturnDate], [r].[status]
FROM [RentDetails] AS [r]
WHERE ([r].[RentId] = @__key1_0) AND ([r].[BookId] = @__key2_1)
INFO  04:55:36 Executed DbCommand (1ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [f].[RentId], [f].[BookId], [f].[FineAmount], [f].[FinePaidDate], [f].[Status]
FROM [FineDetails] AS [f]
WHERE ([f].[RentId] = @__key1_0) AND ([f].[BookId] = @__key2_1)
INFO  04:55:36 Executed DbCommand (1ms) [Parameters=[@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p0='?' (DbType = Double), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [FineDetails] SET [FineAmount] = @p0, [FinePaidDate] = @p1, [Status] = @p2
WHERE [BookId] = @p3 AND [RentId] = @p4;
SELECT @@ROWCOUNT;
INFO  04:55:36 Executed DbCommand (1ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[RentId], [r].[BookId], [r].[Price], [r].[ReturnDate], [r].[status]
FROM [RentDetails] AS [r]
WHERE ([r].[RentId] = @__key1_0) AND ([r].[BookId] = @__key2_1)
INFO  05:21:52 Entity Framework Core 6.0.29 initialized 'LibraryManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.29' with options: None
INFO  05:21:52 Executed DbCommand (7ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [f].[RentId], [f].[FineAmount], [f].[FinePaidDate], [f].[FinePending], [f].[NumbeOfBooksPaidFine], [f].[NumberOfBooksFined], [f].[Status], [f].[UserId]
FROM [Fines] AS [f]
WHERE [f].[RentId] = @__key_0
INFO  05:21:52 Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [f].[RentId], [f].[BookId], [f].[FineAmount], [f].[FinePaidDate], [f].[Status]
FROM [FineDetails] AS [f]
INFO  05:21:52 Executed DbCommand (3ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[RentId], [r].[BookId], [r].[Price], [r].[ReturnDate], [r].[status]
FROM [RentDetails] AS [r]
WHERE ([r].[RentId] = @__key1_0) AND ([r].[BookId] = @__key2_1)
INFO  05:21:52 Executed DbCommand (3ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [f].[RentId], [f].[BookId], [f].[FineAmount], [f].[FinePaidDate], [f].[Status]
FROM [FineDetails] AS [f]
WHERE ([f].[RentId] = @__key1_0) AND ([f].[BookId] = @__key2_1)
INFO  05:21:52 Executed DbCommand (5ms) [Parameters=[@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p0='?' (DbType = Double), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [FineDetails] SET [FineAmount] = @p0, [FinePaidDate] = @p1, [Status] = @p2
WHERE [BookId] = @p3 AND [RentId] = @p4;
SELECT @@ROWCOUNT;
INFO  05:21:52 Executed DbCommand (2ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[RentId], [r].[BookId], [r].[Price], [r].[ReturnDate], [r].[status]
FROM [RentDetails] AS [r]
WHERE ([r].[RentId] = @__key1_0) AND ([r].[BookId] = @__key2_1)
INFO  05:21:52 Executed DbCommand (4ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [f].[RentId], [f].[BookId], [f].[FineAmount], [f].[FinePaidDate], [f].[Status]
FROM [FineDetails] AS [f]
WHERE ([f].[RentId] = @__key1_0) AND ([f].[BookId] = @__key2_1)
INFO  05:21:52 Executed DbCommand (5ms) [Parameters=[@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p0='?' (DbType = Double), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [FineDetails] SET [FineAmount] = @p0, [FinePaidDate] = @p1, [Status] = @p2
WHERE [BookId] = @p3 AND [RentId] = @p4;
SELECT @@ROWCOUNT;
INFO  05:21:52 Executed DbCommand (3ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[RentId], [r].[BookId], [r].[Price], [r].[ReturnDate], [r].[status]
FROM [RentDetails] AS [r]
WHERE ([r].[RentId] = @__key1_0) AND ([r].[BookId] = @__key2_1)
INFO  05:21:52 Executed DbCommand (2ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [f].[RentId], [f].[BookId], [f].[FineAmount], [f].[FinePaidDate], [f].[Status]
FROM [FineDetails] AS [f]
WHERE ([f].[RentId] = @__key1_0) AND ([f].[BookId] = @__key2_1)
INFO  05:21:52 Executed DbCommand (3ms) [Parameters=[@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p0='?' (DbType = Double), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [FineDetails] SET [FineAmount] = @p0, [FinePaidDate] = @p1, [Status] = @p2
WHERE [BookId] = @p3 AND [RentId] = @p4;
SELECT @@ROWCOUNT;
INFO  05:21:52 Executed DbCommand (2ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[RentId], [r].[BookId], [r].[Price], [r].[ReturnDate], [r].[status]
FROM [RentDetails] AS [r]
WHERE ([r].[RentId] = @__key1_0) AND ([r].[BookId] = @__key2_1)
INFO  05:21:52 Executed DbCommand (3ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [f].[RentId], [f].[BookId], [f].[FineAmount], [f].[FinePaidDate], [f].[Status]
FROM [FineDetails] AS [f]
WHERE ([f].[RentId] = @__key1_0) AND ([f].[BookId] = @__key2_1)
INFO  05:21:52 Executed DbCommand (2ms) [Parameters=[@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p0='?' (DbType = Double), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [FineDetails] SET [FineAmount] = @p0, [FinePaidDate] = @p1, [Status] = @p2
WHERE [BookId] = @p3 AND [RentId] = @p4;
SELECT @@ROWCOUNT;
INFO  05:21:52 Executed DbCommand (2ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[RentId], [r].[BookId], [r].[Price], [r].[ReturnDate], [r].[status]
FROM [RentDetails] AS [r]
WHERE ([r].[RentId] = @__key1_0) AND ([r].[BookId] = @__key2_1)
INFO  05:22:22 Entity Framework Core 6.0.29 initialized 'LibraryManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.29' with options: None
INFO  05:22:22 Executed DbCommand (5ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [f].[RentId], [f].[FineAmount], [f].[FinePaidDate], [f].[FinePending], [f].[NumbeOfBooksPaidFine], [f].[NumberOfBooksFined], [f].[Status], [f].[UserId]
FROM [Fines] AS [f]
WHERE [f].[RentId] = @__key_0
INFO  05:22:22 Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [f].[RentId], [f].[BookId], [f].[FineAmount], [f].[FinePaidDate], [f].[Status]
FROM [FineDetails] AS [f]
INFO  05:22:22 Executed DbCommand (3ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[RentId], [r].[BookId], [r].[Price], [r].[ReturnDate], [r].[status]
FROM [RentDetails] AS [r]
WHERE ([r].[RentId] = @__key1_0) AND ([r].[BookId] = @__key2_1)
INFO  05:22:22 Executed DbCommand (3ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [f].[RentId], [f].[BookId], [f].[FineAmount], [f].[FinePaidDate], [f].[Status]
FROM [FineDetails] AS [f]
WHERE ([f].[RentId] = @__key1_0) AND ([f].[BookId] = @__key2_1)
INFO  05:22:22 Executed DbCommand (5ms) [Parameters=[@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p0='?' (DbType = Double), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [FineDetails] SET [FineAmount] = @p0, [FinePaidDate] = @p1, [Status] = @p2
WHERE [BookId] = @p3 AND [RentId] = @p4;
SELECT @@ROWCOUNT;
INFO  05:22:22 Executed DbCommand (2ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[RentId], [r].[BookId], [r].[Price], [r].[ReturnDate], [r].[status]
FROM [RentDetails] AS [r]
WHERE ([r].[RentId] = @__key1_0) AND ([r].[BookId] = @__key2_1)
INFO  05:22:22 Executed DbCommand (3ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [f].[RentId], [f].[BookId], [f].[FineAmount], [f].[FinePaidDate], [f].[Status]
FROM [FineDetails] AS [f]
WHERE ([f].[RentId] = @__key1_0) AND ([f].[BookId] = @__key2_1)
INFO  05:22:22 Executed DbCommand (3ms) [Parameters=[@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p0='?' (DbType = Double), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [FineDetails] SET [FineAmount] = @p0, [FinePaidDate] = @p1, [Status] = @p2
WHERE [BookId] = @p3 AND [RentId] = @p4;
SELECT @@ROWCOUNT;
INFO  05:22:22 Executed DbCommand (4ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[RentId], [r].[BookId], [r].[Price], [r].[ReturnDate], [r].[status]
FROM [RentDetails] AS [r]
WHERE ([r].[RentId] = @__key1_0) AND ([r].[BookId] = @__key2_1)
INFO  05:22:22 Executed DbCommand (4ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [f].[RentId], [f].[BookId], [f].[FineAmount], [f].[FinePaidDate], [f].[Status]
FROM [FineDetails] AS [f]
WHERE ([f].[RentId] = @__key1_0) AND ([f].[BookId] = @__key2_1)
INFO  05:22:22 Executed DbCommand (5ms) [Parameters=[@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p0='?' (DbType = Double), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [FineDetails] SET [FineAmount] = @p0, [FinePaidDate] = @p1, [Status] = @p2
WHERE [BookId] = @p3 AND [RentId] = @p4;
SELECT @@ROWCOUNT;
INFO  05:22:22 Executed DbCommand (11ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[RentId], [r].[BookId], [r].[Price], [r].[ReturnDate], [r].[status]
FROM [RentDetails] AS [r]
WHERE ([r].[RentId] = @__key1_0) AND ([r].[BookId] = @__key2_1)
INFO  05:22:22 Executed DbCommand (4ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [f].[RentId], [f].[BookId], [f].[FineAmount], [f].[FinePaidDate], [f].[Status]
FROM [FineDetails] AS [f]
WHERE ([f].[RentId] = @__key1_0) AND ([f].[BookId] = @__key2_1)
INFO  05:22:22 Executed DbCommand (4ms) [Parameters=[@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p0='?' (DbType = Double), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [FineDetails] SET [FineAmount] = @p0, [FinePaidDate] = @p1, [Status] = @p2
WHERE [BookId] = @p3 AND [RentId] = @p4;
SELECT @@ROWCOUNT;
INFO  05:22:22 Executed DbCommand (4ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[RentId], [r].[BookId], [r].[Price], [r].[ReturnDate], [r].[status]
FROM [RentDetails] AS [r]
WHERE ([r].[RentId] = @__key1_0) AND ([r].[BookId] = @__key2_1)
INFO  05:23:02 Entity Framework Core 6.0.29 initialized 'LibraryManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.29' with options: None
INFO  05:23:02 Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [f].[RentId], [f].[FineAmount], [f].[FinePaidDate], [f].[FinePending], [f].[NumbeOfBooksPaidFine], [f].[NumberOfBooksFined], [f].[Status], [f].[UserId]
FROM [Fines] AS [f]
WHERE [f].[RentId] = @__key_0
INFO  05:23:14 Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [f].[RentId], [f].[BookId], [f].[FineAmount], [f].[FinePaidDate], [f].[Status]
FROM [FineDetails] AS [f]
INFO  05:24:31 Executed DbCommand (7ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[RentId], [r].[BookId], [r].[Price], [r].[ReturnDate], [r].[status]
FROM [RentDetails] AS [r]
WHERE ([r].[RentId] = @__key1_0) AND ([r].[BookId] = @__key2_1)
INFO  05:25:07 Executed DbCommand (4ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [f].[RentId], [f].[BookId], [f].[FineAmount], [f].[FinePaidDate], [f].[Status]
FROM [FineDetails] AS [f]
WHERE ([f].[RentId] = @__key1_0) AND ([f].[BookId] = @__key2_1)
INFO  05:25:14 Executed DbCommand (6ms) [Parameters=[@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p0='?' (DbType = Double), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [FineDetails] SET [FineAmount] = @p0, [FinePaidDate] = @p1, [Status] = @p2
WHERE [BookId] = @p3 AND [RentId] = @p4;
SELECT @@ROWCOUNT;
INFO  05:25:54 Now listening on: http://localhost:5022
INFO  05:25:54 Application started. Press Ctrl+C to shut down.
INFO  05:25:54 Hosting environment: Development
INFO  05:25:54 Content root path: C:\MyPersonalFiles\GensparkTraining\MiniProject\MiniProjectAppSolution\MiniProjectApp\
INFO  05:27:32 Entity Framework Core 6.0.29 initialized 'LibraryManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.29' with options: None
INFO  05:27:33 Executed DbCommand (177ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [f].[RentId], [f].[FineAmount], [f].[FinePaidDate], [f].[FinePending], [f].[NumbeOfBooksPaidFine], [f].[NumberOfBooksFined], [f].[Status], [f].[UserId]
FROM [Fines] AS [f]
WHERE [f].[RentId] = @__key_0
INFO  05:27:34 Executed DbCommand (14ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [f].[RentId], [f].[BookId], [f].[FineAmount], [f].[FinePaidDate], [f].[Status]
FROM [FineDetails] AS [f]
INFO  05:27:34 Executed DbCommand (4ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[RentId], [r].[BookId], [r].[Price], [r].[ReturnDate], [r].[status]
FROM [RentDetails] AS [r]
WHERE ([r].[RentId] = @__key1_0) AND ([r].[BookId] = @__key2_1)
INFO  05:27:34 Executed DbCommand (3ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [f].[RentId], [f].[BookId], [f].[FineAmount], [f].[FinePaidDate], [f].[Status]
FROM [FineDetails] AS [f]
WHERE ([f].[RentId] = @__key1_0) AND ([f].[BookId] = @__key2_1)
INFO  05:27:34 Executed DbCommand (7ms) [Parameters=[@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p0='?' (DbType = Double), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [FineDetails] SET [FineAmount] = @p0, [FinePaidDate] = @p1, [Status] = @p2
WHERE [BookId] = @p3 AND [RentId] = @p4;
SELECT @@ROWCOUNT;
INFO  05:27:34 Executed DbCommand (2ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[RentId], [r].[BookId], [r].[Price], [r].[ReturnDate], [r].[status]
FROM [RentDetails] AS [r]
WHERE ([r].[RentId] = @__key1_0) AND ([r].[BookId] = @__key2_1)
INFO  05:27:34 Executed DbCommand (2ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [f].[RentId], [f].[BookId], [f].[FineAmount], [f].[FinePaidDate], [f].[Status]
FROM [FineDetails] AS [f]
WHERE ([f].[RentId] = @__key1_0) AND ([f].[BookId] = @__key2_1)
INFO  05:27:34 Executed DbCommand (3ms) [Parameters=[@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p0='?' (DbType = Double), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [FineDetails] SET [FineAmount] = @p0, [FinePaidDate] = @p1, [Status] = @p2
WHERE [BookId] = @p3 AND [RentId] = @p4;
SELECT @@ROWCOUNT;
INFO  05:27:34 Executed DbCommand (3ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [f].[RentId], [f].[FineAmount], [f].[FinePaidDate], [f].[FinePending], [f].[NumbeOfBooksPaidFine], [f].[NumberOfBooksFined], [f].[Status], [f].[UserId]
FROM [Fines] AS [f]
WHERE [f].[RentId] = @__key_0
INFO  05:27:34 Executed DbCommand (5ms) [Parameters=[@p7='?' (DbType = Int32), @p0='?' (DbType = Double), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Double), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Fines] SET [FineAmount] = @p0, [FinePaidDate] = @p1, [FinePending] = @p2, [NumbeOfBooksPaidFine] = @p3, [NumberOfBooksFined] = @p4, [Status] = @p5, [UserId] = @p6
WHERE [RentId] = @p7;
SELECT @@ROWCOUNT;
INFO  05:28:44 Entity Framework Core 6.0.29 initialized 'LibraryManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.29' with options: None
INFO  05:28:44 Executed DbCommand (7ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [f].[RentId], [f].[FineAmount], [f].[FinePaidDate], [f].[FinePending], [f].[NumbeOfBooksPaidFine], [f].[NumberOfBooksFined], [f].[Status], [f].[UserId]
FROM [Fines] AS [f]
WHERE [f].[RentId] = @__key_0
INFO  05:28:44 Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [f].[RentId], [f].[BookId], [f].[FineAmount], [f].[FinePaidDate], [f].[Status]
FROM [FineDetails] AS [f]
INFO  05:28:44 Executed DbCommand (5ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[RentId], [r].[BookId], [r].[Price], [r].[ReturnDate], [r].[status]
FROM [RentDetails] AS [r]
WHERE ([r].[RentId] = @__key1_0) AND ([r].[BookId] = @__key2_1)
INFO  05:29:11 Entity Framework Core 6.0.29 initialized 'LibraryManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.29' with options: None
WARN  05:29:12 Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
INFO  05:29:12 Executed DbCommand (20ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[Name], [t].[Phone], [t].[Role], [c].[UserId], [c].[BookId], [c].[Price], [c].[Quantity], [t0].[UserId], [t0].[BookId], [t0].[DueDate], [t0].[IsFined], [t0].[RentId], [t0].[Id], [t0].[Author], [t0].[Category], [t0].[Description], [t0].[Title], [t1].[UserId], [t1].[BookId], [t1].[DueDate], [t1].[IsFined], [t1].[RentId], [t1].[Id], [t1].[Author], [t1].[Category], [t1].[Description], [t1].[Title]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Name], [u].[Phone], [u].[Role]
    FROM [Users] AS [u]
    WHERE [u].[Id] = @__key_0
) AS [t]
LEFT JOIN [Cart] AS [c] ON [t].[Id] = [c].[UserId]
LEFT JOIN (
    SELECT [s].[UserId], [s].[BookId], [s].[DueDate], [s].[IsFined], [s].[RentId], [b].[Id], [b].[Author], [b].[Category], [b].[Description], [b].[Title]
    FROM [SuperRentCart] AS [s]
    INNER JOIN [Books] AS [b] ON [s].[BookId] = [b].[Id]
) AS [t0] ON [t].[Id] = [t0].[UserId]
LEFT JOIN (
    SELECT [r].[UserId], [r].[BookId], [r].[DueDate], [r].[IsFined], [r].[RentId], [b0].[Id], [b0].[Author], [b0].[Category], [b0].[Description], [b0].[Title]
    FROM [RentCart] AS [r]
    INNER JOIN [Books] AS [b0] ON [r].[BookId] = [b0].[Id]
) AS [t1] ON [t].[Id] = [t1].[UserId]
ORDER BY [t].[Id], [c].[UserId], [c].[BookId], [t0].[UserId], [t0].[BookId], [t0].[Id], [t1].[UserId], [t1].[BookId]
INFO  05:29:12 Executed DbCommand (3ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[UserId], [r].[BookId], [r].[DueDate], [r].[IsFined], [r].[RentId]
FROM [RentCart] AS [r]
WHERE ([r].[UserId] = @__key1_0) AND ([r].[BookId] = @__key2_1)
INFO  05:29:12 Executed DbCommand (4ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[UserId], [s].[BookId], [s].[DueDate], [s].[IsFined], [s].[RentId]
FROM [SuperRentCart] AS [s]
WHERE ([s].[UserId] = @__key1_0) AND ([s].[BookId] = @__key2_1)
INFO  05:29:12 Executed DbCommand (3ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[UserId], [r].[BookId], [r].[DueDate], [r].[IsFined], [r].[RentId]
FROM [RentCart] AS [r]
WHERE ([r].[UserId] = @__key1_0) AND ([r].[BookId] = @__key2_1)
INFO  05:29:12 Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [RentCart]
WHERE [BookId] = @p0 AND [UserId] = @p1;
SELECT @@ROWCOUNT;
INFO  05:29:12 Executed DbCommand (5ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[RentId], [t].[Amount], [t].[BooksToBeReturned], [t].[CartType], [t].[DateOfRent], [t].[DueDate], [t].[FineAmount], [t].[Progress], [t].[UserId], [r0].[RentId], [r0].[BookId], [r0].[Price], [r0].[ReturnDate], [r0].[status]
FROM (
    SELECT TOP(1) [r].[RentId], [r].[Amount], [r].[BooksToBeReturned], [r].[CartType], [r].[DateOfRent], [r].[DueDate], [r].[FineAmount], [r].[Progress], [r].[UserId]
    FROM [Rents] AS [r]
    WHERE [r].[RentId] = @__key_0
) AS [t]
LEFT JOIN [RentDetails] AS [r0] ON [t].[RentId] = [r0].[RentId]
ORDER BY [t].[RentId], [r0].[RentId]
INFO  05:29:12 Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[RentId], [t].[Amount], [t].[BooksToBeReturned], [t].[CartType], [t].[DateOfRent], [t].[DueDate], [t].[FineAmount], [t].[Progress], [t].[UserId], [r0].[RentId], [r0].[BookId], [r0].[Price], [r0].[ReturnDate], [r0].[status]
FROM (
    SELECT TOP(1) [r].[RentId], [r].[Amount], [r].[BooksToBeReturned], [r].[CartType], [r].[DateOfRent], [r].[DueDate], [r].[FineAmount], [r].[Progress], [r].[UserId]
    FROM [Rents] AS [r]
    WHERE [r].[RentId] = @__key_0
) AS [t]
LEFT JOIN [RentDetails] AS [r0] ON [t].[RentId] = [r0].[RentId]
ORDER BY [t].[RentId], [r0].[RentId]
INFO  05:29:12 Executed DbCommand (6ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = Double), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Double), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Rents] SET [Amount] = @p0, [BooksToBeReturned] = @p1, [CartType] = @p2, [DateOfRent] = @p3, [DueDate] = @p4, [FineAmount] = @p5, [Progress] = @p6, [UserId] = @p7
WHERE [RentId] = @p8;
SELECT @@ROWCOUNT;
INFO  05:29:12 Executed DbCommand (2ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[RentId], [r].[BookId], [r].[Price], [r].[ReturnDate], [r].[status]
FROM [RentDetails] AS [r]
WHERE ([r].[RentId] = @__key1_0) AND ([r].[BookId] = @__key2_1)
INFO  05:29:12 Executed DbCommand (3ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[BookId], [r].[QuantityInStock], [r].[RentPerBook]
FROM [RentStocks] AS [r]
WHERE [r].[BookId] = @__key_0
INFO  05:29:12 Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[BookId], [r].[QuantityInStock], [r].[RentPerBook]
FROM [RentStocks] AS [r]
WHERE [r].[BookId] = @__key_0
INFO  05:29:12 Executed DbCommand (3ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [RentDetails] SET [ReturnDate] = @p0, [status] = @p1
WHERE [BookId] = @p2 AND [RentId] = @p3;
SELECT @@ROWCOUNT;
INFO  05:29:12 Executed DbCommand (3ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Double)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [RentStocks] SET [QuantityInStock] = @p0, [RentPerBook] = @p1
WHERE [BookId] = @p2;
SELECT @@ROWCOUNT;
INFO  05:29:12 Executed DbCommand (2ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[UserId], [r].[BookId], [r].[DueDate], [r].[IsFined], [r].[RentId]
FROM [RentCart] AS [r]
WHERE ([r].[UserId] = @__key1_0) AND ([r].[BookId] = @__key2_1)
INFO  05:29:12 Executed DbCommand (2ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[UserId], [s].[BookId], [s].[DueDate], [s].[IsFined], [s].[RentId]
FROM [SuperRentCart] AS [s]
WHERE ([s].[UserId] = @__key1_0) AND ([s].[BookId] = @__key2_1)
INFO  05:29:12 Executed DbCommand (3ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[UserId], [r].[BookId], [r].[DueDate], [r].[IsFined], [r].[RentId]
FROM [RentCart] AS [r]
WHERE ([r].[UserId] = @__key1_0) AND ([r].[BookId] = @__key2_1)
INFO  05:29:12 Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [RentCart]
WHERE [BookId] = @p0 AND [UserId] = @p1;
SELECT @@ROWCOUNT;
INFO  05:29:12 Executed DbCommand (3ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[RentId], [t].[Amount], [t].[BooksToBeReturned], [t].[CartType], [t].[DateOfRent], [t].[DueDate], [t].[FineAmount], [t].[Progress], [t].[UserId], [r0].[RentId], [r0].[BookId], [r0].[Price], [r0].[ReturnDate], [r0].[status]
FROM (
    SELECT TOP(1) [r].[RentId], [r].[Amount], [r].[BooksToBeReturned], [r].[CartType], [r].[DateOfRent], [r].[DueDate], [r].[FineAmount], [r].[Progress], [r].[UserId]
    FROM [Rents] AS [r]
    WHERE [r].[RentId] = @__key_0
) AS [t]
LEFT JOIN [RentDetails] AS [r0] ON [t].[RentId] = [r0].[RentId]
ORDER BY [t].[RentId], [r0].[RentId]
INFO  05:29:12 Executed DbCommand (4ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[RentId], [t].[Amount], [t].[BooksToBeReturned], [t].[CartType], [t].[DateOfRent], [t].[DueDate], [t].[FineAmount], [t].[Progress], [t].[UserId], [r0].[RentId], [r0].[BookId], [r0].[Price], [r0].[ReturnDate], [r0].[status]
FROM (
    SELECT TOP(1) [r].[RentId], [r].[Amount], [r].[BooksToBeReturned], [r].[CartType], [r].[DateOfRent], [r].[DueDate], [r].[FineAmount], [r].[Progress], [r].[UserId]
    FROM [Rents] AS [r]
    WHERE [r].[RentId] = @__key_0
) AS [t]
LEFT JOIN [RentDetails] AS [r0] ON [t].[RentId] = [r0].[RentId]
ORDER BY [t].[RentId], [r0].[RentId]
INFO  05:29:12 Executed DbCommand (1ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = Double), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Double), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Rents] SET [Amount] = @p0, [BooksToBeReturned] = @p1, [CartType] = @p2, [DateOfRent] = @p3, [DueDate] = @p4, [FineAmount] = @p5, [Progress] = @p6, [UserId] = @p7
WHERE [RentId] = @p8;
SELECT @@ROWCOUNT;
INFO  05:29:12 Executed DbCommand (3ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[RentId], [r].[BookId], [r].[Price], [r].[ReturnDate], [r].[status]
FROM [RentDetails] AS [r]
WHERE ([r].[RentId] = @__key1_0) AND ([r].[BookId] = @__key2_1)
INFO  05:29:12 Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[BookId], [r].[QuantityInStock], [r].[RentPerBook]
FROM [RentStocks] AS [r]
WHERE [r].[BookId] = @__key_0
INFO  05:29:12 Executed DbCommand (3ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[BookId], [r].[QuantityInStock], [r].[RentPerBook]
FROM [RentStocks] AS [r]
WHERE [r].[BookId] = @__key_0
INFO  05:29:12 Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [RentDetails] SET [ReturnDate] = @p0, [status] = @p1
WHERE [BookId] = @p2 AND [RentId] = @p3;
SELECT @@ROWCOUNT;
INFO  05:29:12 Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Double)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [RentStocks] SET [QuantityInStock] = @p0, [RentPerBook] = @p1
WHERE [BookId] = @p2;
SELECT @@ROWCOUNT;
INFO  05:29:25 Entity Framework Core 6.0.29 initialized 'LibraryManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.29' with options: None
INFO  05:29:25 Executed DbCommand (4ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [f].[RentId], [f].[FineAmount], [f].[FinePaidDate], [f].[FinePending], [f].[NumbeOfBooksPaidFine], [f].[NumberOfBooksFined], [f].[Status], [f].[UserId]
FROM [Fines] AS [f]
WHERE [f].[RentId] = @__key_0
INFO  05:29:25 Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [f].[RentId], [f].[BookId], [f].[FineAmount], [f].[FinePaidDate], [f].[Status]
FROM [FineDetails] AS [f]
INFO  05:29:25 Executed DbCommand (2ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[RentId], [r].[BookId], [r].[Price], [r].[ReturnDate], [r].[status]
FROM [RentDetails] AS [r]
WHERE ([r].[RentId] = @__key1_0) AND ([r].[BookId] = @__key2_1)
INFO  05:29:25 Executed DbCommand (4ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [f].[RentId], [f].[BookId], [f].[FineAmount], [f].[FinePaidDate], [f].[Status]
FROM [FineDetails] AS [f]
WHERE ([f].[RentId] = @__key1_0) AND ([f].[BookId] = @__key2_1)
INFO  05:29:25 Executed DbCommand (4ms) [Parameters=[@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p0='?' (DbType = Double), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [FineDetails] SET [FineAmount] = @p0, [FinePaidDate] = @p1, [Status] = @p2
WHERE [BookId] = @p3 AND [RentId] = @p4;
SELECT @@ROWCOUNT;
INFO  05:29:25 Executed DbCommand (4ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[RentId], [r].[BookId], [r].[Price], [r].[ReturnDate], [r].[status]
FROM [RentDetails] AS [r]
WHERE ([r].[RentId] = @__key1_0) AND ([r].[BookId] = @__key2_1)
INFO  05:29:25 Executed DbCommand (3ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [f].[RentId], [f].[BookId], [f].[FineAmount], [f].[FinePaidDate], [f].[Status]
FROM [FineDetails] AS [f]
WHERE ([f].[RentId] = @__key1_0) AND ([f].[BookId] = @__key2_1)
INFO  05:29:25 Executed DbCommand (3ms) [Parameters=[@p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p0='?' (DbType = Double), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [FineDetails] SET [FineAmount] = @p0, [FinePaidDate] = @p1, [Status] = @p2
WHERE [BookId] = @p3 AND [RentId] = @p4;
SELECT @@ROWCOUNT;
INFO  05:29:25 Executed DbCommand (3ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [f].[RentId], [f].[FineAmount], [f].[FinePaidDate], [f].[FinePending], [f].[NumbeOfBooksPaidFine], [f].[NumberOfBooksFined], [f].[Status], [f].[UserId]
FROM [Fines] AS [f]
WHERE [f].[RentId] = @__key_0
INFO  05:29:25 Executed DbCommand (5ms) [Parameters=[@p7='?' (DbType = Int32), @p0='?' (DbType = Double), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Double), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Fines] SET [FineAmount] = @p0, [FinePaidDate] = @p1, [FinePending] = @p2, [NumbeOfBooksPaidFine] = @p3, [NumberOfBooksFined] = @p4, [Status] = @p5, [UserId] = @p6
WHERE [RentId] = @p7;
SELECT @@ROWCOUNT;
INFO  09:21:11 Now listening on: http://localhost:5022
INFO  09:21:11 Application started. Press Ctrl+C to shut down.
INFO  09:21:11 Hosting environment: Development
INFO  09:21:11 Content root path: C:\MyPersonalFiles\GensparkTraining\MiniProject\MiniProjectAppSolution\MiniProjectApp\
INFO  09:22:28 Entity Framework Core 6.0.29 initialized 'LibraryManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.29' with options: None
INFO  09:22:30 Executed DbCommand (214ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[HashKey], [u].[Password], [u].[Status]
FROM [UserCredentials] AS [u]
WHERE [u].[UserId] = @__key_0
WARN  09:22:31 Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
INFO  09:22:31 Executed DbCommand (34ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[Name], [t].[Phone], [t].[Role], [c].[UserId], [c].[BookId], [c].[Price], [c].[Quantity], [t0].[UserId], [t0].[BookId], [t0].[DueDate], [t0].[IsFined], [t0].[RentId], [t0].[Id], [t0].[Author], [t0].[Category], [t0].[Description], [t0].[Title], [t1].[UserId], [t1].[BookId], [t1].[DueDate], [t1].[IsFined], [t1].[RentId], [t1].[Id], [t1].[Author], [t1].[Category], [t1].[Description], [t1].[Title]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Name], [u].[Phone], [u].[Role]
    FROM [Users] AS [u]
    WHERE [u].[Id] = @__key_0
) AS [t]
LEFT JOIN [Cart] AS [c] ON [t].[Id] = [c].[UserId]
LEFT JOIN (
    SELECT [s].[UserId], [s].[BookId], [s].[DueDate], [s].[IsFined], [s].[RentId], [b].[Id], [b].[Author], [b].[Category], [b].[Description], [b].[Title]
    FROM [SuperRentCart] AS [s]
    INNER JOIN [Books] AS [b] ON [s].[BookId] = [b].[Id]
) AS [t0] ON [t].[Id] = [t0].[UserId]
LEFT JOIN (
    SELECT [r].[UserId], [r].[BookId], [r].[DueDate], [r].[IsFined], [r].[RentId], [b0].[Id], [b0].[Author], [b0].[Category], [b0].[Description], [b0].[Title]
    FROM [RentCart] AS [r]
    INNER JOIN [Books] AS [b0] ON [r].[BookId] = [b0].[Id]
) AS [t1] ON [t].[Id] = [t1].[UserId]
ORDER BY [t].[Id], [c].[UserId], [c].[BookId], [t0].[UserId], [t0].[BookId], [t0].[Id], [t1].[UserId], [t1].[BookId]
INFO  09:24:05 Now listening on: http://localhost:5022
INFO  09:24:05 Application started. Press Ctrl+C to shut down.
INFO  09:24:05 Hosting environment: Development
INFO  09:24:05 Content root path: C:\MyPersonalFiles\GensparkTraining\MiniProject\MiniProjectAppSolution\MiniProjectApp\
INFO  09:26:00 Now listening on: http://localhost:5022
INFO  09:26:00 Application started. Press Ctrl+C to shut down.
INFO  09:26:00 Hosting environment: Development
INFO  09:26:00 Content root path: C:\MyPersonalFiles\GensparkTraining\MiniProject\MiniProjectAppSolution\MiniProjectApp\
INFO  09:26:25 Entity Framework Core 6.0.29 initialized 'LibraryManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.29' with options: None
INFO  09:26:26 Executed DbCommand (61ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [s].[BookId], [s].[PricePerBook], [s].[QuantityInStock], [b].[Id], [b].[Author], [b].[Category], [b].[Description], [b].[Title]
FROM [SalesStocks] AS [s]
INNER JOIN [Books] AS [b] ON [s].[BookId] = [b].[Id]
INFO  09:28:04 Entity Framework Core 6.0.29 initialized 'LibraryManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.29' with options: None
INFO  09:28:04 Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [s].[BookId], [s].[PricePerBook], [s].[QuantityInStock], [b].[Id], [b].[Author], [b].[Category], [b].[Description], [b].[Title]
FROM [SalesStocks] AS [s]
INNER JOIN [Books] AS [b] ON [s].[BookId] = [b].[Id]
INFO  09:31:11 Entity Framework Core 6.0.29 initialized 'LibraryManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.29' with options: None
WARN  09:31:11 Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
INFO  09:31:12 Executed DbCommand (69ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[Name], [t].[Phone], [t].[Role], [c].[UserId], [c].[BookId], [c].[Price], [c].[Quantity], [t0].[UserId], [t0].[BookId], [t0].[DueDate], [t0].[IsFined], [t0].[RentId], [t0].[Id], [t0].[Author], [t0].[Category], [t0].[Description], [t0].[Title], [t1].[UserId], [t1].[BookId], [t1].[DueDate], [t1].[IsFined], [t1].[RentId], [t1].[Id], [t1].[Author], [t1].[Category], [t1].[Description], [t1].[Title]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Name], [u].[Phone], [u].[Role]
    FROM [Users] AS [u]
    WHERE [u].[Id] = @__key_0
) AS [t]
LEFT JOIN [Cart] AS [c] ON [t].[Id] = [c].[UserId]
LEFT JOIN (
    SELECT [s].[UserId], [s].[BookId], [s].[DueDate], [s].[IsFined], [s].[RentId], [b].[Id], [b].[Author], [b].[Category], [b].[Description], [b].[Title]
    FROM [SuperRentCart] AS [s]
    INNER JOIN [Books] AS [b] ON [s].[BookId] = [b].[Id]
) AS [t0] ON [t].[Id] = [t0].[UserId]
LEFT JOIN (
    SELECT [r].[UserId], [r].[BookId], [r].[DueDate], [r].[IsFined], [r].[RentId], [b0].[Id], [b0].[Author], [b0].[Category], [b0].[Description], [b0].[Title]
    FROM [RentCart] AS [r]
    INNER JOIN [Books] AS [b0] ON [r].[BookId] = [b0].[Id]
) AS [t1] ON [t].[Id] = [t1].[UserId]
ORDER BY [t].[Id], [c].[UserId], [c].[BookId], [t0].[UserId], [t0].[BookId], [t0].[Id], [t1].[UserId], [t1].[BookId]
INFO  09:31:12 Executed DbCommand (4ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[HashKey], [u].[Password], [u].[Status]
FROM [UserCredentials] AS [u]
WHERE [u].[UserId] = @__key_0
INFO  09:31:12 Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [f].[RentId], [f].[FineAmount], [f].[FinePaidDate], [f].[FinePending], [f].[NumbeOfBooksPaidFine], [f].[NumberOfBooksFined], [f].[Status], [f].[UserId]
FROM [Fines] AS [f]
INFO  09:31:12 Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[HashKey], [u].[Password], [u].[Status]
FROM [UserCredentials] AS [u]
WHERE [u].[UserId] = @__key_0
INFO  09:31:12 Executed DbCommand (7ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 8000) (DbType = Binary), @p1='?' (Size = 8000) (DbType = Binary), @p2='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [UserCredentials] SET [HashKey] = @p0, [Password] = @p1, [Status] = @p2
WHERE [UserId] = @p3;
SELECT @@ROWCOUNT;
INFO  10:47:19 Entity Framework Core 6.0.29 initialized 'LibraryManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.29' with options: None
INFO  10:47:19 Executed DbCommand (13ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
INFO  10:47:20 Executed DbCommand (11ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
INFO  10:47:20 Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
INFO  10:47:20 Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
INFO  10:47:20 Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
INFO  10:47:20 No migrations were applied. The database is already up to date.
INFO  10:47:42 Entity Framework Core 6.0.29 initialized 'LibraryManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.29' with options: None
INFO  10:47:51 Entity Framework Core 6.0.29 initialized 'LibraryManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.29' with options: None
INFO  10:47:51 Executed DbCommand (12ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
INFO  10:47:51 Executed DbCommand (11ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
INFO  10:47:51 Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
INFO  10:47:51 Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
INFO  10:47:51 Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
INFO  10:47:52 Applying migration '20240603171743_eight'.
INFO  10:47:52 Executed DbCommand (29ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Name', N'Phone', N'Role') AND [object_id] = OBJECT_ID(N'[Users]'))
    SET IDENTITY_INSERT [Users] ON;
INSERT INTO [Users] ([Id], [Name], [Phone], [Role])
VALUES (1, N'Spidey', N'8378499039', N'Admin');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Name', N'Phone', N'Role') AND [object_id] = OBJECT_ID(N'[Users]'))
    SET IDENTITY_INSERT [Users] OFF;
INFO  10:47:52 Executed DbCommand (16ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Name', N'Phone', N'Role') AND [object_id] = OBJECT_ID(N'[Users]'))
    SET IDENTITY_INSERT [Users] ON;
INSERT INTO [Users] ([Id], [Name], [Phone], [Role])
VALUES (2, N'Peter Parker', N'8293377843', N'User');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Name', N'Phone', N'Role') AND [object_id] = OBJECT_ID(N'[Users]'))
    SET IDENTITY_INSERT [Users] OFF;
INFO  10:47:52 Executed DbCommand (16ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Name', N'Phone', N'Role') AND [object_id] = OBJECT_ID(N'[Users]'))
    SET IDENTITY_INSERT [Users] ON;
INSERT INTO [Users] ([Id], [Name], [Phone], [Role])
VALUES (3, N'Ben Parker', N'3847299304', N'Premium User');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Name', N'Phone', N'Role') AND [object_id] = OBJECT_ID(N'[Users]'))
    SET IDENTITY_INSERT [Users] OFF;
INFO  10:47:52 Executed DbCommand (18ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'UserId', N'HashKey', N'Password', N'Status') AND [object_id] = OBJECT_ID(N'[UserCredentials]'))
    SET IDENTITY_INSERT [UserCredentials] ON;
INSERT INTO [UserCredentials] ([UserId], [HashKey], [Password], [Status])
VALUES (1, 0x78797A, 0x737472696E67, N'Active');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'UserId', N'HashKey', N'Password', N'Status') AND [object_id] = OBJECT_ID(N'[UserCredentials]'))
    SET IDENTITY_INSERT [UserCredentials] OFF;
INFO  10:47:52 Executed DbCommand (14ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'UserId', N'HashKey', N'Password', N'Status') AND [object_id] = OBJECT_ID(N'[UserCredentials]'))
    SET IDENTITY_INSERT [UserCredentials] ON;
INSERT INTO [UserCredentials] ([UserId], [HashKey], [Password], [Status])
VALUES (2, 0x78797A, 0x737472696E67, N'Active');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'UserId', N'HashKey', N'Password', N'Status') AND [object_id] = OBJECT_ID(N'[UserCredentials]'))
    SET IDENTITY_INSERT [UserCredentials] OFF;
INFO  10:47:52 Executed DbCommand (17ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'UserId', N'HashKey', N'Password', N'Status') AND [object_id] = OBJECT_ID(N'[UserCredentials]'))
    SET IDENTITY_INSERT [UserCredentials] ON;
INSERT INTO [UserCredentials] ([UserId], [HashKey], [Password], [Status])
VALUES (3, 0x78797A, 0x737472696E67, N'Active');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'UserId', N'HashKey', N'Password', N'Status') AND [object_id] = OBJECT_ID(N'[UserCredentials]'))
    SET IDENTITY_INSERT [UserCredentials] OFF;
INFO  10:47:53 Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240603171743_eight', N'6.0.29');
INFO  01:02:45 Now listening on: http://localhost:5022
INFO  01:02:45 Application started. Press Ctrl+C to shut down.
INFO  01:02:45 Hosting environment: Development
INFO  01:02:45 Content root path: C:\MyPersonalFiles\GensparkTraining\MiniProject\MiniProjectAppSolution\MiniProjectApp\
INFO  01:03:12 Entity Framework Core 6.0.29 initialized 'LibraryManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.29' with options: None
WARN  01:03:13 Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
INFO  01:03:14 Executed DbCommand (193ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[Name], [t].[Phone], [t].[Role], [c].[UserId], [c].[BookId], [c].[Price], [c].[Quantity], [t0].[UserId], [t0].[BookId], [t0].[DueDate], [t0].[IsFined], [t0].[RentId], [t0].[Id], [t0].[Author], [t0].[Category], [t0].[Description], [t0].[Title], [t1].[UserId], [t1].[BookId], [t1].[DueDate], [t1].[IsFined], [t1].[RentId], [t1].[Id], [t1].[Author], [t1].[Category], [t1].[Description], [t1].[Title]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Name], [u].[Phone], [u].[Role]
    FROM [Users] AS [u]
    WHERE [u].[Id] = @__key_0
) AS [t]
LEFT JOIN [Cart] AS [c] ON [t].[Id] = [c].[UserId]
LEFT JOIN (
    SELECT [s].[UserId], [s].[BookId], [s].[DueDate], [s].[IsFined], [s].[RentId], [b].[Id], [b].[Author], [b].[Category], [b].[Description], [b].[Title]
    FROM [SuperRentCart] AS [s]
    INNER JOIN [Books] AS [b] ON [s].[BookId] = [b].[Id]
) AS [t0] ON [t].[Id] = [t0].[UserId]
LEFT JOIN (
    SELECT [r].[UserId], [r].[BookId], [r].[DueDate], [r].[IsFined], [r].[RentId], [b0].[Id], [b0].[Author], [b0].[Category], [b0].[Description], [b0].[Title]
    FROM [RentCart] AS [r]
    INNER JOIN [Books] AS [b0] ON [r].[BookId] = [b0].[Id]
) AS [t1] ON [t].[Id] = [t1].[UserId]
ORDER BY [t].[Id], [c].[UserId], [c].[BookId], [t0].[UserId], [t0].[BookId], [t0].[Id], [t1].[UserId], [t1].[BookId]
INFO  01:03:15 Executed DbCommand (9ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[BookId], [s].[PricePerBook], [s].[QuantityInStock]
FROM [SalesStocks] AS [s]
WHERE [s].[BookId] = @__key_0
INFO  01:03:15 Executed DbCommand (3ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[UserId], [c].[BookId], [c].[Price], [c].[Quantity]
FROM [Cart] AS [c]
WHERE ([c].[UserId] = @__key1_0) AND ([c].[BookId] = @__key2_1)
INFO  01:03:15 Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Cart] ([BookId], [UserId], [Price], [Quantity])
VALUES (@p0, @p1, @p2, @p3);
INFO  01:03:48 Entity Framework Core 6.0.29 initialized 'LibraryManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.29' with options: None
INFO  01:03:48 Executed DbCommand (17ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[Name], [t].[Phone], [t].[Role], [c].[UserId], [c].[BookId], [c].[Price], [c].[Quantity], [t0].[UserId], [t0].[BookId], [t0].[DueDate], [t0].[IsFined], [t0].[RentId], [t0].[Id], [t0].[Author], [t0].[Category], [t0].[Description], [t0].[Title], [t1].[UserId], [t1].[BookId], [t1].[DueDate], [t1].[IsFined], [t1].[RentId], [t1].[Id], [t1].[Author], [t1].[Category], [t1].[Description], [t1].[Title]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Name], [u].[Phone], [u].[Role]
    FROM [Users] AS [u]
    WHERE [u].[Id] = @__key_0
) AS [t]
LEFT JOIN [Cart] AS [c] ON [t].[Id] = [c].[UserId]
LEFT JOIN (
    SELECT [s].[UserId], [s].[BookId], [s].[DueDate], [s].[IsFined], [s].[RentId], [b].[Id], [b].[Author], [b].[Category], [b].[Description], [b].[Title]
    FROM [SuperRentCart] AS [s]
    INNER JOIN [Books] AS [b] ON [s].[BookId] = [b].[Id]
) AS [t0] ON [t].[Id] = [t0].[UserId]
LEFT JOIN (
    SELECT [r].[UserId], [r].[BookId], [r].[DueDate], [r].[IsFined], [r].[RentId], [b0].[Id], [b0].[Author], [b0].[Category], [b0].[Description], [b0].[Title]
    FROM [RentCart] AS [r]
    INNER JOIN [Books] AS [b0] ON [r].[BookId] = [b0].[Id]
) AS [t1] ON [t].[Id] = [t1].[UserId]
ORDER BY [t].[Id], [c].[UserId], [c].[BookId], [t0].[UserId], [t0].[BookId], [t0].[Id], [t1].[UserId], [t1].[BookId]
INFO  01:03:48 Executed DbCommand (3ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[BookId], [s].[PricePerBook], [s].[QuantityInStock]
FROM [SalesStocks] AS [s]
WHERE [s].[BookId] = @__key_0
INFO  01:03:48 Executed DbCommand (3ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[UserId], [c].[BookId], [c].[Price], [c].[Quantity]
FROM [Cart] AS [c]
WHERE ([c].[UserId] = @__key1_0) AND ([c].[BookId] = @__key2_1)
INFO  01:03:48 Executed DbCommand (2ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[UserId], [c].[BookId], [c].[Price], [c].[Quantity]
FROM [Cart] AS [c]
WHERE ([c].[UserId] = @__key1_0) AND ([c].[BookId] = @__key2_1)
INFO  01:03:48 Executed DbCommand (5ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p0='?' (DbType = Double), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Cart] SET [Price] = @p0, [Quantity] = @p1
WHERE [BookId] = @p2 AND [UserId] = @p3;
SELECT @@ROWCOUNT;
INFO  01:03:54 Entity Framework Core 6.0.29 initialized 'LibraryManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.29' with options: None
INFO  01:03:54 Executed DbCommand (6ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[Name], [t].[Phone], [t].[Role], [c].[UserId], [c].[BookId], [c].[Price], [c].[Quantity], [t0].[UserId], [t0].[BookId], [t0].[DueDate], [t0].[IsFined], [t0].[RentId], [t0].[Id], [t0].[Author], [t0].[Category], [t0].[Description], [t0].[Title], [t1].[UserId], [t1].[BookId], [t1].[DueDate], [t1].[IsFined], [t1].[RentId], [t1].[Id], [t1].[Author], [t1].[Category], [t1].[Description], [t1].[Title]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Name], [u].[Phone], [u].[Role]
    FROM [Users] AS [u]
    WHERE [u].[Id] = @__key_0
) AS [t]
LEFT JOIN [Cart] AS [c] ON [t].[Id] = [c].[UserId]
LEFT JOIN (
    SELECT [s].[UserId], [s].[BookId], [s].[DueDate], [s].[IsFined], [s].[RentId], [b].[Id], [b].[Author], [b].[Category], [b].[Description], [b].[Title]
    FROM [SuperRentCart] AS [s]
    INNER JOIN [Books] AS [b] ON [s].[BookId] = [b].[Id]
) AS [t0] ON [t].[Id] = [t0].[UserId]
LEFT JOIN (
    SELECT [r].[UserId], [r].[BookId], [r].[DueDate], [r].[IsFined], [r].[RentId], [b0].[Id], [b0].[Author], [b0].[Category], [b0].[Description], [b0].[Title]
    FROM [RentCart] AS [r]
    INNER JOIN [Books] AS [b0] ON [r].[BookId] = [b0].[Id]
) AS [t1] ON [t].[Id] = [t1].[UserId]
ORDER BY [t].[Id], [c].[UserId], [c].[BookId], [t0].[UserId], [t0].[BookId], [t0].[Id], [t1].[UserId], [t1].[BookId]
INFO  01:03:54 Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[BookId], [s].[PricePerBook], [s].[QuantityInStock]
FROM [SalesStocks] AS [s]
WHERE [s].[BookId] = @__key_0
INFO  01:03:54 Executed DbCommand (2ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[UserId], [c].[BookId], [c].[Price], [c].[Quantity]
FROM [Cart] AS [c]
WHERE ([c].[UserId] = @__key1_0) AND ([c].[BookId] = @__key2_1)
INFO  01:03:54 Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Cart] ([BookId], [UserId], [Price], [Quantity])
VALUES (@p0, @p1, @p2, @p3);
INFO  01:04:04 Entity Framework Core 6.0.29 initialized 'LibraryManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.29' with options: None
INFO  01:04:04 Executed DbCommand (23ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[Name], [t].[Phone], [t].[Role], [c].[UserId], [c].[BookId], [c].[Price], [c].[Quantity], [t0].[UserId], [t0].[BookId], [t0].[DueDate], [t0].[IsFined], [t0].[RentId], [t0].[Id], [t0].[Author], [t0].[Category], [t0].[Description], [t0].[Title], [t1].[UserId], [t1].[BookId], [t1].[DueDate], [t1].[IsFined], [t1].[RentId], [t1].[Id], [t1].[Author], [t1].[Category], [t1].[Description], [t1].[Title]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Name], [u].[Phone], [u].[Role]
    FROM [Users] AS [u]
    WHERE [u].[Id] = @__key_0
) AS [t]
LEFT JOIN [Cart] AS [c] ON [t].[Id] = [c].[UserId]
LEFT JOIN (
    SELECT [s].[UserId], [s].[BookId], [s].[DueDate], [s].[IsFined], [s].[RentId], [b].[Id], [b].[Author], [b].[Category], [b].[Description], [b].[Title]
    FROM [SuperRentCart] AS [s]
    INNER JOIN [Books] AS [b] ON [s].[BookId] = [b].[Id]
) AS [t0] ON [t].[Id] = [t0].[UserId]
LEFT JOIN (
    SELECT [r].[UserId], [r].[BookId], [r].[DueDate], [r].[IsFined], [r].[RentId], [b0].[Id], [b0].[Author], [b0].[Category], [b0].[Description], [b0].[Title]
    FROM [RentCart] AS [r]
    INNER JOIN [Books] AS [b0] ON [r].[BookId] = [b0].[Id]
) AS [t1] ON [t].[Id] = [t1].[UserId]
ORDER BY [t].[Id], [c].[UserId], [c].[BookId], [t0].[UserId], [t0].[BookId], [t0].[Id], [t1].[UserId], [t1].[BookId]
INFO  01:04:04 Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Double), @p2='?' (DbType = Double), @p3='?' (DbType = Int32), @p4='?' (DbType = Double), @p5='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Sales] ([DateOfSale], [Discount], [FinalAmount], [NoOfBooks], [Total], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [SaleId]
FROM [Sales]
WHERE @@ROWCOUNT = 1 AND [SaleId] = scope_identity();
INFO  01:04:04 Executed DbCommand (3ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[BookId], [s].[PricePerBook], [s].[QuantityInStock]
FROM [SalesStocks] AS [s]
WHERE [s].[BookId] = @__key_0
INFO  01:04:04 Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = Double)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [SaleDetails] ([BookId], [SaleId], [Price], [Quantity])
VALUES (@p0, @p1, @p2, @p3);
INFO  01:04:04 Executed DbCommand (3ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[BookId], [s].[PricePerBook], [s].[QuantityInStock]
FROM [SalesStocks] AS [s]
WHERE [s].[BookId] = @__key_0
INFO  01:04:04 Executed DbCommand (4ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Double), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [SalesStocks] SET [PricePerBook] = @p0, [QuantityInStock] = @p1
WHERE [BookId] = @p2;
SELECT @@ROWCOUNT;
INFO  01:04:04 Executed DbCommand (3ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[UserId], [c].[BookId], [c].[Price], [c].[Quantity]
FROM [Cart] AS [c]
WHERE ([c].[UserId] = @__key1_0) AND ([c].[BookId] = @__key2_1)
INFO  01:04:04 Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [Cart]
WHERE [BookId] = @p0 AND [UserId] = @p1;
SELECT @@ROWCOUNT;
INFO  01:04:04 Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[BookId], [s].[PricePerBook], [s].[QuantityInStock]
FROM [SalesStocks] AS [s]
WHERE [s].[BookId] = @__key_0
INFO  01:04:04 Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = Double)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [SaleDetails] ([BookId], [SaleId], [Price], [Quantity])
VALUES (@p0, @p1, @p2, @p3);
INFO  01:04:04 Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[BookId], [s].[PricePerBook], [s].[QuantityInStock]
FROM [SalesStocks] AS [s]
WHERE [s].[BookId] = @__key_0
INFO  01:04:04 Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Double), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [SalesStocks] SET [PricePerBook] = @p0, [QuantityInStock] = @p1
WHERE [BookId] = @p2;
SELECT @@ROWCOUNT;
INFO  01:04:04 Executed DbCommand (2ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[UserId], [c].[BookId], [c].[Price], [c].[Quantity]
FROM [Cart] AS [c]
WHERE ([c].[UserId] = @__key1_0) AND ([c].[BookId] = @__key2_1)
INFO  01:04:04 Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [Cart]
WHERE [BookId] = @p0 AND [UserId] = @p1;
SELECT @@ROWCOUNT;
INFO  01:04:04 Executed DbCommand (10ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[SaleId], [t].[DateOfSale], [t].[Discount], [t].[FinalAmount], [t].[NoOfBooks], [t].[Total], [t].[UserId], [t0].[SaleId], [t0].[BookId], [t0].[Price], [t0].[Quantity], [t0].[Id], [t0].[Author], [t0].[Category], [t0].[Description], [t0].[Title]
FROM (
    SELECT TOP(1) [s].[SaleId], [s].[DateOfSale], [s].[Discount], [s].[FinalAmount], [s].[NoOfBooks], [s].[Total], [s].[UserId]
    FROM [Sales] AS [s]
    WHERE [s].[SaleId] = @__key_0
) AS [t]
LEFT JOIN (
    SELECT [s0].[SaleId], [s0].[BookId], [s0].[Price], [s0].[Quantity], [b].[Id], [b].[Author], [b].[Category], [b].[Description], [b].[Title]
    FROM [SaleDetails] AS [s0]
    INNER JOIN [Books] AS [b] ON [s0].[BookId] = [b].[Id]
) AS [t0] ON [t].[SaleId] = [t0].[SaleId]
ORDER BY [t].[SaleId], [t0].[SaleId], [t0].[BookId]
INFO  01:04:04 Executed DbCommand (5ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = Double), @p2='?' (DbType = Double), @p3='?' (DbType = Int32), @p4='?' (DbType = Double), @p5='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Sales] SET [DateOfSale] = @p0, [Discount] = @p1, [FinalAmount] = @p2, [NoOfBooks] = @p3, [Total] = @p4, [UserId] = @p5
WHERE [SaleId] = @p6;
SELECT @@ROWCOUNT;
INFO  01:16:01 Now listening on: http://localhost:5022
INFO  01:16:01 Application started. Press Ctrl+C to shut down.
INFO  01:16:01 Hosting environment: Development
INFO  01:16:01 Content root path: C:\MyPersonalFiles\GensparkTraining\MiniProject\MiniProjectAppSolution\MiniProjectApp\
INFO  01:16:55 Entity Framework Core 6.0.29 initialized 'LibraryManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.29' with options: None
WARN  01:16:57 Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
INFO  01:16:58 Executed DbCommand (205ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[Name], [t].[Phone], [t].[Role], [c].[UserId], [c].[BookId], [c].[Price], [c].[Quantity], [t0].[UserId], [t0].[BookId], [t0].[DueDate], [t0].[IsFined], [t0].[RentId], [t0].[Id], [t0].[Author], [t0].[Category], [t0].[Description], [t0].[Title], [t1].[UserId], [t1].[BookId], [t1].[DueDate], [t1].[IsFined], [t1].[RentId], [t1].[Id], [t1].[Author], [t1].[Category], [t1].[Description], [t1].[Title]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Name], [u].[Phone], [u].[Role]
    FROM [Users] AS [u]
    WHERE [u].[Id] = @__key_0
) AS [t]
LEFT JOIN [Cart] AS [c] ON [t].[Id] = [c].[UserId]
LEFT JOIN (
    SELECT [s].[UserId], [s].[BookId], [s].[DueDate], [s].[IsFined], [s].[RentId], [b].[Id], [b].[Author], [b].[Category], [b].[Description], [b].[Title]
    FROM [SuperRentCart] AS [s]
    INNER JOIN [Books] AS [b] ON [s].[BookId] = [b].[Id]
) AS [t0] ON [t].[Id] = [t0].[UserId]
LEFT JOIN (
    SELECT [r].[UserId], [r].[BookId], [r].[DueDate], [r].[IsFined], [r].[RentId], [b0].[Id], [b0].[Author], [b0].[Category], [b0].[Description], [b0].[Title]
    FROM [RentCart] AS [r]
    INNER JOIN [Books] AS [b0] ON [r].[BookId] = [b0].[Id]
) AS [t1] ON [t].[Id] = [t1].[UserId]
ORDER BY [t].[Id], [c].[UserId], [c].[BookId], [t0].[UserId], [t0].[BookId], [t0].[Id], [t1].[UserId], [t1].[BookId]
INFO  01:16:58 Executed DbCommand (9ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[BookId], [s].[PricePerBook], [s].[QuantityInStock]
FROM [SalesStocks] AS [s]
WHERE [s].[BookId] = @__key_0
INFO  01:16:58 Executed DbCommand (2ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[UserId], [c].[BookId], [c].[Price], [c].[Quantity]
FROM [Cart] AS [c]
WHERE ([c].[UserId] = @__key1_0) AND ([c].[BookId] = @__key2_1)
INFO  01:16:59 Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Cart] ([BookId], [UserId], [Price], [Quantity])
VALUES (@p0, @p1, @p2, @p3);
INFO  01:17:07 Entity Framework Core 6.0.29 initialized 'LibraryManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.29' with options: None
INFO  01:17:07 Executed DbCommand (15ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[Name], [t].[Phone], [t].[Role], [c].[UserId], [c].[BookId], [c].[Price], [c].[Quantity], [t0].[UserId], [t0].[BookId], [t0].[DueDate], [t0].[IsFined], [t0].[RentId], [t0].[Id], [t0].[Author], [t0].[Category], [t0].[Description], [t0].[Title], [t1].[UserId], [t1].[BookId], [t1].[DueDate], [t1].[IsFined], [t1].[RentId], [t1].[Id], [t1].[Author], [t1].[Category], [t1].[Description], [t1].[Title]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Name], [u].[Phone], [u].[Role]
    FROM [Users] AS [u]
    WHERE [u].[Id] = @__key_0
) AS [t]
LEFT JOIN [Cart] AS [c] ON [t].[Id] = [c].[UserId]
LEFT JOIN (
    SELECT [s].[UserId], [s].[BookId], [s].[DueDate], [s].[IsFined], [s].[RentId], [b].[Id], [b].[Author], [b].[Category], [b].[Description], [b].[Title]
    FROM [SuperRentCart] AS [s]
    INNER JOIN [Books] AS [b] ON [s].[BookId] = [b].[Id]
) AS [t0] ON [t].[Id] = [t0].[UserId]
LEFT JOIN (
    SELECT [r].[UserId], [r].[BookId], [r].[DueDate], [r].[IsFined], [r].[RentId], [b0].[Id], [b0].[Author], [b0].[Category], [b0].[Description], [b0].[Title]
    FROM [RentCart] AS [r]
    INNER JOIN [Books] AS [b0] ON [r].[BookId] = [b0].[Id]
) AS [t1] ON [t].[Id] = [t1].[UserId]
ORDER BY [t].[Id], [c].[UserId], [c].[BookId], [t0].[UserId], [t0].[BookId], [t0].[Id], [t1].[UserId], [t1].[BookId]
INFO  01:17:07 Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[BookId], [s].[PricePerBook], [s].[QuantityInStock]
FROM [SalesStocks] AS [s]
WHERE [s].[BookId] = @__key_0
INFO  01:17:07 Executed DbCommand (2ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[UserId], [c].[BookId], [c].[Price], [c].[Quantity]
FROM [Cart] AS [c]
WHERE ([c].[UserId] = @__key1_0) AND ([c].[BookId] = @__key2_1)
INFO  01:17:07 Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Cart] ([BookId], [UserId], [Price], [Quantity])
VALUES (@p0, @p1, @p2, @p3);
INFO  01:17:21 Entity Framework Core 6.0.29 initialized 'LibraryManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.29' with options: None
INFO  01:17:21 Executed DbCommand (21ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[Name], [t].[Phone], [t].[Role], [c].[UserId], [c].[BookId], [c].[Price], [c].[Quantity], [t0].[UserId], [t0].[BookId], [t0].[DueDate], [t0].[IsFined], [t0].[RentId], [t0].[Id], [t0].[Author], [t0].[Category], [t0].[Description], [t0].[Title], [t1].[UserId], [t1].[BookId], [t1].[DueDate], [t1].[IsFined], [t1].[RentId], [t1].[Id], [t1].[Author], [t1].[Category], [t1].[Description], [t1].[Title]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Name], [u].[Phone], [u].[Role]
    FROM [Users] AS [u]
    WHERE [u].[Id] = @__key_0
) AS [t]
LEFT JOIN [Cart] AS [c] ON [t].[Id] = [c].[UserId]
LEFT JOIN (
    SELECT [s].[UserId], [s].[BookId], [s].[DueDate], [s].[IsFined], [s].[RentId], [b].[Id], [b].[Author], [b].[Category], [b].[Description], [b].[Title]
    FROM [SuperRentCart] AS [s]
    INNER JOIN [Books] AS [b] ON [s].[BookId] = [b].[Id]
) AS [t0] ON [t].[Id] = [t0].[UserId]
LEFT JOIN (
    SELECT [r].[UserId], [r].[BookId], [r].[DueDate], [r].[IsFined], [r].[RentId], [b0].[Id], [b0].[Author], [b0].[Category], [b0].[Description], [b0].[Title]
    FROM [RentCart] AS [r]
    INNER JOIN [Books] AS [b0] ON [r].[BookId] = [b0].[Id]
) AS [t1] ON [t].[Id] = [t1].[UserId]
ORDER BY [t].[Id], [c].[UserId], [c].[BookId], [t0].[UserId], [t0].[BookId], [t0].[Id], [t1].[UserId], [t1].[BookId]
INFO  01:17:22 Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Double), @p2='?' (DbType = Double), @p3='?' (DbType = Int32), @p4='?' (DbType = Double), @p5='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Sales] ([DateOfSale], [Discount], [FinalAmount], [NoOfBooks], [Total], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [SaleId]
FROM [Sales]
WHERE @@ROWCOUNT = 1 AND [SaleId] = scope_identity();
INFO  01:17:22 Executed DbCommand (3ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[BookId], [s].[PricePerBook], [s].[QuantityInStock]
FROM [SalesStocks] AS [s]
WHERE [s].[BookId] = @__key_0
INFO  01:17:22 Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = Double)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [SaleDetails] ([BookId], [SaleId], [Price], [Quantity])
VALUES (@p0, @p1, @p2, @p3);
INFO  01:17:22 Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[BookId], [s].[PricePerBook], [s].[QuantityInStock]
FROM [SalesStocks] AS [s]
WHERE [s].[BookId] = @__key_0
INFO  01:17:22 Executed DbCommand (3ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Double), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [SalesStocks] SET [PricePerBook] = @p0, [QuantityInStock] = @p1
WHERE [BookId] = @p2;
SELECT @@ROWCOUNT;
INFO  01:17:22 Executed DbCommand (3ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[UserId], [c].[BookId], [c].[Price], [c].[Quantity]
FROM [Cart] AS [c]
WHERE ([c].[UserId] = @__key1_0) AND ([c].[BookId] = @__key2_1)
INFO  01:17:22 Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [Cart]
WHERE [BookId] = @p0 AND [UserId] = @p1;
SELECT @@ROWCOUNT;
INFO  01:17:22 Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[BookId], [s].[PricePerBook], [s].[QuantityInStock]
FROM [SalesStocks] AS [s]
WHERE [s].[BookId] = @__key_0
INFO  01:17:22 Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (DbType = Double)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [SaleDetails] ([BookId], [SaleId], [Price], [Quantity])
VALUES (@p0, @p1, @p2, @p3);
INFO  01:17:22 Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[BookId], [s].[PricePerBook], [s].[QuantityInStock]
FROM [SalesStocks] AS [s]
WHERE [s].[BookId] = @__key_0
INFO  01:17:22 Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Double), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [SalesStocks] SET [PricePerBook] = @p0, [QuantityInStock] = @p1
WHERE [BookId] = @p2;
SELECT @@ROWCOUNT;
INFO  01:17:22 Executed DbCommand (3ms) [Parameters=[@__key1_0='?' (DbType = Int32), @__key2_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[UserId], [c].[BookId], [c].[Price], [c].[Quantity]
FROM [Cart] AS [c]
WHERE ([c].[UserId] = @__key1_0) AND ([c].[BookId] = @__key2_1)
INFO  01:17:22 Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [Cart]
WHERE [BookId] = @p0 AND [UserId] = @p1;
SELECT @@ROWCOUNT;
